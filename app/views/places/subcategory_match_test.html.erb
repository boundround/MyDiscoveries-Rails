
<div class="container blog-container">
<form method="get" name="one-minute" action="/places/subcategory_match">
  <h4>1 Minute Survey</h4>
  <label>My kids are: (check all that apply)</label><br>
  <input type="checkbox" id="zero-to-four" value="all ages" name="ages[]"><label for="zero-to-four">&nbsp;Under 5</label><br>
  <input type="checkbox" id="five-to-eight" value="5-8" name="ages[]"><label for="five-to-eight">&nbsp;5-8</label><br>
  <input type="checkbox" id="nine-to-twelve" value="9-12" name="ages[]"><label for="nine-to-twelve">&nbsp;9-12</label><br>
  <input type="checkbox" id="teenagers" value="teens" name="ages[]"><label for="teenagers">&nbsp;Teenagers</label><br>
  <div class="form-group">
    <label>I live in: (pick one)</label><br>
    - Australia<br>
    <input type="radio" name="region" value="new south wales" required>&nbsp;NSW<br>
    <input type="radio" value="victoria" name="region">&nbsp;VIC<br>
    <input type="radio" value="western australia" name="region">&nbsp;WA<br>
    <input type="radio" value="australian capital territory" name="region">&nbsp;ACT<br>
    <input type="radio" value="queensland north" name="region">&nbsp;QLD<br>
    <input type="radio" value="tasmania" name="region">&nbsp;TAS<br>
    <input type="radio" value="south australia" name="region">&nbsp;SA<br>
    <input type="radio" value="northern territory" name="region">&nbsp;NT<br>
    <input type="radio" value="international" name="region">&nbsp;International (please specify below)<br>
    <input type="text" name="international_region" class="form-control" style="height:50px;">
  </div>
  <p>
    <label>My family is most interested in: (pick your top three)</label><br>
    <input type="checkbox" id="subcat1" value="active" name="subcategories[]"><label for="subcat1">Active(playgrounds, sport, watersports, snow)</label><br>
    <input type="checkbox" id="subcat2" value="adventure" name="subcategories[]"><label for="subcat2">Adventure</label><br>
    <input type="checkbox" id="subcat3" value="culture" name="subcategories[]"><label for="subcat3">Culture (museums, galleries, historic, indigenous)</label><br>
    <input type="checkbox" id="subcat4" value="food" name="subcategories[]"><label for="subcat2">Food</label><br>
    <input type="checkbox" id="subcat5" value="movies" name="subcategories[]"><label for="subcat2">Movies</label><br>
    <input type="checkbox" id="subcat6" value="nature" name="subcategories[]"><label for="subcat2">Nature (nature reserves, parks)</label><br>
    <input type="checkbox" id="subcat7" value="science" name="subcategories[]"><label for="subcat2">Science &amp; technology</label><br>
    <input type="checkbox" id="subcat8" value="theme-parks" name="subcategories[]"><label for="subcat2">Theme parks</label><br>
  </p>
  <p>
    <label>Does your family have accessibility needs to be considered?</label><br>
    <input type="radio" name="accessibility" value="yes">&nbsp;Yes<br>
    <input type="radio" name="accessibility" value="no">&nbsp;No<br>
  </p>
  <p>
    <label>Confirm your email address</label><br>
    <input type="text" required name="email" class="form-control" style="height:50px;">
  </p>
  <input type="submit" value="Find my activity now!" class="btn btn-primary">
</form>
</div>
<script>
  var checkboxConfig = [
    {name: 'subcategories[]', limit: 3}
  ];

  for (var i = 0; i < checkboxConfig.length; i += 1) {
    setLimit(checkboxConfig[i].name, checkboxConfig[i].limit);
  }

  function setLimit(name, limit) {
    var els = document.getElementsByName(name),
        i;
    for (i = 0; i < els.length; i += 1) {
        els[i].onclick = checkboxClickHandler(els[i], limit);
    }
  }

  function checkboxClickHandler(el, limit) {
    return function () {
        limitCheckbox(el, limit);
    }
  }

  function limitCheckbox(el, max) {
    var count = 0,
        i;
    var checkboxes = document.getElementsByName(el.name);
    for (i = 0; i < checkboxes.length; i += 1) {
        if (checkboxes[i].checked) {
            count = count + 1;
		}
	}
    if (count > max) {
	    alert('Please select only ' + max + ' checkboxes.\nTo select this option unselect one of the others.');
    	    el.checked = false;
        }
    }

</script>
