function fixMobileOverflowTags(){var e=$(".dest-thing.search.cs-dest-thing-search");$.each(e,function(e,t){var i=$(t).find(".tags.tags-result");$(window).width()<=320?i.height()>35?$(t).css({height:"535px"}):i.height()>71&&$(t).css({height:"544px"}):$(window).width()<=425&&(i.height()>35?$(t).css({height:"488px"}):i.height()>71&&$(t).css({height:"544px"}))})}function setUpChart(){if($("#chart-area").length||$("#chart-area2").length){var e=$("#chart-area")[0].getContext("2d");window.myDoughnut=new Chart(e).Doughnut(doughnutData,{responsive:!0});var t=$("#chart-area2")[0].getContext("2d");window.myDoughnut=new Chart(t).Doughnut(doughnutData2,{responsive:!0})}}function funFact(){var e=$(".position-js");$.each(e,function(e,t){e%2!=0&&($(t).find(".fun-image").css({"float":"right",margin:"0"}),$(t).find(".number").css({left:"89px"}))}),item=$("#carousel-fun-fact").find(".item")[0],$(item).addClass("active")}function setupNav(){$(".navbar-toggle").click(function(){"false"==$(this).attr("aria-expanded")?($(this).find(".fa-bars").hide(),$(this).find(".fa-times").show()):($(this).find(".fa-bars").show(),$(this).find(".fa-times").hide())}),$("#fa-search-nav-xs").click(function(){$("#menu-nav").hide(),$("#search-nav").show(),$(".search-nav-mobile").focus()}),$("#fa-times-nav-xs").click(function(){$("#search-nav").hide(),$("#menu-nav").show()})}function setImagesPosition(){var e=$(".outer-js");$.each(e,function(e,t){var i=$(t).height();outerWidth=$(t).width(),inner=$(t).find(".inner-js"),inner.height()>i?(margin=inner.height()-i,margin/=2,$(inner).css({position:"relative",top:-margin})):($(inner).css({position:"relative",width:"initial",height:"100%"}),setTimeout(function(){margin=inner.width()-outerWidth,margin/=2,$(inner).css({left:-margin})},1e3))}),setTimeout(function(){var e=$(".top-outer-js");$.each(e,function(e,t){var i=$(t).height();outerWidth=$(t).width(),inner=$(t).find(".top-inner-js"),inner.height()>i&&(margin=inner.height()-i,margin/=2,$(inner).css({top:-margin}))})},1e3)}function setModalOpeningHour(){$("#OpeningHourModal").on("shown.bs.modal",function(){$("#myInput").focus()})}function setModalTickets(){$("#TicketsModal").on("shown.bs.modal",function(){$("#myInput").focus()})}function setModalReview(){$("#ReviewModal").on("shown.bs.modal",function(){$("#review_content").focus(),$("#review_content").val("")})}function setModalPhoto(){$("#PhotoModal").on("shown.bs.modal",function(){$("#myInput").focus()})}function setModalEditPhoto(){$("#EditPhotoModal").on("shown.bs.modal",function(){$("#myInput").focus()}),$(".edit-photo").on("click",function(){$("#EditPhotoModal").modal("hide"),$("#EditPhotoDataModal").modal("show")}),$(".back-edit-photo").on("click",function(){$("#EditPhotoModal").modal("show"),$("#EditPhotoDataModal").modal("hide")})}function setUpModalUserPhoto(){$("#user_photo_path").hide(),$("#icon-upload").click(function(){$("#user_photo_path").click()}),$("#image-preview").click(function(){$("#user_photo_path").click()})}function getThumbnail(){var e=$(".play-in-modal");e.length>0&&$.each(e,function(e,t){var i=$(t).data("id");if("youtube"==$(t).data("video")&&""==$(t).data("thumb"))$(t).css({"background-image":"url(http://img.youtube.com/vi/"+i+"/maxresdefault.jpg"});else if("vimeo"==$(t).data("video")&&""==$(t).data("thumb")){var n="https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+i;$.getJSON(n,function(e){$(t).css({"background-image":"url("+e.thumbnail_url+")"})})}})}function showAndPlayVideoOnModal(e){modal=e.data("modal"),vid_src=e.data("video-url"),$(modal).modal("show"),$(modal+" iframe").attr("src",vid_src+"?autoplay=1")}function countChars(e,t){var i=document.querySelector(e).value.length;document.querySelector(t).innerHTML=i}function resetchecked(e){if(void 0!=e)var t=$("input[data-facet="+e+"]");else var t=$("input[type=checkbox].facet-link");$.each(t,function(){$(this).hasClass("facet-refined")&&$(this).click()})}function video_play(){setTimeout(function(){$(".video_thumbnail").click(function(){console.log($(this).parent()),$(".small-video-component iframe").attr("src",$(this).data("src")),$("#videos-list.owl-carousel.carousel").prepend($(this).parent())}),$.each($(".title-wrapper"),function(e,t){$(t).data("content").length>50&&$(this).popover()})},500)}function mapAdmin(){if(document.querySelector("#pac-input")){var e=[],t=document.querySelector("#latitude"),i=document.querySelector("#longitude");t&&e.push(t.innerHTML),i&&e.push(i.innerHTML),2!==e.length&&(e=[-33.8688,151.2093]),$("#pac-input").geocomplete({types:["geocode","establishment"],map:"#map-canvas",location:e,markerOptions:{draggable:!0},details:"body",detailsAttribute:"data-geo"});var n=(new google.maps.places.PlacesService($("#pac-input").geocomplete("map")),$("#region_zoom_level").val()),a=$("#place_zoom_level").val();void 0!=n&&""!=n||void 0!=a&&""!=a?(void 0!=n?parseZoom=parseInt(n):void 0!=a&&(parseZoom=parseInt(a)),$("#pac-input").geocomplete("map").setZoom(parseZoom)):$("#pac-input").geocomplete("map").setZoom(4),$("#pac-input").geocomplete().bind("geocode:dragged",function(e,t){$("#pac-input").geocomplete("find",t.lat()+","+t.lng())}).bind("geocode:idle",function(){var e=$(".container").data("controller").slice(0,-1);$("#"+e+"_zoom_level").val($("#pac-input").geocomplete("map").zoom),$("#zoom_text").text($("#"+e+"_zoom_level").val())})}}function detailsArea(){var e,t={af:"Afrikaans",agq:"Aghem",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",as:"Assamese",asa:"Asu",az:"Azerbaijani",ksf:"Bafia",bm:"Bambara",bas:"Basaa",eu:"Basque",be:"Belarusian",bem:"Bemba",bez:"Bena",bn:"Bengali",brx:"Bodo",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",tzm:"Central Morocco Tamazight",chr:"Cherokee",cgg:"Chiga",zh:"Chinese",swc:"Congo Swahili",kw:"Cornish",hr:"Croatian",cs:"Czech",da:"Danish",dua:"Duala",nl:"Dutch",ebu:"Embu",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",ewo:"Ewondo",fo:"Faroese",fil:"Filipino",fi:"Finnish",fr:"French",ff:"Fulah",gl:"Galician",lg:"Ganda",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",guz:"Gusii",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",dyo:"Jola-Fonyi",kea:"Kabuverdianu",kab:"Kabyle",kl:"Kalaallisut",kln:"Kalenjin",kam:"Kamba",kn:"Kannada",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda",kok:"Konkani",ko:"Korean",khq:"Koyra Chiini",ses:"Koyraboro Senni",nmg:"Kwasio",lag:"Langi",lv:"Latvian",ln:"Lingala",lt:"Lithuanian",lu:"Luba-Katanga",luo:"Luo",luy:"Luyia",mk:"Macedonian",jmc:"Machame",mgh:"Makhuwa-Meetto",kde:"Makonde",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",gv:"Manx",mr:"Marathi",mas:"Masai",mer:"Meru",mfe:"Morisyen",mua:"Mundang",naq:"Nama",ne:"Nepali",nd:"North Ndebele",nb:"Norwegian Bokm\xe5l",nn:"Norwegian Nynorsk",nus:"Nuer",nyn:"Nyankole",or:"Oriya",om:"Oromo",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",ro:"Romanian",rm:"Romansh",rof:"Rombo",rn:"Rundi",ru:"Russian",rwk:"Rwa",saq:"Samburu",sg:"Sango",sbp:"Sangu",seh:"Sena",sr:"Serbian",ksb:"Shambala",sn:"Shona",ii:"Sichuan Yi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",xog:"Soga",so:"Somali",es:"Spanish",sw:"Swahili",sv:"Swedish",gsw:"Swiss German",shi:"Tachelhit",dav:"Taita",ta:"Tamil",twq:"Tasawaq",te:"Telugu",teo:"Teso",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tongan",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vai:"Vai",vi:"Vietnamese",vun:"Vunjo",cy:"Welsh",yav:"Yangben",yo:"Yoruba",dje:"Zarma",zu:"Zulu"},i=$("#country-data").data("country-code");i&&$.ajax({url:"//restcountries.eu/rest/v1/alpha/"+i,type:"GET",success:function(i){var n=i.population.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),a=i.region;if($("#country-population").append(n),$("#region").append(a),e=i.languages,""===$("#language").html())for(var s=0;s<e.length;s++)t[e[s]]&&$("#language").append(t[e[s]]+"<br>")}})}function addToFav(){$(".icon-favourite").click(function(){var e=($(this),$(this).data("klass")),t=e.charAt(0).toUpperCase()+e.slice(1),i=$(this).data("user-id"),n=$(this).data("place-id"),a=$(this).data("post-path"),s={};switch(e){case"place":s.places_user={user_id:i,place_id:n};break;case"post":s.posts_user={user_id:i,post_id:n};break;case"story":s.stories_user={user_id:i,story_id:n};break;case"attraction":s.attractions_user={user_id:i,attraction_id:n};break;case"region":s.regions_user={user_id:i,region_id:n};break;case"country":s.countries_user={user_id:i,country_id:n};break;case"offer":s.offers_user={user_id:i,offer_id:n}}if("no-user"==i)$("#singIn").modal();else if($(this).data("liked")===!1||"false"===$(this).data("liked"))$.ajax({type:"POST",url:"/"+a+"/create",data:s}),$(".favourites-title").text("Remove From Favourites"),$(".text-favourite-place").text("Remove From Favourites"),$(this).toggleClass("search-page-card__to-bucket-list--liked"),$("#dataBucket"+t).data("bucketlist").push(n),$(this).data("liked",!0);else if($(this).data("liked")===!0||"true"===$(this).data("liked")){$.ajax({type:"POST",_method:"delete",url:"/"+a+"/destroy",data:s}),$(".favourites-title").text("Add To Favourites"),$(".text-favourite-place").text("Add To Favourites"),$(this).toggleClass("search-page-card__to-bucket-list--liked");var o=$("#dataBucket"+t).data("bucketlist").indexOf(n);$("#dataBucket"+t).data("bucketlist").splice(o,1),$(this).data("liked",!1)}})}function setFeaturedStory(){$(".featured-story").change(function(){var e=$(this).data("id"),t=$(this).prop("checked"),i={};i.story={id:e,featured:t},$.ajax({type:"POST",url:"/stories/featured",data:i})})}function setUpLoadMore(){var e=$("section.cards");$.each(e,function(e,t){var i=$(t).find(".card");btn=$(t).find(".load-more"),i.length>3?(i.slice(-3).hide(),btn.click(function(){i.slice(-3).show(),btn.remove()})):btn.remove()});var t=$(".review-content");t.css("cursor","pointer"),$.each(t,function(e,t){$(t).click(function(){$(this).find(".some-text").html($(this).find(".some-text").data("full-text"))})}),$(".readmore-area").click(function(){$(".destination-desc").siblings(".destination-desc").toggle(),$(".readmore-area").siblings(".readmore-area").toggle()});var i=$(".blog-content");$.each(i,function(e,t){text=$(t).text(),$(t).text(text.substring(0,280)+"...")})}function setUpfileUpload(e,t){$(e).MultiFile({list:t,max:10,accept:"jpg|png|gif|mp4|3gp"})}function responsiveModalVideo(){var e=$(".responsive-video-modal iframe");$(window).width()>=5e3?(e.prop("width","100%"),e.prop("height","1950px")):$(window).width()>=3e3&&$(window).width()<5e3?(e.prop("width","100%"),e.prop("height","1550px")):$(window).width()>=1920&&$(window).width()<3e3?(e.prop("width","100%"),e.prop("height","830px")):$(window).width()>=1024&&$(window).width()<1920?(e.prop("width","920px"),e.prop("height","525px")):$(window).width()>=500&&$(window).width()<1024?(e.prop("width","600px"),e.prop("height","345px")):$(window).width()>415&&$(window).width()<500?(e.prop("width","320px"),e.prop("height","180px")):$(window).width()<=414&&(e.prop("width","270px"),e.prop("height","155px"))}function chooseHero(){$('input[name="hero_image"]').click(function(){$('input[name="hero_image"]').not(this).prop("checked",!1),$(this).prop("checked",!0);var e=$(this).data("type");place_id=$(this).data("place"),photo_id=$(this).data("photo"),data_from=$(this).data("from"),"attraction"==data_from?e?window.location="/attractions/"+place_id+"/update_hero/"+e+"/"+photo_id:alert("choose another image"):"story"==data_from?e?window.location="/stories/"+place_id+"/update_hero/"+e+"/"+photo_id:alert("choose another image"):"region"==data_from?e?window.location="/regions/"+place_id+"/update_hero/"+e+"/"+photo_id:alert("choose another image"):"country"==data_from?e?window.location="/countries/"+place_id+"/update_hero/"+e+"/"+photo_id:alert("choose another image"):"offer"==data_from?e?window.location="/offers/"+place_id+"/update_hero/"+e+"/"+photo_id:alert("choose another image"):e?window.location="/places/"+place_id+"/update_hero/"+e+"/"+photo_id:alert("choose another image")})}function init(){var e=document.getElementById("dest-map");if(null!=e){var t=JSON.parse(e.getAttribute("data-map")),i=t[0][5],n=t[0][6];if(""==e.getAttribute("data-zoom")||null==e.getAttribute("data-zoom"))var a=4;else var a=JSON.parse(e.getAttribute("data-zoom"));for(var s,o,r,l,c,u,d,h,p,f,m={center:new google.maps.LatLng(i,n),zoom:a,zoomControl:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.DEFAULT},disableDoubleClickZoom:!0,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR},scaleControl:!0,scrollwheel:!1,panControl:!0,streetViewControl:!0,draggable:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!1},mapTypeId:google.maps.MapTypeId.ROADMAP},g=new google.maps.Map(e,m),v=0;v<t.length;v++)s=""==t[v][0]?"":t[v][0],o=""==t[v][1]?"":t[v][1],r=""==t[v][2]?"":t[v][2],l=""==t[v][3]?"":t[v][3],c=""==t[v][4]?"":t[v][4],u=""==t[v][5]?"":t[v][5],d=""==t[v][5]?"":t[v][6],h=""==t[v][7]?"":t[v][7],p=new google.maps.Marker({icon:h,position:new google.maps.LatLng(u,d),map:g,title:s,desc:o,tel:r,email:l,web:c}),f=""}}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=ae.type(e);return"function"===i||ae.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(ae.isFunction(t))return ae.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ae.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(he.test(t))return ae.filter(t,e,i);t=ae.filter(t,e)}return ae.grep(e,function(e){return ae.inArray(e,t)>=0!==i})}function a(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=we[e]={};return ae.each(e.match(be)||[],function(e,i){t[i]=!0}),t}function o(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1)):(fe.detachEvent("onreadystatechange",r),e.detachEvent("onload",r))}function r(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(o(),ae.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Se,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Te.test(i)?ae.parseJSON(i):i}catch(a){}ae.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!ae.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,i,n){if(ae.acceptData(e)){var a,s,o=ae.expando,r=e.nodeType,l=r?ae.cache:e,c=r?e[o]:e[o]&&o;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=r?e[o]=X.pop()||ae.guid++:o),l[c]||(l[c]=r?{}:{toJSON:ae.noop}),"object"!=typeof t&&"function"!=typeof t||(n?l[c]=ae.extend(l[c],t):l[c].data=ae.extend(l[c].data,t)),s=l[c],n||(s.data||(s.data={}),s=s.data),void 0!==i&&(s[ae.camelCase(t)]=i),"string"==typeof t?(a=s[t],null==a&&(a=s[ae.camelCase(t)])):a=s,a}}function d(e,t,i){if(ae.acceptData(e)){var n,a,s=e.nodeType,o=s?ae.cache:e,r=s?e[ae.expando]:ae.expando;if(o[r]){if(t&&(n=i?o[r]:o[r].data)){ae.isArray(t)?t=t.concat(ae.map(t,ae.camelCase)):t in n?t=[t]:(t=ae.camelCase(t),t=t in n?[t]:t.split(" ")),a=t.length;for(;a--;)delete n[t[a]];if(i?!c(n):!ae.isEmptyObject(n))return}(i||(delete o[r].data,c(o[r])))&&(s?ae.cleanData([e],!0):ie.deleteExpando||o!=o.window?delete o[r]:o[r]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(e){}}function m(e){var t=Re.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,n,a=0,s=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],i=e.childNodes||e;null!=(n=i[a]);a++)!t||ae.nodeName(n,t)?s.push(n):ae.merge(s,g(n,t));return void 0===t||t&&ae.nodeName(e,t)?ae.merge([e],s):s}function v(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ae.nodeName(e,"table")&&ae.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ae.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var i,n=0;null!=(i=e[n]);n++)ae._data(i,"globalEval",!t||ae._data(t[n],"globalEval"))}function x(e,t){if(1===t.nodeType&&ae.hasData(e)){var i,n,a,s=ae._data(e),o=ae._data(t,s),r=s.events;if(r){delete o.handle,o.events={};for(i in r)for(n=0,a=r[i].length;a>n;n++)ae.event.add(t,i,r[i][n])}o.data&&(o.data=ae.extend({},o.data))}}function C(e,t){var i,n,a;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[ae.expando]){a=ae._data(t);for(n in a.events)ae.removeEvent(t,n,a.handle);t.removeAttribute(ae.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!ae.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function T(t,i){var n,a=ae(i.createElement(t)).appendTo(i.body),s=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(a[0]))?n.display:ae.css(a[0],"display");return a.detach(),s}function S(e){var t=fe,i=Ze[e];return i||(i=T(e,t),"none"!==i&&i||(Je=(Je||ae("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Je[0].contentWindow||Je[0].contentDocument).document,t.write(),t.close(),i=T(e,t),Je.detach()),Ze[e]=i),i}function k(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,a=ht.length;a--;)if(t=ht[a]+i,t in e)return t;return n}function D(e,t){for(var i,n,a,s=[],o=0,r=e.length;r>o;o++)n=e[o],n.style&&(s[o]=ae._data(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&De(n)&&(s[o]=ae._data(n,"olddisplay",S(n.nodeName)))):(a=De(n),(i&&"none"!==i||!a)&&ae._data(n,"olddisplay",a?i:ae.css(n,"display"))));for(o=0;r>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function P(e,t,i){var n=lt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function A(e,t,i,n,a){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=ae.css(e,i+Ee[s],!0,a)),n?("content"===i&&(o-=ae.css(e,"padding"+Ee[s],!0,a)),"margin"!==i&&(o-=ae.css(e,"border"+Ee[s]+"Width",!0,a))):(o+=ae.css(e,"padding"+Ee[s],!0,a),"padding"!==i&&(o+=ae.css(e,"border"+Ee[s]+"Width",!0,a)));return o}function I(e,t,i){var n=!0,a="width"===t?e.offsetWidth:e.offsetHeight,s=et(e),o=ie.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,s);if(0>=a||null==a){if(a=tt(e,t,s),(0>a||null==a)&&(a=e.style[t]),nt.test(a))return a;n=o&&(ie.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+A(e,t,i||(o?"border":"content"),n,s)+"px"}function M(e,t,i,n,a){return new M.prototype.init(e,t,i,n,a)}function N(){return setTimeout(function(){pt=void 0}),pt=ae.now()}function j(e,t){var i,n={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)i=Ee[a],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function O(e,t,i){for(var n,a=(bt[t]||[]).concat(bt["*"]),s=0,o=a.length;o>s;s++)if(n=a[s].call(i,t,e))return n}function R(e,t,i){var n,a,s,o,r,l,c,u,d=this,h={},p=e.style,f=e.nodeType&&De(e),m=ae._data(e,"fxshow");i.queue||(r=ae._queueHooks(e,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,d.always(function(){d.always(function(){r.unqueued--,ae.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=ae.css(e,"display"),u="none"===c?ae._data(e,"olddisplay")||S(e.nodeName):c,"inline"===u&&"none"===ae.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ie.shrinkWrapBlocks()||d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(a=t[n],mt.exec(a)){if(delete t[n],s=s||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!m||void 0===m[n])continue;f=!0}h[n]=m&&m[n]||ae.style(e,n)}else c=void 0;if(ae.isEmptyObject(h))"inline"===("none"===c?S(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ae._data(e,"fxshow",{}),s&&(m.hidden=!f),f?ae(e).show():d.done(function(){ae(e).hide()}),d.done(function(){var t;ae._removeData(e,"fxshow");for(t in h)ae.style(e,t,h[t])});for(n in h)o=O(f?m[n]:0,n,d),n in m||(m[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function L(e,t){var i,n,a,s,o;for(i in e)if(n=ae.camelCase(i),a=t[n],s=e[i],ae.isArray(s)&&(a=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),o=ae.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=a)}else t[n]=a}function $(e,t,i){var n,a,s=0,o=yt.length,r=ae.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=pt||N(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,s=1-n,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return r.notifyWith(e,[c,s,i]),1>s&&l?i:(r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:ae.extend({},t),opts:ae.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:pt||N(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ae.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;n>i;i++)c.tweens[i].run(1);return t?r.resolveWith(e,[c,t]):r.rejectWith(e,[c,t]),this}}),u=c.props;for(L(u,c.opts.specialEasing);o>s;s++)if(n=yt[s].call(c,e,u,c.opts))return n;return ae.map(u,O,c),ae.isFunction(c.opts.start)&&c.opts.start.call(e,c),ae.fx.timer(ae.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,a=0,s=t.toLowerCase().match(be)||[];if(ae.isFunction(i))for(;n=s[a++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function z(e,t,i,n){function a(r){var l;return s[r]=!0,ae.each(e[r]||[],function(e,r){var c=r(t,i,n);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}var s={},o=e===Wt;return a(t.dataTypes[0])||!s["*"]&&a("*")}function B(e,t){var i,n,a=ae.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&ae.extend(!0,e,i),e}function H(e,t,i){for(var n,a,s,o,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in r)if(r[o]&&r[o].test(a)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}n||(n=o)}s=s||n}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function W(e,t,i,n){var a,s,o,r,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=c[l+" "+s]||c["* "+s],!o)for(a in c)if(r=a.split(" "),r[1]===s&&(o=c[l+" "+r[0]]||c["* "+r[0]])){o===!0?o=c[a]:c[a]!==!0&&(s=r[0],u.unshift(r[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function q(e,t,i,n){var a;if(ae.isArray(t))ae.each(t,function(t,a){i||Vt.test(e)?n(e,a):q(e+"["+("object"==typeof a?t:"")+"]",a,i,n)});else if(i||"object"!==ae.type(t))n(e,t);else for(a in t)q(e+"["+a+"]",t[a],i,n)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function Y(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ae.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],G=X.slice,K=X.concat,Q=X.push,J=X.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie={},ne="1.11.1",ae=function(e,t){return new ae.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,re=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ae.fn=ae.prototype={jquery:ne,constructor:ae,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=ae.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ae.each(this,e,t)},map:function(e){return this.pushStack(ae.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:X.sort,splice:X.splice},ae.extend=ae.fn.extend=function(){var e,t,i,n,a,s,o=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[r]||{},r++),"object"==typeof o||ae.isFunction(o)||(o={}),r===l&&(o=this,r--);l>r;r++)if(null!=(a=arguments[r]))for(n in a)e=o[n],i=a[n],o!==i&&(c&&i&&(ae.isPlainObject(i)||(t=ae.isArray(i)))?(t?(t=!1,s=e&&ae.isArray(e)?e:[]):s=e&&ae.isPlainObject(e)?e:{},o[n]=ae.extend(c,s,i)):void 0!==i&&(o[n]=i));return o},ae.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ae.type(e)},isArray:Array.isArray||function(e){return"array"===ae.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ae.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ae.type(e)||e.nodeType||ae.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ae.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(oe,"ms-").replace(re,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var a,s=0,o=e.length,r=i(e);if(n){if(r)for(;o>s&&(a=t.apply(e[s],n),a!==!1);s++);else for(s in e)if(a=t.apply(e[s],n),a===!1)break}else if(r)for(;o>s&&(a=t.call(e[s],s,e[s]),a!==!1);s++);else for(s in e)if(a=t.call(e[s],s,e[s]),a===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ae.merge(n,"string"==typeof e?[e]:e):Q.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(J)return J.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,a=e.length;i>n;)e[a++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[a++]=t[n++];return e.length=a,e},grep:function(e,t,i){for(var n,a=[],s=0,o=e.length,r=!i;o>s;s++)n=!t(e[s],s),n!==r&&a.push(e[s]);return a},map:function(e,t,n){var a,s=0,o=e.length,r=i(e),l=[];if(r)for(;o>s;s++)a=t(e[s],s,n),null!=a&&l.push(a);else for(s in e)a=t(e[s],s,n),null!=a&&l.push(a);return K.apply([],l)},guid:1,proxy:function(e,t){var i,n,a;return"string"==typeof t&&(a=e[t],t=e,e=a),ae.isFunction(e)?(i=G.call(arguments,2),n=function(){return e.apply(t||this,i.concat(G.call(arguments)))},n.guid=e.guid=e.guid||ae.guid++,n):void 0},now:function(){return+new Date},support:ie}),ae.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,i,n){var a,s,o,r,l,c,d,p,f,m;if((t?t.ownerDocument||t:z)!==M&&I(t),t=t||M,i=i||[],!e||"string"!=typeof e)return i;if(1!==(r=t.nodeType)&&9!==r)return[];if(j&&!n){if(a=ye.exec(e))if(o=a[1]){if(9===r){if(s=t.getElementById(o),!s||!s.parentNode)return i;if(s.id===o)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&$(t,s)&&s.id===o)return i.push(s),i}else{if(a[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((o=a[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(o)),i}if(_.qsa&&(!O||!O.test(e))){if(p=d=F,f=t,m=9===r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(d=t.getAttribute("id"))?p=d.replace(we,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{d||t.removeAttribute("id")}}}return E(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[F]=!0,e}function a(e){var t=M.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=e.length;n--;)x.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function r(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var a,s=e([],i.length,t),o=s.length;o--;)i[a=s[o]]&&(i[a]=!(n[a]=i[a]))})})}function u(e){return e&&typeof e.getElementsByTagName!==V&&e}function d(){}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,a=i&&"parentNode"===n,s=H++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,s)}:function(t,i,o){var r,l,c=[B,s];if(o){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||a){if(l=t[F]||(t[F]={}),(r=l[n])&&r[0]===B&&r[1]===s)return c[2]=r[2];if(l[n]=c,c[2]=e(t,i,o))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var a=e.length;a--;)if(!e[a](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var a=0,s=i.length;s>a;a++)t(e,i[a],n);return n}function g(e,t,i,n,a){for(var s,o=[],r=0,l=e.length,c=null!=t;l>r;r++)(s=e[r])&&(i&&!i(s,n,a)||(o.push(s),c&&t.push(r)));return o}function v(e,t,i,a,s,o){return a&&!a[F]&&(a=v(a)),s&&!s[F]&&(s=v(s,o)),n(function(n,o,r,l){var c,u,d,h=[],p=[],f=o.length,v=n||m(t||"*",r.nodeType?[r]:r,[]),y=!e||!n&&t?v:g(v,h,e,r,l),b=i?s||(n?e:f||a)?[]:o:y;if(i&&i(y,b,r,l),a)for(c=g(b,p),a(c,[],r,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(y[p[u]]=d));if(n){if(s||e){if(s){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);s(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=s?te.call(n,d):h[u])>-1&&(n[c]=!(o[c]=d))}}else b=g(b===o?b.splice(f,b.length):b),s?s(null,o,b,l):Z.apply(o,b)})}function y(e){for(var t,i,n,a=e.length,s=x.relative[e[0].type],o=s||x.relative[" "],r=s?1:0,l=p(function(e){return e===t},o,!0),c=p(function(e){return te.call(t,e)>-1},o,!0),u=[function(e,i,n){return!s&&(n||i!==D)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];a>r;r++)if(i=x.relative[e[r].type])u=[p(f(u),i)];else{if(i=x.filter[e[r].type].apply(null,e[r].matches),i[F]){for(n=++r;a>n&&!x.relative[e[n].type];n++);return v(r>1&&f(u),r>1&&h(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(le,"$1"),i,n>r&&y(e.slice(r,n)),a>n&&y(e=e.slice(n)),a>n&&h(e))}u.push(i)}return f(u)}function b(e,i){var a=i.length>0,s=e.length>0,o=function(n,o,r,l,c){var u,d,h,p=0,f="0",m=n&&[],v=[],y=D,b=n||s&&x.find.TAG("*",c),w=B+=null==y?1:Math.random()||.1,_=b.length;for(c&&(D=o!==M&&o);f!==_&&null!=(u=b[f]);f++){if(s&&u){for(d=0;h=e[d++];)if(h(u,o,r)){l.push(u);break}c&&(B=w)}a&&((u=!h&&u)&&p--,n&&m.push(u))}if(p+=f,a&&f!==p){for(d=0;h=i[d++];)h(m,v,o,r);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Q.call(l));v=g(v);
}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(B=w,D=y),m};return a?n(o):o}var w,_,x,C,T,S,k,E,D,P,A,I,M,N,j,O,R,L,$,F="sizzle"+-new Date,z=e.document,B=0,H=0,W=i(),q=i(),U=i(),Y=function(e,t){return e===t&&(A=!0),0},V="undefined",X=1<<31,G={}.hasOwnProperty,K=[],Q=K.pop,J=K.push,Z=K.push,ee=K.slice,te=K.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=ae.replace("w","w#"),oe="\\["+ne+"*("+ae+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+ne+"*\\]",re=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(re),pe=new RegExp("^"+se+"$"),fe={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(K=ee.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(Ce){Z={apply:K.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}_=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:z,n=i.defaultView;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,N=i.documentElement,j=!T(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){I()},!1):n.attachEvent&&n.attachEvent("onunload",function(){I()})),_.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=a(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(i.getElementsByClassName)&&a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),_.getById=a(function(e){return N.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),_.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==V&&j){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){var i=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],a=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[a++];)1===i.nodeType&&n.push(i);return n}return s},x.find.CLASS=_.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&j?t.getElementsByClassName(e):void 0},R=[],O=[],(_.qsa=ve.test(i.querySelectorAll))&&(a(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&O.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ne+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),a(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(_.matchesSelector=ve.test(L=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&a(function(e){_.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),R.push("!=",re)}),O=O.length&&new RegExp(O.join("|")),R=R.length&&new RegExp(R.join("|")),t=ve.test(N.compareDocumentPosition),$=t||ve.test(N.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===z&&$(z,e)?-1:t===i||t.ownerDocument===z&&$(z,t)?1:P?te.call(P,e)-te.call(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,a=0,s=e.parentNode,r=t.parentNode,l=[e],c=[t];if(!s||!r)return e===i?-1:t===i?1:s?-1:r?1:P?te.call(P,e)-te.call(P,t):0;if(s===r)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[a]===c[a];)a++;return a?o(l[a],c[a]):l[a]===z?-1:c[a]===z?1:0},i):M},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==M&&I(e),i=i.replace(de,"='$1']"),_.matchesSelector&&j&&(!R||!R.test(i))&&(!O||!O.test(i)))try{var n=L.call(e,i);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(a){}return t(i,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&I(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&I(e);var i=x.attrHandle[t.toLowerCase()],n=i&&G.call(x.attrHandle,t.toLowerCase())?i(e,t,!j):void 0;return void 0!==n?n:_.attributes||!j?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,a=0;if(A=!_.detectDuplicates,P=!_.sortStable&&e.slice(0),e.sort(Y),A){for(;t=e[a++];)t===e[a]&&(n=i.push(a));for(;n--;)e.splice(i[n],1)}return P=null,e},C=t.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=C(t);return i},x=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=S(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(a){var s=t.attr(a,e);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,a){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),r="of-type"===t;return 1===n&&0===a?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,p,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=r&&t.nodeName.toLowerCase(),y=!l&&!r;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(r?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(u=g[F]||(g[F]={}),c=u[e]||[],p=c[0]===B&&c[1],h=c[0]===B&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[B,p,h];break}}else if(y&&(c=(t[F]||(t[F]={}))[e])&&c[0]===B)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((r?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[F]||(d[F]={}))[e]=[B,h]),d!==t)););return h-=a,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(e,i){var a,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[F]?s(i):s.length>1?(a=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,a=s(e,i),o=a.length;o--;)n=te.call(e,a[o]),e[n]=!(t[n]=a[o])}):function(e){return s(e,0,a)}):s}},pseudos:{not:n(function(e){var t=[],i=[],a=k(e.replace(le,"$1"));return a[F]?n(function(e,t,i,n){for(var s,o=a(e,null,n,[]),r=e.length;r--;)(s=o[r])&&(e[r]=!(t[r]=s))}):function(e,n,s){return t[0]=e,a(t,null,s,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,xe).toLowerCase(),function(t){var i;do if(i=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=r(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,S=t.tokenize=function(e,i){var n,a,s,o,r,l,c,u=q[e+" "];if(u)return i?0:u.slice(0);for(r=e,l=[],c=x.preFilter;r;){n&&!(a=ce.exec(r))||(a&&(r=r.slice(a[0].length)||r),l.push(s=[])),n=!1,(a=ue.exec(r))&&(n=a.shift(),s.push({value:n,type:a[0].replace(le," ")}),r=r.slice(n.length));for(o in x.filter)!(a=fe[o].exec(r))||c[o]&&!(a=c[o](a))||(n=a.shift(),s.push({value:n,type:o,matches:a}),r=r.slice(n.length));if(!n)break}return i?r.length:r?t.error(e):q(e,l).slice(0)},k=t.compile=function(e,t){var i,n=[],a=[],s=U[e+" "];if(!s){for(t||(t=S(e)),i=t.length;i--;)s=y(t[i]),s[F]?n.push(s):a.push(s);s=U(e,b(a,n)),s.selector=e}return s},E=t.select=function(e,t,i,n){var a,s,o,r,l,c="function"==typeof e&&e,d=!n&&S(e=c.selector||e);if(i=i||[],1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&_.getById&&9===t.nodeType&&j&&x.relative[s[1].type]){if(t=(x.find.ID(o.matches[0].replace(_e,xe),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(a=fe.needsContext.test(e)?0:s.length;a--&&(o=s[a],!x.relative[r=o.type]);)if((l=x.find[r])&&(n=l(o.matches[0].replace(_e,xe),be.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(a,1),e=n.length&&h(s),!e)return Z.apply(i,n),i;break}}return(c||k(e,d))(n,t,!j,i,be.test(e)&&u(t.parentNode)||t),i},_.sortStable=F.split("").sort(Y).join("")===F,_.detectDuplicates=!!A,I(),_.sortDetached=a(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||s(ie,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ae.find=ce,ae.expr=ce.selectors,ae.expr[":"]=ae.expr.pseudos,ae.unique=ce.uniqueSort,ae.text=ce.getText,ae.isXMLDoc=ce.isXML,ae.contains=ce.contains;var ue=ae.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;ae.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ae.find.matchesSelector(n,e)?[n]:[]:ae.find.matches(e,ae.grep(t,function(e){return 1===e.nodeType}))},ae.fn.extend({find:function(e){var t,i=[],n=this,a=n.length;if("string"!=typeof e)return this.pushStack(ae(e).filter(function(){for(t=0;a>t;t++)if(ae.contains(n[t],this))return!0}));for(t=0;a>t;t++)ae.find(e,n[t],i);return i=this.pushStack(a>1?ae.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ue.test(e)?ae(e):e||[],!1).length}});var pe,fe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ae.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ae?t[0]:t,ae.merge(this,ae.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),de.test(i[1])&&ae.isPlainObject(t))for(i in t)ae.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=fe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return pe.find(e);this.length=1,this[0]=n}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ae.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ae):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ae.makeArray(e,this))};ge.prototype=ae.fn,pe=ae(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ae.extend({dir:function(e,t,i){for(var n=[],a=e[t];a&&9!==a.nodeType&&(void 0===i||1!==a.nodeType||!ae(a).is(i));)1===a.nodeType&&n.push(a),a=a[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),ae.fn.extend({has:function(e){var t,i=ae(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ae.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,a=this.length,s=[],o=ue.test(e)||"string"!=typeof e?ae(e,t||this.context):0;a>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&ae.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?ae.unique(s):s)},index:function(e){return e?"string"==typeof e?ae.inArray(this[0],ae(e)):ae.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ae.unique(ae.merge(this.get(),ae(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ae.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ae.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ae.dir(e,"parentNode",i)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ae.dir(e,"nextSibling")},prevAll:function(e){return ae.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ae.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ae.dir(e,"previousSibling",i)},siblings:function(e){return ae.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ae.sibling(e.firstChild)},contents:function(e){return ae.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ae.merge([],e.childNodes)}},function(e,t){ae.fn[e]=function(i,n){var a=ae.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=ae.filter(n,a)),this.length>1&&(ye[e]||(a=ae.unique(a)),ve.test(e)&&(a=a.reverse())),this.pushStack(a)}});var be=/\S+/g,we={};ae.Callbacks=function(e){e="string"==typeof e?we[e]||s(e):ae.extend({},e);var t,i,n,a,o,r,l=[],c=!e.once&&[],u=function(s){for(i=e.memory&&s,n=!0,o=r||0,r=0,a=l.length,t=!0;l&&a>o;o++)if(l[o].apply(s[0],s[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):i?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function s(t){ae.each(t,function(t,i){var n=ae.type(i);"function"===n?e.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==n&&s(i)})}(arguments),t?a=l.length:i&&(r=n,u(i))}return this},remove:function(){return l&&ae.each(arguments,function(e,i){for(var n;(n=ae.inArray(i,l,n))>-1;)l.splice(n,1),t&&(a>=n&&a--,o>=n&&o--)}),this},has:function(e){return e?ae.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||d.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||n&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):u(i)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},ae.extend({Deferred:function(e){var t=[["resolve","done",ae.Callbacks("once memory"),"resolved"],["reject","fail",ae.Callbacks("once memory"),"rejected"],["notify","progress",ae.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ae.Deferred(function(i){ae.each(t,function(t,s){var o=ae.isFunction(e[t])&&e[t];a[s[1]](function(){var e=o&&o.apply(this,arguments);e&&ae.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ae.extend(e,n):n}},a={};return n.pipe=n.then,ae.each(t,function(e,s){var o=s[2],r=s[3];n[s[1]]=o.add,r&&o.add(function(){i=r},t[1^e][2].disable,t[2][2].lock),a[s[0]]=function(){return a[s[0]+"With"](this===a?n:this,arguments),this},a[s[0]+"With"]=o.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){var t,i,n,a=0,s=G.call(arguments),o=s.length,r=1!==o||e&&ae.isFunction(e.promise)?o:0,l=1===r?e:ae.Deferred(),c=function(e,i,n){return function(a){i[e]=this,n[e]=arguments.length>1?G.call(arguments):a,n===t?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>a;a++)s[a]&&ae.isFunction(s[a].promise)?s[a].promise().done(c(a,n,s)).fail(l.reject).progress(c(a,i,t)):--r;return r||l.resolveWith(n,s),l.promise()}});var _e;ae.fn.ready=function(e){return ae.ready.promise().done(e),this},ae.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ae.readyWait++:ae.ready(!0)},ready:function(e){if(e===!0?!--ae.readyWait:!ae.isReady){if(!fe.body)return setTimeout(ae.ready);ae.isReady=!0,e!==!0&&--ae.readyWait>0||(_e.resolveWith(fe,[ae]),ae.fn.triggerHandler&&(ae(fe).triggerHandler("ready"),ae(fe).off("ready")))}}}),ae.ready.promise=function(t){if(!_e)if(_e=ae.Deferred(),"complete"===fe.readyState)setTimeout(ae.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1);else{fe.attachEvent("onreadystatechange",r),e.attachEvent("onload",r);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(n){}i&&i.doScroll&&!function a(){if(!ae.isReady){try{i.doScroll("left")}catch(e){return setTimeout(a,50)}o(),ae.ready()}}()}return _e.promise(t)};var xe,Ce="undefined";for(xe in ae(ie))break;ie.ownLast="0"!==xe,ie.inlineBlockNeedsLayout=!1,ae(function(){var e,t,i,n;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(t){ie.deleteExpando=!1}}e=null}(),ae.acceptData=function(e){var t=ae.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;ae.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ae.cache[e[ae.expando]]:e[ae.expando],!!e&&!c(e)},data:function(e,t,i){return u(e,t,i)},removeData:function(e,t){return d(e,t)},_data:function(e,t,i){return u(e,t,i,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ae.fn.extend({data:function(e,t){var i,n,a,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(a=ae.data(s),1===s.nodeType&&!ae._data(s,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=ae.camelCase(n.slice(5)),l(s,n,a[n])));ae._data(s,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){ae.data(this,e)}):arguments.length>1?this.each(function(){ae.data(this,e,t)}):s?l(s,e,ae.data(s,e)):void 0},removeData:function(e){return this.each(function(){ae.removeData(this,e)})}}),ae.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=ae._data(e,t),i&&(!n||ae.isArray(i)?n=ae._data(e,t,ae.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=ae.queue(e,t),n=i.length,a=i.shift(),s=ae._queueHooks(e,t),o=function(){ae.dequeue(e,t)};"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===t&&i.unshift("inprogress"),delete s.stop,a.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ae._data(e,i)||ae._data(e,i,{empty:ae.Callbacks("once memory").add(function(){ae._removeData(e,t+"queue"),ae._removeData(e,i)})})}}),ae.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ae.queue(this[0],e):void 0===t?this:this.each(function(){var i=ae.queue(this,e,t);ae._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ae.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ae.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,a=ae.Deferred(),s=this,o=this.length,r=function(){--n||a.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=ae._data(s[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(r));return r(),a.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],De=function(e,t){return e=t||e,"none"===ae.css(e,"display")||!ae.contains(e.ownerDocument,e)},Pe=ae.access=function(e,t,i,n,a,s,o){var r=0,l=e.length,c=null==i;if("object"===ae.type(i)){a=!0;for(r in i)ae.access(e,t,r,i[r],!0,s,o)}else if(void 0!==n&&(a=!0,ae.isFunction(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(ae(e),i)})),t))for(;l>r;r++)t(e[r],i,o?n:n.call(e[r],r,t(e[r],i)));return a?e:c?t.call(e):l?t(e[0],i):s},Ae=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),i=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(n){ie.deleteExpando=!1}}}(),function(){var t,i,n=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),ie[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ie=/^(?:input|select|textarea)$/i,Me=/^key/,Ne=/^(?:mouse|pointer|contextmenu)|click/,je=/^(?:focusinfocus|focusoutblur)$/,Oe=/^([^.]*)(?:\.(.+)|)$/;ae.event={global:{},add:function(e,t,i,n,a){var s,o,r,l,c,u,d,h,p,f,m,g=ae._data(e);if(g){for(i.handler&&(l=i,i=l.handler,a=l.selector),i.guid||(i.guid=ae.guid++),(o=g.events)||(o=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof ae===Ce||e&&ae.event.triggered===e.type?void 0:ae.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(be)||[""],r=t.length;r--;)s=Oe.exec(t[r])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(c=ae.event.special[p]||{},p=(a?c.delegateType:c.bindType)||p,c=ae.event.special[p]||{},d=ae.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&ae.expr.match.needsContext.test(a),namespace:f.join(".")},l),(h=o[p])||(h=o[p]=[],h.delegateCount=0,c.setup&&c.setup.call(e,n,f,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),ae.event.global[p]=!0);e=null}},remove:function(e,t,i,n,a){var s,o,r,l,c,u,d,h,p,f,m,g=ae.hasData(e)&&ae._data(e);if(g&&(u=g.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(r=Oe.exec(t[c])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(d=ae.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=u[p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)o=h[s],!a&&m!==o.origType||i&&i.guid!==o.guid||r&&!r.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,d.remove&&d.remove.call(e,o));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||ae.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ae.event.remove(e,p+t[c],i,n,!0);ae.isEmptyObject(u)&&(delete g.handle,ae._removeData(e,"events"))}},trigger:function(t,i,n,a){var s,o,r,l,c,u,d,h=[n||fe],p=te.call(t,"type")?t.type:t,f=te.call(t,"namespace")?t.namespace.split("."):[];if(r=u=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!je.test(p+ae.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,t=t[ae.expando]?t:new ae.Event(p,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:ae.makeArray(i,[t]),c=ae.event.special[p]||{},a||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!a&&!c.noBubble&&!ae.isWindow(n)){for(l=c.delegateType||p,je.test(l+p)||(r=r.parentNode);r;r=r.parentNode)h.push(r),u=r;u===(n.ownerDocument||fe)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(r=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||p,s=(ae._data(r,"events")||{})[t.type]&&ae._data(r,"handle"),s&&s.apply(r,i),s=o&&r[o],s&&s.apply&&ae.acceptData(r)&&(t.result=s.apply(r,i),t.result===!1&&t.preventDefault());if(t.type=p,!a&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),i)===!1)&&ae.acceptData(n)&&o&&n[p]&&!ae.isWindow(n)){u=n[o],u&&(n[o]=null),ae.event.triggered=p;try{n[p]()}catch(m){}ae.event.triggered=void 0,u&&(n[o]=u)}return t.result}},dispatch:function(e){e=ae.event.fix(e);var t,i,n,a,s,o=[],r=G.call(arguments),l=(ae._data(this,"events")||{})[e.type]||[],c=ae.event.special[e.type]||{};if(r[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=ae.event.handlers.call(this,e,l),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,s=0;(n=a.handlers[s++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(n.namespace)||(e.handleObj=n,e.data=n.data,i=((ae.event.special[n.origType]||{}).handle||n.handler).apply(a.elem,r),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,a,s,o=[],r=t.delegateCount,l=e.target;if(r&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(a=[],s=0;r>s;s++)n=t[s],i=n.selector+" ",void 0===a[i]&&(a[i]=n.needsContext?ae(i,this).index(l)>=0:ae.find(i,this,null,[l]).length),a[i]&&a.push(n);a.length&&o.push({elem:l,handlers:a})}return r<t.length&&o.push({elem:this,handlers:t.slice(r)}),o},fix:function(e){if(e[ae.expando])return e;var t,i,n,a=e.type,s=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Ne.test(a)?this.mouseHooks:Me.test(a)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new ae.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=s.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,a,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||fe,a=n.documentElement,i=n.body,e.pageX=t.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ae.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ae.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var a=ae.extend(new ae.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ae.event.trigger(a,null,t):ae.event.dispatch.call(t,a),a.isDefaultPrevented()&&i.preventDefault()}},ae.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1);
}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===Ce&&(e[n]=null),e.detachEvent(n,i))},ae.Event=function(e,t){return this instanceof ae.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&ae.extend(this,t),this.timeStamp=e&&e.timeStamp||ae.now(),void(this[ae.expando]=!0)):new ae.Event(e,t)},ae.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ae.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ae.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,a=e.relatedTarget,s=e.handleObj;return a&&(a===n||ae.contains(n,a))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(ae.event.special.submit={setup:function(){return ae.nodeName(this,"form")?!1:void ae.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=ae.nodeName(t,"input")||ae.nodeName(t,"button")?t.form:void 0;i&&!ae._data(i,"submitBubbles")&&(ae.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ae._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ae.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ae.nodeName(this,"form")?!1:void ae.event.remove(this,"._submit")}}),ie.changeBubbles||(ae.event.special.change={setup:function(){return Ie.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ae.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ae.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ae.event.simulate("change",this,e,!0)})),!1):void ae.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ie.test(t.nodeName)&&!ae._data(t,"changeBubbles")&&(ae.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ae.event.simulate("change",this.parentNode,e,!0)}),ae._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ae.event.remove(this,"._change"),!Ie.test(this.nodeName)}}),ie.focusinBubbles||ae.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ae.event.simulate(t,e.target,ae.event.fix(e),!0)};ae.event.special[t]={setup:function(){var n=this.ownerDocument||this,a=ae._data(n,t);a||n.addEventListener(e,i,!0),ae._data(n,t,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=ae._data(n,t)-1;a?ae._data(n,t,a):(n.removeEventListener(e,i,!0),ae._removeData(n,t))}}}),ae.fn.extend({on:function(e,t,i,n,a){var s,o;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(s in e)this.on(s,t,i,e[s],a);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=p;else if(!n)return this;return 1===a&&(o=n,n=function(e){return ae().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=ae.guid++)),this.each(function(){ae.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,a;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ae(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=p),this.each(function(){ae.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?ae.event.trigger(e,t,i,!0):void 0}});var Re="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Le=/ jQuery\d+="(?:null|\d+)"/g,$e=new RegExp("<(?:"+Re+")[\\s/>]","i"),Fe=/^\s+/,ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Be=/<([\w:]+)/,He=/<tbody/i,We=/<|&#?\w+;/,qe=/<(?:script|style|link)/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ke=m(fe),Qe=Ke.appendChild(fe.createElement("div"));Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td,ae.extend({clone:function(e,t,i){var n,a,s,o,r,l=ae.contains(e.ownerDocument,e);if(ie.html5Clone||ae.isXMLDoc(e)||!$e.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(s=Qe.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(n=g(s),r=g(e),o=0;null!=(a=r[o]);++o)n[o]&&C(a,n[o]);if(t)if(i)for(r=r||g(e),n=n||g(s),o=0;null!=(a=r[o]);o++)x(a,n[o]);else x(e,s);return n=g(s,"script"),n.length>0&&_(n,!l&&g(e,"script")),n=r=a=null,s},buildFragment:function(e,t,i,n){for(var a,s,o,r,l,c,u,d=e.length,h=m(t),p=[],f=0;d>f;f++)if(s=e[f],s||0===s)if("object"===ae.type(s))ae.merge(p,s.nodeType?[s]:s);else if(We.test(s)){for(r=r||h.appendChild(t.createElement("div")),l=(Be.exec(s)||["",""])[1].toLowerCase(),u=Ge[l]||Ge._default,r.innerHTML=u[1]+s.replace(ze,"<$1></$2>")+u[2],a=u[0];a--;)r=r.lastChild;if(!ie.leadingWhitespace&&Fe.test(s)&&p.push(t.createTextNode(Fe.exec(s)[0])),!ie.tbody)for(s="table"!==l||He.test(s)?"<table>"!==u[1]||He.test(s)?0:r:r.firstChild,a=s&&s.childNodes.length;a--;)ae.nodeName(c=s.childNodes[a],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ae.merge(p,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=h.lastChild}else p.push(t.createTextNode(s));for(r&&h.removeChild(r),ie.appendChecked||ae.grep(g(p,"input"),v),f=0;s=p[f++];)if((!n||-1===ae.inArray(s,n))&&(o=ae.contains(s.ownerDocument,s),r=g(h.appendChild(s),"script"),o&&_(r),i))for(a=0;s=r[a++];)Ye.test(s.type||"")&&i.push(s);return r=null,h},cleanData:function(e,t){for(var i,n,a,s,o=0,r=ae.expando,l=ae.cache,c=ie.deleteExpando,u=ae.event.special;null!=(i=e[o]);o++)if((t||ae.acceptData(i))&&(a=i[r],s=a&&l[a])){if(s.events)for(n in s.events)u[n]?ae.event.remove(i,n):ae.removeEvent(i,n,s.handle);l[a]&&(delete l[a],c?delete i[r]:typeof i.removeAttribute!==Ce?i.removeAttribute(r):i[r]=null,X.push(a))}}}),ae.fn.extend({text:function(e){return Pe(this,function(e){return void 0===e?ae.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ae.filter(e,this):this,a=0;null!=(i=n[a]);a++)t||1!==i.nodeType||ae.cleanData(g(i)),i.parentNode&&(t&&ae.contains(i.ownerDocument,i)&&_(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ae.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ae.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Le,""):void 0;if("string"==typeof e&&!qe.test(e)&&(ie.htmlSerialize||!$e.test(e))&&(ie.leadingWhitespace||!Fe.test(e))&&!Ge[(Be.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ze,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(ae.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ae.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var i,n,a,s,o,r,l=0,c=this.length,u=this,d=c-1,h=e[0],p=ae.isFunction(h);if(p||c>1&&"string"==typeof h&&!ie.checkClone&&Ue.test(h))return this.each(function(i){var n=u.eq(i);p&&(e[0]=h.call(this,i,n.html())),n.domManip(e,t)});if(c&&(r=ae.buildFragment(e,this[0].ownerDocument,!1,this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(s=ae.map(g(r,"script"),b),a=s.length;c>l;l++)n=r,l!==d&&(n=ae.clone(n,!0,!0),a&&ae.merge(s,g(n,"script"))),t.call(this[l],n,l);if(a)for(o=s[s.length-1].ownerDocument,ae.map(s,w),l=0;a>l;l++)n=s[l],Ye.test(n.type||"")&&!ae._data(n,"globalEval")&&ae.contains(o,n)&&(n.src?ae._evalUrl&&ae._evalUrl(n.src):ae.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Xe,"")));r=i=null}return this}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ae.fn[e]=function(e){for(var i,n=0,a=[],s=ae(e),o=s.length-1;o>=n;n++)i=n===o?this:this.clone(!0),ae(s[n])[t](i),Q.apply(a,i.get());return this.pushStack(a)}});var Je,Ze={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var et,tt,it=/^margin/,nt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),at=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tt=function(e,t,i){var n,a,s,o,r=e.style;return i=i||et(e),o=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==o||ae.contains(e.ownerDocument,e)||(o=ae.style(e,t)),nt.test(o)&&it.test(t)&&(n=r.width,a=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=i.width,r.width=n,r.minWidth=a,r.maxWidth=s)),void 0===o?o:o+""}):fe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,i){var n,a,s,o,r=e.style;return i=i||et(e),o=i?i[t]:void 0,null==o&&r&&r[t]&&(o=r[t]),nt.test(o)&&!at.test(t)&&(n=r.left,a=e.runtimeStyle,s=a&&a.left,s&&(a.left=e.currentStyle.left),r.left="fontSize"===t?"1em":o,o=r.pixelLeft+"px",r.left=n,s&&(a.left=s)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,i,n,a;i=fe.getElementsByTagName("body")[0],i&&i.style&&(t=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s=o=!1,l=!0,e.getComputedStyle&&(s="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,a=t.appendChild(fe.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",r=0===a[0].offsetHeight,r&&(a[0].style.display="",a[1].style.display="none",r=0===a[0].offsetHeight),i.removeChild(n))}var i,n,a,s,o,r,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=i.getElementsByTagName("a")[0],n=a&&a.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,ae.extend(ie,{reliableHiddenOffsets:function(){return null==r&&t(),r},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==s&&t(),s},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ae.swap=function(e,t,i,n){var a,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];a=i.apply(e,n||[]);for(s in t)e.style[s]=o[s];return a};var st=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/,rt=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+ke+")(.*)$","i"),ct=new RegExp("^([+-])=("+ke+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ht=["Webkit","O","Moz","ms"];ae.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=tt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,o,r=ae.camelCase(t),l=e.style;if(t=ae.cssProps[r]||(ae.cssProps[r]=E(l,r)),o=ae.cssHooks[t]||ae.cssHooks[r],void 0===i)return o&&"get"in o&&void 0!==(a=o.get(e,!1,n))?a:l[t];if(s=typeof i,"string"===s&&(a=ct.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(ae.css(e,t)),s="number"),null!=i&&i===i&&("number"!==s||ae.cssNumber[r]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(i=o.set(e,i,n)))))try{l[t]=i}catch(c){}}},css:function(e,t,i,n){var a,s,o,r=ae.camelCase(t);return t=ae.cssProps[r]||(ae.cssProps[r]=E(e.style,r)),o=ae.cssHooks[t]||ae.cssHooks[r],o&&"get"in o&&(s=o.get(e,!0,i)),void 0===s&&(s=tt(e,t,n)),"normal"===s&&t in dt&&(s=dt[t]),""===i||i?(a=parseFloat(s),i===!0||ae.isNumeric(a)?a||0:s):s}}),ae.each(["height","width"],function(e,t){ae.cssHooks[t]={get:function(e,i,n){return i?rt.test(ae.css(e,"display"))&&0===e.offsetWidth?ae.swap(e,ut,function(){return I(e,t,n)}):I(e,t,n):void 0},set:function(e,i,n){var a=n&&et(e);return P(e,i,n?A(e,t,n,ie.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,a),a):0)}}}),ie.opacity||(ae.cssHooks.opacity={get:function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,a=ae.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ae.trim(s.replace(st,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=st.test(s)?s.replace(st,a):s+" "+a)}}),ae.cssHooks.marginRight=k(ie.reliableMarginRight,function(e,t){return t?ae.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),ae.each({margin:"",padding:"",border:"Width"},function(e,t){ae.cssHooks[e+t]={expand:function(i){for(var n=0,a={},s="string"==typeof i?i.split(" "):[i];4>n;n++)a[e+Ee[n]+t]=s[n]||s[n-2]||s[0];return a}},it.test(e)||(ae.cssHooks[e+t].set=P)}),ae.fn.extend({css:function(e,t){return Pe(this,function(e,t,i){var n,a,s={},o=0;if(ae.isArray(t)){for(n=et(e),a=t.length;a>o;o++)s[t[o]]=ae.css(e,t[o],!1,n);return s}return void 0!==i?ae.style(e,t,i):ae.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){De(this)?ae(this).show():ae(this).hide()})}}),ae.Tween=M,M.prototype={constructor:M,init:function(e,t,i,n,a,s){this.elem=e,this.prop=i,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(ae.cssNumber[i]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,i=M.propHooks[this.prop];return this.options.duration?this.pos=t=ae.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ae.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ae.fx.step[e.prop]?ae.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ae.cssProps[e.prop]]||ae.cssHooks[e.prop])?ae.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ae.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ae.fx=M.prototype.init,ae.fx.step={};var pt,ft,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[R],bt={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),a=gt.exec(t),s=a&&a[3]||(ae.cssNumber[e]?"":"px"),o=(ae.cssNumber[e]||"px"!==s&&+n)&&gt.exec(ae.css(i.elem,e)),r=1,l=20;if(o&&o[3]!==s){s=s||o[3],a=a||[],o=+n||1;do r=r||".5",o/=r,ae.style(i.elem,e,o+s);while(r!==(r=i.cur()/n)&&1!==r&&--l)}return a&&(o=i.start=+o||+n||0,i.unit=s,i.end=a[1]?o+(a[1]+1)*a[2]:+a[2]),i}]};ae.Animation=ae.extend($,{tweener:function(e,t){ae.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,a=e.length;a>n;n++)i=e[n],bt[i]=bt[i]||[],bt[i].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ae.speed=function(e,t,i){var n=e&&"object"==typeof e?ae.extend({},e):{complete:i||!i&&t||ae.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ae.isFunction(t)&&t};return n.duration=ae.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ae.fx.speeds?ae.fx.speeds[n.duration]:ae.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){ae.isFunction(n.old)&&n.old.call(this),n.queue&&ae.dequeue(this,n.queue)},n},ae.fn.extend({fadeTo:function(e,t,i,n){return this.filter(De).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var a=ae.isEmptyObject(e),s=ae.speed(t,i,n),o=function(){var t=$(this,ae.extend({},e),s);(a||ae._data(this,"finish"))&&t.stop(!0)};return o.finish=o,a||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",s=ae.timers,o=ae._data(this);if(a)o[a]&&o[a].stop&&n(o[a]);else for(a in o)o[a]&&o[a].stop&&vt.test(a)&&n(o[a]);for(a=s.length;a--;)s[a].elem!==this||null!=e&&s[a].queue!==e||(s[a].anim.stop(i),t=!1,s.splice(a,1));!t&&i||ae.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ae._data(this),n=i[e+"queue"],a=i[e+"queueHooks"],s=ae.timers,o=n?n.length:0;for(i.finish=!0,ae.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ae.each(["toggle","show","hide"],function(e,t){var i=ae.fn[t];ae.fn[t]=function(e,n,a){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(j(t,!0),e,n,a)}}),ae.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ae.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ae.timers=[],ae.fx.tick=function(){var e,t=ae.timers,i=0;for(pt=ae.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||ae.fx.stop(),pt=void 0},ae.fx.timer=function(e){ae.timers.push(e),e()?ae.fx.start():ae.timers.pop()},ae.fx.interval=13,ae.fx.start=function(){ft||(ft=setInterval(ae.fx.tick,ae.fx.interval))},ae.fx.stop=function(){clearInterval(ft),ft=null},ae.fx.speeds={slow:600,fast:200,_default:400},ae.fn.delay=function(e,t){return e=ae.fx?ae.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,a;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=fe.createElement("select"),a=i.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=a.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!a.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var wt=/\r/g;ae.fn.extend({val:function(e){var t,i,n,a=this[0];{if(arguments.length)return n=ae.isFunction(e),this.each(function(i){var a;1===this.nodeType&&(a=n?e.call(this,i,ae(this).val()):e,null==a?a="":"number"==typeof a?a+="":ae.isArray(a)&&(a=ae.map(a,function(e){return null==e?"":e+""})),t=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return t=ae.valHooks[a.type]||ae.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(a,"value"))?i:(i=a.value,"string"==typeof i?i.replace(wt,""):null==i?"":i)}}}),ae.extend({valHooks:{option:{get:function(e){var t=ae.find.attr(e,"value");return null!=t?t:ae.trim(ae.text(e))}},select:{get:function(e){for(var t,i,n=e.options,a=e.selectedIndex,s="select-one"===e.type||0>a,o=s?null:[],r=s?a+1:n.length,l=0>a?r:s?a:0;r>l;l++)if(i=n[l],(i.selected||l===a)&&(ie.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ae.nodeName(i.parentNode,"optgroup"))){if(t=ae(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,a=e.options,s=ae.makeArray(t),o=a.length;o--;)if(n=a[o],ae.inArray(ae.valHooks.option.get(n),s)>=0)try{n.selected=i=!0}catch(r){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),a}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(e,t){return ae.isArray(t)?e.checked=ae.inArray(ae(e).val(),t)>=0:void 0}},ie.checkOn||(ae.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var _t,xt,Ct=ae.expr.attrHandle,Tt=/^(?:checked|selected)$/i,St=ie.getSetAttribute,kt=ie.input;ae.fn.extend({attr:function(e,t){return Pe(this,ae.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ae.removeAttr(this,e)})}}),ae.extend({attr:function(e,t,i){var n,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Ce?ae.prop(e,t,i):(1===s&&ae.isXMLDoc(e)||(t=t.toLowerCase(),n=ae.attrHooks[t]||(ae.expr.match.bool.test(t)?xt:_t)),void 0===i?n&&"get"in n&&null!==(a=n.get(e,t))?a:(a=ae.find.attr(e,t),null==a?void 0:a):null!==i?n&&"set"in n&&void 0!==(a=n.set(e,i,t))?a:(e.setAttribute(t,i+""),i):void ae.removeAttr(e,t))},removeAttr:function(e,t){var i,n,a=0,s=t&&t.match(be);if(s&&1===e.nodeType)for(;i=s[a++];)n=ae.propFix[i]||i,ae.expr.match.bool.test(i)?kt&&St||!Tt.test(i)?e[n]=!1:e[ae.camelCase("default-"+i)]=e[n]=!1:ae.attr(e,i,""),e.removeAttribute(St?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&ae.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),xt={set:function(e,t,i){return t===!1?ae.removeAttr(e,i):kt&&St||!Tt.test(i)?e.setAttribute(!St&&ae.propFix[i]||i,i):e[ae.camelCase("default-"+i)]=e[i]=!0,i}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(e,t){var i=Ct[t]||ae.find.attr;Ct[t]=kt&&St||!Tt.test(t)?function(e,t,n){var a,s;return n||(s=Ct[t],Ct[t]=a,a=null!=i(e,t,n)?t.toLowerCase():null,Ct[t]=s),a}:function(e,t,i){return i?void 0:e[ae.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&St||(ae.attrHooks.value={set:function(e,t,i){return ae.nodeName(e,"input")?void(e.defaultValue=t):_t&&_t.set(e,t,i)}}),St||(_t={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},ae.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:_t.set},ae.attrHooks.contenteditable={set:function(e,t,i){_t.set(e,""===t?!1:t,i)}},ae.each(["width","height"],function(e,t){ae.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ie.style||(ae.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Et=/^(?:input|select|textarea|button|object)$/i,Dt=/^(?:a|area)$/i;ae.fn.extend({prop:function(e,t){return Pe(this,ae.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ae.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ae.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,a,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!ae.isXMLDoc(e),s&&(t=ae.propFix[t]||t,a=ae.propHooks[t]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:e[t]=i:a&&"get"in a&&null!==(n=a.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ae.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||ae.each(["href","src"],function(e,t){ae.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(ae.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),ie.enctype||(ae.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;ae.fn.extend({addClass:function(e){var t,i,n,a,s,o,r=0,l=this.length,c="string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):" ")){for(s=0;a=t[s++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");o=ae.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,n,a,s,o,r=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pt," "):"")){for(s=0;a=t[s++];)for(;n.indexOf(" "+a+" ")>=0;)n=n.replace(" "+a+" "," ");o=e?ae.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ae.isFunction(e)?this.each(function(i){ae(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,a=ae(this),s=e.match(be)||[];t=s[n++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else i!==Ce&&"boolean"!==i||(this.className&&ae._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ae._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pt," ").indexOf(t)>=0)return!0;return!1}}),ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ae.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ae.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var At=ae.now(),It=/\?/,Mt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ae.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,a=ae.trim(t+"");return a&&!ae.trim(a.replace(Mt,function(e,t,a,s){return i&&t&&(n=0),0===n?e:(i=a||t,n+=!s-!a,"")}))?Function("return "+a)():ae.error("Invalid JSON: "+t)},ae.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(a){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ae.error("Invalid XML: "+t),i};var Nt,jt,Ot=/#.*$/,Rt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,zt=/^\/\//,Bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ht={},Wt={},qt="*/".concat("*");try{jt=location.href}catch(Ut){jt=fe.createElement("a"),jt.href="",jt=jt.href}Nt=Bt.exec(jt.toLowerCase())||[],ae.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt,type:"GET",isLocal:$t.test(Nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,ae.ajaxSettings),t):B(ae.ajaxSettings,e)},ajaxPrefilter:F(Ht),ajaxTransport:F(Wt),ajax:function(e,t){function i(e,t,i,n){var a,u,v,y,w,x=t;2!==b&&(b=2,r&&clearTimeout(r),c=void 0,o=n||"",_.readyState=e>0?4:0,a=e>=200&&300>e||304===e,i&&(y=H(d,_,i)),y=W(d,y,_,a),a?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(ae.lastModified[s]=w),w=_.getResponseHeader("etag"),w&&(ae.etag[s]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,u=y.data,v=y.error,a=!v)):(v=x,!e&&x||(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",a?f.resolveWith(h,[u,x,_]):f.rejectWith(h,[_,x,v]),_.statusCode(g),g=void 0,l&&p.trigger(a?"ajaxSuccess":"ajaxError",[_,d,a?u:v]),m.fireWith(h,[_,x]),l&&(p.trigger("ajaxComplete",[_,d]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,a,s,o,r,l,c,u,d=ae.ajaxSetup({},t),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?ae(h):ae.event,f=ae.Deferred(),m=ae.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Lt.exec(o);)u[t[1].toLowerCase()]=t[2];
t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),i(0,t),this}};if(f.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||jt)+"").replace(Ot,"").replace(zt,Nt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ae.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(n=Bt.exec(d.url.toLowerCase()),d.crossDomain=!(!n||n[1]===Nt[1]&&n[2]===Nt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Nt[3]||("http:"===Nt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ae.param(d.data,d.traditional)),z(Ht,d,t,_),2===b)return _;l=d.global,l&&0===ae.active++&&ae.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ft.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(It.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Rt.test(s)?s.replace(Rt,"$1_="+At++):s+(It.test(s)?"&":"?")+"_="+At++)),d.ifModified&&(ae.lastModified[s]&&_.setRequestHeader("If-Modified-Since",ae.lastModified[s]),ae.etag[s]&&_.setRequestHeader("If-None-Match",ae.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qt+"; q=0.01":""):d.accepts["*"]);for(a in d.headers)_.setRequestHeader(a,d.headers[a]);if(d.beforeSend&&(d.beforeSend.call(h,_,d)===!1||2===b))return _.abort();w="abort";for(a in{success:1,error:1,complete:1})_[a](d[a]);if(c=z(Wt,d,t,_)){_.readyState=1,l&&p.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(r=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,c.send(v,i)}catch(x){if(!(2>b))throw x;i(-1,x)}}else i(-1,"No Transport");return _},getJSON:function(e,t,i){return ae.get(e,t,i,"json")},getScript:function(e,t){return ae.get(e,void 0,t,"script")}}),ae.each(["get","post"],function(e,t){ae[t]=function(e,i,n,a){return ae.isFunction(i)&&(a=a||n,n=i,i=void 0),ae.ajax({url:e,type:t,dataType:a,data:i,success:n})}}),ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ae.fn[t]=function(e){return this.on(t,e)}}),ae._evalUrl=function(e){return ae.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ae.fn.extend({wrapAll:function(e){if(ae.isFunction(e))return this.each(function(t){ae(this).wrapAll(e.call(this,t))});if(this[0]){var t=ae(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ae.isFunction(e)?this.each(function(t){ae(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ae(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ae.isFunction(e);return this.each(function(i){ae(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()}}),ae.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ae.css(e,"display"))},ae.expr.filters.visible=function(e){return!ae.expr.filters.hidden(e)};var Yt=/%20/g,Vt=/\[\]$/,Xt=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Kt=/^(?:input|select|textarea|keygen)/i;ae.param=function(e,t){var i,n=[],a=function(e,t){t=ae.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ae.ajaxSettings&&ae.ajaxSettings.traditional),ae.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){a(this.name,this.value)});else for(i in e)q(i,e[i],t,a);return n.join("&").replace(Yt,"+")},ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ae.prop(this,"elements");return e?ae.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ae(this).is(":disabled")&&Kt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var i=ae(this).val();return null==i?null:ae.isArray(i)?ae.map(i,function(e){return{name:t.name,value:e.replace(Xt,"\r\n")}}):{name:t.name,value:i.replace(Xt,"\r\n")}}).get()}}),ae.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||Y()}:U;var Qt=0,Jt={},Zt=ae.ajaxSettings.xhr();e.ActiveXObject&&ae(e).on("unload",function(){for(var e in Jt)Jt[e](void 0,!0)}),ie.cors=!!Zt&&"withCredentials"in Zt,Zt=ie.ajax=!!Zt,Zt&&ae.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,n){var a,s=e.xhr(),o=++Qt;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)void 0!==i[a]&&s.setRequestHeader(a,i[a]+"");s.send(e.hasContent&&e.data||null),t=function(i,a){var r,l,c;if(t&&(a||4===s.readyState))if(delete Jt[o],t=void 0,s.onreadystatechange=ae.noop,a)4!==s.readyState&&s.abort();else{c={},r=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(u){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&n(r,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Jt[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ae.globalEval(e),e}}}),ae.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ae.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||ae("head")[0]||fe.documentElement;return{send:function(n,a){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||a(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ei=[],ti=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ei.pop()||ae.expando+"_"+At++;return this[e]=!0,e}}),ae.ajaxPrefilter("json jsonp",function(t,i,n){var a,s,o,r=t.jsonp!==!1&&(ti.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");return r||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=ae.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(ti,"$1"+a):t.jsonp!==!1&&(t.url+=(It.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||ae.error(a+" was not called"),o[0]},t.dataTypes[0]="json",s=e[a],e[a]=function(){o=arguments},n.always(function(){e[a]=s,t[a]&&(t.jsonpCallback=i.jsonpCallback,ei.push(a)),o&&ae.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),ae.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var n=de.exec(e),a=!i&&[];return n?[t.createElement(n[1])]:(n=ae.buildFragment([e],t,a),a&&a.length&&ae(a).remove(),ae.merge([],n.childNodes))};var ii=ae.fn.load;ae.fn.load=function(e,t,i){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var n,a,s,o=this,r=e.indexOf(" ");return r>=0&&(n=ae.trim(e.slice(r,e.length)),e=e.slice(0,r)),ae.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&ae.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){a=arguments,o.html(n?ae("<div>").append(ae.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){o.each(i,a||[e.responseText,t,e])}),this},ae.expr.filters.animated=function(e){return ae.grep(ae.timers,function(t){return e===t.elem}).length};var ni=e.document.documentElement;ae.offset={setOffset:function(e,t,i){var n,a,s,o,r,l,c,u=ae.css(e,"position"),d=ae(e),h={};"static"===u&&(e.style.position="relative"),r=d.offset(),s=ae.css(e,"top"),l=ae.css(e,"left"),c=("absolute"===u||"fixed"===u)&&ae.inArray("auto",[s,l])>-1,c?(n=d.position(),o=n.top,a=n.left):(o=parseFloat(s)||0,a=parseFloat(l)||0),ae.isFunction(t)&&(t=t.call(e,i,r)),null!=t.top&&(h.top=t.top-r.top+o),null!=t.left&&(h.left=t.left-r.left+a),"using"in t?t.using.call(e,h):d.css(h)}},ae.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ae.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return t=s.documentElement,ae.contains(t,a)?(typeof a.getBoundingClientRect!==Ce&&(n=a.getBoundingClientRect()),i=V(s),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ae.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ae.nodeName(e[0],"html")||(i=e.offset()),i.top+=ae.css(e[0],"borderTopWidth",!0),i.left+=ae.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ae.css(n,"marginTop",!0),left:t.left-i.left-ae.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ni;e&&!ae.nodeName(e,"html")&&"static"===ae.css(e,"position");)e=e.offsetParent;return e||ni})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);ae.fn[e]=function(n){return Pe(this,function(e,n,a){var s=V(e);return void 0===a?s?t in s?s[t]:s.document.documentElement[n]:e[n]:void(s?s.scrollTo(i?ae(s).scrollLeft():a,i?a:ae(s).scrollTop()):e[n]=a)},e,n,arguments.length,null)}}),ae.each(["top","left"],function(e,t){ae.cssHooks[t]=k(ie.pixelPosition,function(e,i){return i?(i=tt(e,t),nt.test(i)?ae(e).position()[t]+"px":i):void 0})}),ae.each({Height:"height",Width:"width"},function(e,t){ae.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){ae.fn[n]=function(n,a){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||a===!0?"margin":"border");return Pe(this,function(t,i,n){var a;return ae.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===n?ae.css(t,i,o):ae.style(t,i,n,o)},t,s?n:void 0,s,null)}})}),ae.fn.size=function(){return this.length},ae.fn.andSelf=ae.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ae});var ai=e.jQuery,si=e.$;return ae.noConflict=function(t){return e.$===ae&&(e.$=si),t&&e.jQuery===ae&&(e.jQuery=ai),ae},typeof t===Ce&&(e.jQuery=e.$=ae),ae}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)},fire:function(t,i,n){var a=e.Event(i);return t.trigger(a,n),a.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},handleRemote:function(n){var a,s,o,r,l,c;if(i.fire(n,"ajax:before")){if(r=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){a=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var u=n.data("ujs:submit-button");u&&(o.push(u),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(a=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(a=n.data("method")||"get",s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(a=n.data("method"),s=i.href(n),o=n.data("params")||null);return c={type:a||"GET",data:o,dataType:l,beforeSend:function(e,a){return a.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),i.fire(n,"ajax:beforeSend",[e,a])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(s)},r&&(c.xhrFields={withCredentials:r}),s&&(c.url=s),i.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var a=i.href(n),s=n.data("method"),o=n.attr("target"),r=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+a+'"></form>'),u='<input name="_method" value="'+s+'" type="hidden" />';l===t||r===t||i.isCrossDomain(a)||(u+='<input name="'+l+'" value="'+r+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),n!==t&&e[i](n),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),a=!1;return n?(i.fire(e,"confirm")&&(a=i.confirm(n),t=i.fire(e,"confirm:complete",[a])),a&&t):!0},blankInputs:function(t,i,n){var a,s,o=e(),r=i||"input,textarea",l=t.find(r);return l.each(function(){if(a=e(this),s=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!s==!n){if(a.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;o=o.add(a)}}),o.length?o:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var a=e(this),s=a.data("method"),o=a.data("params"),r=n.metaKey||n.ctrlKey;if(!i.allowAction(a))return i.stopEverything(n);if(!r&&a.is(i.linkDisableSelector)&&i.disableElement(a),a.data("remote")!==t){if(r&&(!s||"GET"===s)&&!o)return!0;var l=i.handleRemote(a);return l===!1?i.enableElement(a):l.error(function(){i.enableElement(a)}),!1}return a.data("method")?(i.handleMethod(a),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var a=i.handleRemote(n);return a===!1?i.enableFormElement(n):a.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var a,s,o=e(this),r=o.data("remote")!==t;if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")==t&&(a=i.blankInputs(o,i.requiredInputSelector),a&&i.fire(o,"ajax:aborted:required",[a])))return i.stopEverything(n);if(r){if(s=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var a=n.attr("name"),s=a?{name:a,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var a,s,o,r=t.nodeName.toLowerCase();return"area"===r?(a=t.parentNode,s=a.name,t.href&&s&&"map"===a.nodeName.toLowerCase()?(o=e("img[usemap='#"+s+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,a=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:a.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),a=isNaN(n);return(a||n>=0)&&t(i,!a)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(s,n(this,t)+"px")})},e.fn["outer"+i]=function(t,a){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(s,n(this,t,!0,a)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,a=e(this[0]);a.length&&a[0]!==document;){if(i=a.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(a.css("zIndex"),10),!isNaN(n)&&0!==n))return n;a=a.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var a,s=e.ui[t].prototype;for(a in n)s.plugins[a]=s.plugins[a]||[],s.plugins[a].push([i,n[a]])},call:function(e,t,i,n){var a,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(a=0;a<s.length;a++)e.options[s[a][0]]&&s[a][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,a,s;for(s=0;null!=(a=i[s]);s++)try{n=e._data(a,"events"),n&&n.remove&&e(a).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var a,s,o,r,l={},c=t.split(".")[0];return t=t.split(".")[1],a=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[c]=e[c]||{},s=e[c][t],o=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},a=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=a,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(l[t]=n)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix||t:t},l,{constructor:o,namespace:c,widgetName:t,widgetFullName:a}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,a,s=i.call(arguments,1),o=0,r=s.length;r>o;o++)for(n in s[o])a=s[o][n],s[o].hasOwnProperty(n)&&void 0!==a&&(e.isPlainObject(a)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],a):e.widget.extend({},a):t[n]=a);return t},e.widget.bridge=function(t,n){var a=n.prototype.widgetFullName||t;e.fn[t]=function(s){var o="string"==typeof s,r=i.call(arguments,1),l=this;return o?this.each(function(){var i,n=e.data(this,a);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,r),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):(r.length&&(s=e.widget.extend.apply(null,[s].concat(r))),this.each(function(){var t=e.data(this,a);t?(t.option(s||{}),t._init&&t._init()):e.data(this,a,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,a,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(a=o[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)a[n[s]]=a[n[s]]||{},a=a[n[s]];if(t=n.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var a,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=a=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,a=this.widget()),e.each(n,function(n,o){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?a.delegate(u,c,r):i.bind(c,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var a,s,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(a in s)a in i||(i[a]=s[a]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,a,s){"string"==typeof a&&(a={effect:a});var o,r=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),o=!e.isEmptyObject(a),a.complete=s,a.delay&&n.delay(a.delay),o&&e.effects&&e.effects.effect[r]?n[t](a):r!==t&&n[r]?n[r](a.duration,a.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,a=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(a+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(a-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,
this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,a=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),a=n.uniqueId().attr("id");t.attr("aria-controls",a),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=a.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,a=e(t.currentTarget),s=a[0]===n[0],o=s&&i.collapsible,r=o?e():a.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:o?e():a,newPanel:r};t.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=o?!1:this.headers.index(a),this.active=s?e():a,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(a.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),a.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var n,a,s,o=this,r=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){o._toggleComplete(i)};return"number"==typeof d&&(s=d),"string"==typeof d&&(a=d),a=a||d.easing||u.easing,s=s||d.duration||u.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:a,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:a,complete:h,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-r),r=0)}})):t.animate(this.hideProps,s,a,h):e.animate(this.showProps,s,a,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var a,s,o=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==a)return a;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),a=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),a="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),a=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:a,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||a?i.width():i.outerWidth(),height:n||a?i.height():i.outerHeight()}}},e.fn.position=function(a){if(!a||!a.of)return f.apply(this,arguments);a=e.extend({},a);var p,m,g,v,y,b,w=e(a.of),_=e.position.getWithinInfo(a.within),x=e.position.getScrollInfo(_),C=(a.collision||"flip").split(" "),T={};return b=n(w),w[0].preventDefault&&(a.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(a[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],a[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===a.at[0]?y.left+=m:"center"===a.at[0]&&(y.left+=m/2),"bottom"===a.at[1]?y.top+=g:"center"===a.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var n,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),S=d+f+i(this,"marginRight")+x.width,k=h+b+i(this,"marginBottom")+x.height,E=e.extend({},y),D=t(T.my,u.outerWidth(),u.outerHeight());"right"===a.my[0]?E.left-=d:"center"===a.my[0]&&(E.left-=d/2),"bottom"===a.my[1]?E.top-=h:"center"===a.my[1]&&(E.top-=h/2),E.left+=D[0],E.top+=D[1],s||(E.left=l(E.left),E.top=l(E.top)),n={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[C[t]]&&e.ui.position[C[t]][i](E,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:h,collisionPosition:n,collisionWidth:S,collisionHeight:k,offset:[p[0]+D[0],p[1]+D[1]],my:a.my,at:a.at,within:_,elem:u})}),a.using&&(c=function(e){var t=v.left-E.left,i=t+m-d,n=v.top-E.top,s=n+g-h,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:E.left,top:E.top,width:d,height:h},horizontal:0>i?"left":t>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};d>m&&r(t+i)<m&&(l.horizontal="center"),h>g&&r(n+s)<g&&(l.vertical="middle"),o(r(t),r(i))>o(r(n),r(s))?l.important="horizontal":l.important="vertical",a.using.call(this,e,l)}),u.offset(e.extend(E,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=e.left-t.collisionPosition.marginLeft,l=a-r,c=r+t.collisionWidth-s-a;t.collisionWidth>s?l>0&&0>=c?(i=e.left+l+t.collisionWidth-s-a,e.left+=l-i):c>0&&0>=l?e.left=a:l>c?e.left=a+s-t.collisionWidth:e.left=a:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-r,e.left)},top:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,r=e.top-t.collisionPosition.marginTop,l=a-r,c=r+t.collisionHeight-s-a;t.collisionHeight>s?l>0&&0>=c?(i=e.top+l+t.collisionHeight-s-a,e.top+=l-i):c>0&&0>=l?e.top=a:l>c?e.top=a+s-t.collisionHeight:e.top=a:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,n,a=t.within,s=a.offset.left+a.scrollLeft,o=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-o-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+h+p+f+t.collisionWidth-o-s,(0>i||i<r(u))&&(e.left+=h+p+f)):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||r(n)<d)&&(e.left+=h+p+f))},top:function(e,t){var i,n,a=t.within,s=a.offset.top+a.scrollTop,o=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-o-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(n=e.top+p+f+m+t.collisionHeight-o-s,(0>n||n<r(u))&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,(i>0||r(i)<d)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,a,o,r=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)t.style[o]=n[o];t.appendChild(l),i=r||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",a=e(l).offset().left,s=a>10&&11>a,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,a,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",a=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),a===n?s=!0:a=n+a,i=this._filterMenuItems(a),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(a=String.fromCharCode(t.keyCode),i=this._filterMenuItems(a)),i.length?(this.focus(t,i),this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,n=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),n=e("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),t=s.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,a,s,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,a=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>a?this.activeMenu.scrollTop(s+a):a+r>o&&this.activeMenu.scrollTop(s+a-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,a;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-a<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,a;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+a>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,a=this.element[0].nodeName.toLowerCase(),s="textarea"===a,o="input"===a;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(a.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",a);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",a);break;case s.UP:t=!0,this._keyEvent("previous",a);break;case s.DOWN:t=!0,this._keyEvent("next",a);break;case s.ENTER:this.menu.active&&(t=!0,a.preventDefault(),this.menu.select(a));break;case s.TAB:this.menu.active&&this.menu.select(a);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(a),a.preventDefault());break;default:i=!0,this._searchTimeout(a)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:this._move("previousPage",n);break;case a.PAGE_DOWN:this._move("nextPage",n);break;case a.UP:this._keyEvent("previous",n);break;case a.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,a;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(a=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:a})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(a.value),n=i.item.attr("aria-label")||a.value,void(n&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,a){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){a(e)},error:function(){a([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||n)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",a=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},s=function(t){var i=t.name,n=t.form,a=e([]);return i&&(i=i.replace(/'/g,"\\'"),a=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),a};return e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,a),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,o=this.options,r="checkbox"===this.type||"radio"===this.type,l=r?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];s(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void n.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:void(t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){
return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?s(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),a=this.options.icons,s=a.primary&&a.secondary,o=[];a.primary||a.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":a.primary?"-primary":"-secondary")),a.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+a.primary+"'></span>"),a.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+a.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(e){function t(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",a)}function a(){e.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.11.4"}});var o;return e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,a,s;n=t.nodeName.toLowerCase(),a="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),a),s.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):a&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var a=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,a,s,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(a=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:a,title:a}):a)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,a,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,n=0,a=0;a<e.length;a++)e[a].length>i&&(i=e[a].length,n=a);return n},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,a,o){var r,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),s(h.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var i,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(a.append.remove(),a.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),o===a&&(o=null))},_enableDatepicker:function(t){var i,n,a=e(t),s=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=a.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,a=e(t),s=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=a.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var a,o,r,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),s(c.settings,a),null!==r&&void 0!==a.dateFormat&&void 0===a.minDate&&(c.settings.minDate=this._formatDate(c,r)),null!==l&&void 0!==a.dateFormat&&void 0===a.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,a,s=e.datepicker._getInst(t.target),o=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),a[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,a[0]),i=e.datepicker._get(s,"onSelect"),i?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,a=e.datepicker._getInst(t.target);return e.datepicker._get(a,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(a){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=e("input",i.parentNode)[0]),!e.datepicker._isDisabledDatepicker(i)&&e.datepicker._lastInput!==i){var n,a,o,r,l,c,u;n=e.datepicker._getInst(i),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(n,"beforeShow"),o=a?a.apply(i,[i,n]):{},o!==!1&&(s(n.settings,o),n.lastVal=null,e.datepicker._lastInput=i,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(i.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(i),e.datepicker._pos[1]+=i.offsetHeight),r=!1,e(i).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,r),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=e.datepicker._get(n,"showAnim"),u=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",t(e(i))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?n.dpDiv.show(c,e.datepicker._get(n,"showOptions"),u):n.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),s=n[1],r=17,l=t.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&a.apply(l.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var a=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?a-o:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>l&&l>a?Math.abs(i.left+a-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+r):0),i},_findPos:function(t){for(var i,n=this._getInst(t),a=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,a,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),a=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),n,a):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var a=e(t),s=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),a=this._getInst(n[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var a=e(t),s=this._getInst(a[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(a)},_selectDay:function(t,i,n,a){var s,o=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",a).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,a=e(t),s=this._getInst(a[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,a,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),a=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each(function(){e(this).val(a)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var a,s,o,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,w=function(e){var i=a+1<t.length&&t.charAt(a+1)===e;return i&&a++,i},_=function(e){var t=w(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,a="y"===e?n:1,s=new RegExp("^\\d{"+a+","+n+"}"),o=i.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(t,n,a){var s=-1,o=e.map(w(t)?a:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=t[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==t.charAt(a))throw"Unexpected literal at position "+l;l++};for(a=0;a<t.length;a++)if(b)"'"!==t.charAt(a)||w("'")?C():b=!1;else switch(t.charAt(a)){case"d":v=_("d");break;case"D":x("D",d,h);break;case"o":y=_("o");break;case"m":g=_("m");break;case"M":g=x("M",p,f);break;case"y":m=_("y");break;case"@":r=new Date(_("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((_("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(s=this._getDaysInMonth(m,g-1),s>=v)break;g++,v-=s}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},d="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?d+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),a,s);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(n)}return d},_possibleChars:function(e){var t,i="",n=!1,a=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||a("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":a("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),s=a,o=this._getFormatConfig(e);try{s=this.parseDate(i,n,o)||a}catch(r){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var a=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=a.getFullYear(),o=a.getMonth(),r=a.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(c[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,o))}c=l.exec(i)}return new Date(s,o,r)},o=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:a(i):new Date(i.getTime());return o=o&&"Invalid Date"===o.toString()?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,a=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),a===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,a,s,o,r,l,c,u,d,h,p,f,m,g,v,y,b,w,_,x,C,T,S,k,E,D,P,A,I,M,N,j,O,R,L,$,F,z=new Date,B=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),H=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),G=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Y[0]*Y[1]+1,J.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)Z--,0>Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-X,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",a=this._get(e,"nextText"),a=U?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,Z+X,1)),this._getFormatConfig(e)):a,s=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+a+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+a+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?K:B,o=U?this.formatDate(o,r,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(H?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",x=0;x<Y[0];x++){for(C="",this.maxRows=4,T=0;T<Y[1];T++){if(S=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),k=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",Y[1]>1)switch(T){case 0:E+=" ui-datepicker-group-first",k=" ui-corner-"+(H?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",k=" ui-corner-"+(H?"left":"right");break;default:E+=" ui-datepicker-group-middle",k=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+k+"'>"+(/all|left/.test(k)&&0===x?H?s:n:"")+(/all|right/.test(k)&&0===x?H?n:s:"")+this._generateMonthYearHeader(e,Z,ee,Q,J,x>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;7>_;_++)P=(_+u)%7,
D+="<th scope='col'"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[P]+"'>"+p[P]+"</span></th>";for(E+=D+"</tr></thead><tbody>",A=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),I=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,M=Math.ceil((I+A)/7),N=G&&this.maxRows>M?this.maxRows:M,this.maxRows=N,j=this._daylightSavingAdjust(new Date(ee,Z,1-I)),O=0;N>O;O++){for(E+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(j)+"</td>":"",_=0;7>_;_++)L=g?g.apply(e.input?e.input[0]:null,[j]):[!0,""],$=j.getMonth()!==Z,F=$&&!y||!L[0]||Q&&Q>j||J&&j>J,R+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+($?" ui-datepicker-other-month":"")+(j.getTime()===S.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===j.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+($&&!v?"":" "+L[1]+(j.getTime()===K.getTime()?" "+this._currentClass:"")+(j.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+($&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+($&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===B.getTime()?" ui-state-highlight":"")+(j.getTime()===K.getTime()?" ui-state-active":"")+($?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);E+=R+"</tr>"}Z++,Z>11&&(Z=0,ee++),E+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&T===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=E}w+=C}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,a,s,o,r){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!g)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=a&&a.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||u<=a.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=a?Math.min(m,a.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),a=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,a))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,a,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),a=i&&i>t?i:t;return n&&a>n?n:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var a=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(0>t?t:a[0]*a[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,a=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,r=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!a||t.getTime()>=a.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,a=1===i.which,s="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return a&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),a=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&a[0]===this.element[0]&&this._setPositionRelative(),a[0]===this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute"),a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,a=this.options,s=this.document[0];return this.relativeContainer=null,a.containment?"window"===a.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===a.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):a.containment.constructor===Array?void(this.containment=a.containment):("parent"===a.containment&&(a.containment=this.helper[0].parentNode),i=e(a.containment),n=i[0],void(n&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,a,s,o=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(a=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?a-this.offset.click.top>=i[1]||a-this.offset.click.top>i[3]?a:a-this.offset.click.top>=i[1]?a-o.grid[1]:a+o.grid[1]:a,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var a=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i,n){var a=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,a))})},drag:function(t,i,n){e.each(n.sortables,function(){var a=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(a=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(a=!1),a})),a?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",t),n.dropped=s.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var a=e("body"),s=n.options;a.css("cursor")&&(s._cursor=a.css("cursor")),a.css("cursor",s.cursor)},stop:function(t,i,n){var a=n.options;a._cursor&&e("body").css("cursor",a._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var a=e(i.helper),s=n.options;a.css("opacity")&&(s._opacity=a.css("opacity")),a.css("opacity",s.opacity)},stop:function(t,i,n){var a=n.options;a._opacity&&e(i.helper).css("opacity",a._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var a=n.options,s=!1,o=n.scrollParentNotHidden[0],r=n.document[0];o!==r&&"HTML"!==o.tagName?(a.axis&&"x"===a.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<a.scrollSensitivity?o.scrollTop=s=o.scrollTop+a.scrollSpeed:t.pageY-n.overflowOffset.top<a.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<a.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+a.scrollSpeed:t.pageX-n.overflowOffset.left<a.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(t.pageY-e(r).scrollTop()<a.scrollSensitivity?s=e(r).scrollTop(e(r).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<a.scrollSensitivity&&(s=e(r).scrollTop(e(r).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(t.pageX-e(r).scrollLeft()<a.scrollSensitivity?s=e(r).scrollLeft(e(r).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<a.scrollSensitivity&&(s=e(r).scrollLeft(e(r).scrollLeft()+a.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var a=n.options;n.snapElements=[],e(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var a,s,o,r,l,c,u,d,h,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)l=n.snapElements[h].left-n.margins.left,c=l+n.snapElements[h].width,u=n.snapElements[h].top-n.margins.top,d=u+n.snapElements[h].height,l-m>v||g>c+m||u-m>b||y>d+m||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(a=Math.abs(u-b)<=m,s=Math.abs(d-y)<=m,o=Math.abs(l-v)<=m,r=Math.abs(c-g)<=m,a&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=a||s||o||r,"outer"!==f.snapMode&&(a=Math.abs(u-y)<=m,s=Math.abs(d-b)<=m,o=Math.abs(l-g)<=m,r=Math.abs(c-v)<=m,a&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(a||s||o||r||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=a||s||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var a,s=n.options,o=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(a=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",a+t)}),this.css("zIndex",a+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var a=e(i.helper),s=n.options;a.css("zIndex")&&(s._zIndex=a.css("zIndex")),a.css("zIndex",s.zIndex)},stop:function(t,i,n){var a=n.options;a._zIndex&&e(i.helper).css("zIndex",a._zIndex)}}),e.ui.draggable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return t[n]>0?!0:(t[n]=1,a=t[n]>0,t[n]=0,a)},_create:function(){var t,i,n,a,s,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),s="ui-resizable-"+n,a=e("<div class='ui-resizable-handle "+s+"'></div>"),a.css({zIndex:r.zIndex}),"se"===n&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(a);this._renderAxis=function(t){var i,n,a,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(a,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=a&&a[1]?a[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,a=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(a=!0);return!this.options.disabled&&a},_mouseStart:function(t){var i,n,a,s=this.options,o=this.element;
return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,n+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,a=this.originalMousePosition,s=this.axis,o=t.pageX-a.left||0,r=t.pageY-a.top||0,l=this._change[s];return this._updatePrevProperties(),l?(i=l.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,a,s,o,r,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),a=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,o={width:u.helper.width()-s,height:u.helper.height()-a},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,a,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,a=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),a<s.maxHeight&&(s.maxHeight=a)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),s&&c&&(e.left=r-t.minWidth),n&&c&&(e.left=r-t.maxWidth),o&&u&&(e.top=l-t.minHeight),a&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],a=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(a[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,a=this.originalPosition;return{top:a.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,a=i._proportionallyResizeElements,s=a.length&&/textarea/i.test(a[0].nodeName),o=s&&i._hasScroll(a[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};a&&a.length&&e(a[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,a,s,o,r,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,a=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(h,"left")?h.scrollWidth:s,r=l._hasScroll(h)?h.scrollHeight:a,l.parentData={element:h,left:n.left,top:n.top,width:o,height:r}))},resize:function(t){var i,n,a,s,o=e(this).resizable("instance"),r=o.options,l=o.containerOffset,c=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),a=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),a&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,a=t.containerPosition,s=t.containerElement,o=e(t.helper),r=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:r.left-a.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:r.left-a.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),a=n.options,s=n.originalSize,o=n.originalPosition,r={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};e(a.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),a={},s=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(n[t]||0)+(r[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,a=i.size,s=i.originalSize,o=i.originalPosition,r=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,d=Math.round((a.width-s.width)/c)*c,h=Math.round((a.height-s.height)/u)*u,p=s.width+d,f=s.height+h,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-h):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-c)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-h):(f=u-t.height,i.size.height=f,i.position.top=o.top+s.height-f),p-c>0?(i.size.width=p,i.position.left=o.left-d):(p=c-t.width,i.size.width=p,i.position.left=o.left+s.width-p))}}),e.ui.resizable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],e):e(jQuery)}(function(e){return e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(a){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,a=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,a);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),a=i.filter(":last");t.target!==a[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){a.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var a,s;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),a=n.click,n.click=function(){a.apply(t.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,a){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(a))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(a,s){var o=s.offset.left-i.document.scrollLeft(),r=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",a,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,a=n.resizable,s=this.uiDialog.css("position"),o="string"==typeof a?a:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,a){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(a))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(a,s){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",a,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,a={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(a[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var i,n,a=this.uiDialog;"dialogClass"===e&&a.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=a.is(":data(ui-draggable)"),i&&!t&&a.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=a.is(":data(ui-resizable)"),n&&!t&&a.resizable("destroy"),n&&"string"==typeof t&&a.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],e):e(jQuery)}(function(e){return e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,a=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(a=!0,!1):void 0}),a?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,n,a){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=s+t.helperProportions.width,l=o+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,h=u+i.proportions().height;switch(n){case"fit":return s>=c&&d>=r&&o>=u&&h>=l;case"intersect":return c<s+t.helperProportions.width/2&&r-t.helperProportions.width/2<d&&u<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(a.pageY,u,i.proportions().height)&&e(a.pageX,c,i.proportions().width);case"touch":return(o>=u&&h>=o||l>=u&&h>=l||u>o&&l>h)&&(s>=c&&d>=s||r>=c&&d>=r||c>s&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,a,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(a=0;a<r.length;a++)if(r[a]===s[n].element[0]){s[n].proportions().height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===o&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,a,s,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(a=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===a}),s.length&&(n=e(s[0]).droppable("instance"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="ui-effects-",i=e;return e.effects={effect:{}},function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=c(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,a){var s,o=a.re.exec(t),r=o&&a.parse(o),l=a.space||"rgba";return r?(s=i[l](r),i[u[l].cache]=s[u[l].cache],n=i._rgba=s._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,s.transparent),i):s[t]}function a(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,a){return new e.Color.fn.parse(t,i,n,a)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(a,o,r,l){if(a===t)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=e(a).css(o),o=t);var d=this,h=e.type(a),p=this._rgba=[];return o!==t&&(a=[a,o,r,l],h="array"),"string"===h?this.parse(n(a)||s._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=i(a[t.idx],t)}),this):"object"===h?(a instanceof c?f(u,function(e,t){a[t.cache]&&(d[t.cache]=a[t.cache].slice())}):f(u,function(t,n){var s=n.cache;f(n.props,function(e,t){if(!d[s]&&n.to){if("alpha"===e||null==a[e])return;d[s]=n.to(d._rgba)}d[s][t.idx]=i(a[e],t,!0)}),d[s]&&e.inArray(null,d[s].slice(0,3))<0&&(d[s][3]=1,n.from&&(d._rgba=n.from(d[s])))}),this):void 0},is:function(e){var t=c(e),i=!0,n=this;return f(u,function(e,a){var s,o=t[a.cache];return o&&(s=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,t){return null!=o[t.idx]?i=o[t.idx]===s[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),a=n._space(),s=u[a],o=0===this.alpha()?c("transparent"):this,r=o[s.cache]||s.to(o._rgba),l=r.slice();return n=n[s.cache],f(s.props,function(e,a){var s=a.idx,o=r[s],c=n[s],u=d[a.type]||{};null!==c&&(null===o?l[s]=c:(u.mod&&(c-o>u.mod/2?o+=u.mod:o-c>u.mod/2&&(o-=u.mod)),l[s]=i((c-o)*t+o,a)))}),this[a](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),a=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*a[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,a=e[1]/255,s=e[2]/255,o=e[3],r=Math.max(n,a,s),l=Math.min(n,a,s),c=r-l,u=r+l,d=.5*u;return t=l===r?0:n===r?60*(a-s)/c+360:a===r?60*(s-n)/c+120:60*(n-a)/c+240,i=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],o=.5>=n?n*(1+i):n+i-n*i,r=2*n-o;return[Math.round(255*a(r,o,t+1/3)),Math.round(255*a(r,o,t)),Math.round(255*a(r,o,t-1/3)),s]},f(u,function(n,a){var s=a.props,o=a.cache,l=a.to,u=a.from;c.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var a,r=e.type(n),d="array"===r||"object"===r?n:arguments,h=this[o].slice();return f(s,function(e,t){var n=d["object"===r?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),u?(a=c(u(h)),a[o]=h,a):c(h)},f(s,function(t,i){c.fn[t]||(c.fn[t]=function(a){var s,o=e.type(a),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===o?u:("function"===o&&(a=a.call(this,u),o=e.type(a)),null==a&&i.empty?this:("string"===o&&(s=r.exec(a),s&&(a=u+parseFloat(s[2])*("+"===s[1]?1:-1))),c[i.idx]=a,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,a){var s,o,r="";if("transparent"!==a&&("string"!==e.type(a)||(s=n(a)))){if(a=c(s||a),!h.rgba&&1!==a._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}a=a.blend(r&&"transparent"!==r?r:"_default")}a=a.toRgbaString()}try{t.style[i]=a}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function t(t){var i,n,a=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(a&&a.length&&a[0]&&a[a[0]])for(n=a.length;n--;)i=a[n],"string"==typeof a[i]&&(s[e.camelCase(i)]=a[i]);else for(i in a)"string"==typeof a[i]&&(s[i]=a[i]);return s}function n(t,i){var n,a,o={};for(n in i)a=i[n],t[n]!==a&&(s[n]||!e.fx.step[n]&&isNaN(parseFloat(a))||(o[n]=a));return o}var a=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(i.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,s,o,r){var l=e.speed(s,o,r);return this.queue(function(){var s,o=e(this),r=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){var i=e(this);return{el:i,start:t(this)}}),s=function(){e.each(a,function(e,t){i[t]&&o[t+"Class"](i[t])})},s(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",r),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,n,a,s){return n?e.effects.animateClass.call(this,{add:i},n,a,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,a,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,a,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,a,s,o){return"boolean"==typeof n||void 0===n?a?e.effects.animateClass.call(this,n?{add:i}:{remove:i},a,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,a,s)}}(e.fn.toggleClass),switchClass:function(t,i,n,a,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,a,s)}})}(),function(){function i(t,i,n,a){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(a=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(a=n,n=i,i={}),e.isFunction(n)&&(a=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=a||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"==typeof t&&!t.effect:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,i){for(var n=0;n<i.length;n++)null!==i[n]&&e.data(t+i[n],e[0].style[i[n]])},restore:function(e,i){var n,a;for(a=0;a<i.length;a++)null!==i[a]&&(n=e.data(t+i[a]),void 0===n&&(n=""),e.css(i[a],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),a={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(a),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,a){return a=a||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(a[i]=s[0]*n+s[1])}),a}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(s)&&s.call(a[0]),e.isFunction(t)&&t()}var a=e(this),s=n.complete,r=n.mode;(a.is(":hidden")?"hide"===r:"show"===r)?(a[r](),i()):o.call(a[0],n,i)}var n=i.apply(this,arguments),a=n.mode,s=n.queue,o=e.effects.effect[n.effect];return e.fx.off||!o?a?this[a](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):s===!1?this.each(t):this.queue(s||"fx",t)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var a=i.apply(this,arguments);return a.mode="show",this.effect.call(this,a)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var a=i.apply(this,arguments);return a.mode="hide",this.effect.call(this,a)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"==typeof t)return e.apply(this,arguments);var a=i.apply(this,arguments);return a.mode="toggle",this.effect.call(this,a)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.blind=function(t,i){var n,a,s,o=e(this),r=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",h=r.test(d),p=h?"height":"width",f=h?"top":"left",m=l.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),c):e.effects.save(o,c),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),a=n[p](),s=parseFloat(n.css(f))||0,g[p]=v?a:0,m||(o.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?s:a+s),v&&(n.css(p,0),m||n.css(f,s+a)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,c),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.bounce=function(t,i){var n,a,s,o=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),w=b.length;for((u||c)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),h||(h=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(s={opacity:1},s[v]=0,o.css("opacity",0).css(v,y?2*-h:2*h).animate(s,m,g)),c&&(h/=Math.pow(2,p-1)),s={},s[v]=0,n=0;p>n;n++)a={},a[v]=(y?"-=":"+=")+h,o.animate(a,m,g).animate(s,m,g),h=c?2*h:h/2;c&&(a={opacity:0},a[v]=(y?"-=":"+=")+h,o.animate(a,m,g)),o.queue(function(){c&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),o.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.clip=function(t,i){var n,a,s,o=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),a="IMG"===o[0].tagName?n:o,s=a[h](),c&&(a.css(h,0),a.css(p,s/2)),f[h]=c?s:0,f[p]=c?0:s/2,a.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.drop=function(t,i){var n,a=e(this),s=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(a,t.mode||"hide"),r="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:r?1:0};e.effects.save(a,s),a.show(),e.effects.createWrapper(a),n=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0)/2,r&&a.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,a.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===d*h&&a()}function a(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var s,o,r,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(s=0;d>s;s++)for(l=g.top+s*y,u=s-(d-1)/2,o=0;h>o;o++)r=g.left+o*v,c=o-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,n)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fade=function(t,i){var n=e(this),a=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:a},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fold=function(t,i){var n,a,s=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"hide"),l="show"===r,c="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(s,o),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),a=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*a[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?a[0]:u,v[f[1]]=l?a[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.highlight=function(t,i){var n=e(this),a=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===s&&(o.opacity=0),e.effects.save(n,a),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,a),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.size=function(t,i){var n,a,s,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||n):(o.from=t.from||("show"===p?b:n),o.to=t.to||("hide"===p?b:n)),s={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},"box"!==m&&"both"!==m||(s.from.y!==s.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,s.from.y,o.from),o.to=e.effects.setTransition(o,d,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to))),"content"!==m&&"both"!==m||s.from.y!==s.to.y&&(y=y.concat(u).concat(c),o.from=e.effects.setTransition(o,u,s.from.y,o.from),o.to=e.effects.setTransition(o,u,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(a=e.effects.getBaseline(g,n),o.from.top=(n.outerHeight-o.outerHeight())*a.y,o.from.left=(n.outerWidth-o.outerWidth())*a.x,o.to.top=(n.outerHeight-o.to.outerHeight)*a.y,o.to.left=(n.outerWidth-o.to.outerWidth)*a.x),o.css(o.from),"content"!==m&&"both"!==m||(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=r.concat(d).concat(h),o.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,d,s.from.y,i.from),i.to=e.effects.setTransition(i,d,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,h,s.from.x,i.from),i.to=e.effects.setTransition(i,h,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var n=parseInt(i,10),a=e?o.to.left:o.to.top;return"auto"===i?a+"px":n+a+"px"})})),e.effects.removeWrapper(o),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],e):e(jQuery)}(function(e){return e.effects.effect.scale=function(t,i){var n=e(this),a=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),r=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};a.effect="size",a.queue=!1,a.complete=i,"effect"!==s&&(a.origin=l||["middle","center"],a.restore=!0),a.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),a.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},a.fade&&("show"===s&&(a.from.opacity=0,a.to.opacity=1),"hide"===s&&(a.from.opacity=1,a.to.opacity=0)),n.effect(a)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],e):e(jQuery)}(function(e){return e.effects.effect.puff=function(t,i){var n=e(this),a=e.effects.setMode(n,t.mode||"hide"),s="hide"===a,o=parseInt(t.percent,10)||150,r=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:a,complete:i,percent:s?o:100,from:s?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),n.effect(t)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.pulsate=function(t,i){var n,a=e(this),s=e.effects.setMode(a,t.mode||"show"),o="show"===s,r="hide"===s,l=o||"hide"===s,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=a.queue(),p=h.length;for(!o&&a.is(":visible")||(a.css("opacity",0).show(),d=1),n=1;c>n;n++)a.animate({opacity:d},u,t.easing),d=1-d;a.animate({opacity:d},u,t.easing),a.queue(function(){r&&a.hide(),i()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),a.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.shake=function(t,i){var n,a=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(a,t.mode||"effect"),r=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=a.queue(),y=v.length;for(e.effects.save(a,s),a.show(),e.effects.createWrapper(a),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,a.animate(f,d,t.easing),n=1;c>n;n++)a.animate(m,d,t.easing).animate(g,d,t.easing);a.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),a.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.slide=function(t,i){var n,a=e(this),s=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(a,t.mode||"show"),r="show"===o,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(a,s),a.show(),n=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(a).css({overflow:"hidden"}),r&&a.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(r?u?"+=":"-=":u?"-=":"+=")+n,a.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.transfer=function(t,i){var n=e(this),a=e(t.to),s="fixed"===a.css("position"),o=e("body"),r=s?o.scrollTop():0,l=s?o.scrollLeft():0,c=a.offset(),u={top:c.top-r,left:c.left-l,height:a.innerHeight(),width:a.innerWidth()},d=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),i()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,a=e.data(this,"selectable-item");return a?(n=!t.metaKey&&!t.ctrlKey||!a.$element.hasClass("ui-selected"),a.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),a.unselecting=!n,a.selecting=n,a.selected=n,n?i._trigger("selecting",t,{selecting:a.element}):i._trigger("unselecting",t,{unselecting:a.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,a=this.options,s=this.opos[0],o=this.opos[1],r=t.pageX,l=t.pageY;return s>r&&(i=r,r=s,s=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:s,top:o,width:r-s,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===a.tolerance?c=!(i.left>r||i.right<s||i.top>l||i.bottom<o):"fit"===a.tolerance&&(c=i.left>s&&i.right<r&&i.top>o&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",
select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,a="";e.each(i,function(i,s){s.optgroup!==a&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),a=s.optgroup),n._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,a=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),a+=":not(.ui-state-disabled)"),n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](a).eq(-1):i[e+"All"](a).eq(0),n.length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var a=e(n),s=a.parent("optgroup");i.push({element:a,index:t,value:a.val(),label:a.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||a.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,a=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=n.values&&n.values.length||1,a.length>i&&(a.slice(i).remove(),a=a.slice(0,i)),t=a.length;i>t;t++)o.push(s);this.handles=a.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,a,s,o,r,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),a=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(a>i||a===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(a=i,s=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,a,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),a=this._valueMax()-this._valueMin(),s=this._valueMin()+n*a,this._trimAlignValue(s)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,a,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(a=this.values(),a[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:a}),n=this.values(t?0:1),s!==!1&&this.values(t,i))):i!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:i}),s!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,a,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,a=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(a[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,a=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(a=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;a>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,n=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,a,s,o=this.options.range,r=this.options,l=this,c=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(n=this.value(),a=this._valueMin(),s=this._valueMax(),i=s!==a?(n-a)/(s-a)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,n,a,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(s=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:a=this._valueMin();break;case e.ui.keyCode.END:a=this._valueMax();break;case e.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-s)}this._slide(t,o,a)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,a=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(n=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(a=!0)}),a))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var a,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,a,s,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],a=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],a):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,a=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,a=n+this.helperProportions.height,s=e.left,o=s+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>r&&l>n+c,h="y"===this.options.axis||t+u>s&&o>t+u,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&r<n+this.helperProportions.height/2&&a-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,a=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return n?this.floating?s&&"right"===s||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var n,a,s,o,r=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(s=e(c[n],this.document[0]),a=s.length-1;a>=0;a--)o=e.data(s[a],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,a,s,o,r,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(a=e(h[i],this.document[0]),n=a.length-1;n>=0;n--)s=e.data(a[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(d.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],n=0,c=r.length;c>n;n++)l=e(r[n]),l.data(this.widgetName+"-item",o),u.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,a,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=a.outerWidth(),n.height=a.outerHeight()),s=a.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),a=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(a)):"tr"===n?t._createTrPlaceholder(t.currentItem,a):"img"===n&&a.attr("src",t.currentItem.attr("src")),i||a.css("visibility","hidden"),a},update:function(e,a){i&&!n.forcePlaceholderSize||(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,a,s,o,r,l,c,u,d,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(a=1e4,s=null,u=h.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,t[d]-l>this.items[n][r]/2&&(c=!0),Math.abs(t[d]-l)<a&&(a=Math.abs(t[d]-l),s=this.items[n],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));
s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),"document"!==a.containment&&"window"!==a.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===a.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(t=e(a.containment)[0],i=e(a.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())*n}},_generatePosition:function(t){var i,n,a=this.options,s=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),a.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/a.grid[1])*a.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-a.grid[1]:i+a.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/a.grid[0])*a.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-a.grid[0]:n+a.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||a.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(a.push(function(e){this._trigger("remove",e,this._uiHash())}),a.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||a.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(a.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<a.length;n++)a[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],e):e(jQuery)}(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var a=i.attr(n);void 0!==a&&a.length&&(t[n]=a)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,n;t=t.cloneNode(!1),i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(a){}try{n=decodeURIComponent(n)}catch(a){}return t.hash.length>1&&i===n}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,a){return e(a).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),a=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:a=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>a&&(t=0),0>t&&(t=a),t}for(var a=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,a=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var a,s,o,r=e(n).uniqueId().attr("id"),l=e(n).closest("li"),c=l.attr("aria-controls");t._isLocal(n)?(a=n.hash,o=a.substring(1),s=t.element.find(t._sanitizeSelector(a))):(o=l.attr("aria-controls")||e({}).uniqueId()[0].id,a="#"+o,s=t.element.find(a),s.length||(s=t._createPanel(o),s.insertAfter(t.panels[i-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":r}),s.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(a.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,a=e(t.currentTarget),s=a.closest("li"),o=s[0]===n[0],r=o&&i.collapsible,l=r?e():this._getPanelForTab(s),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:r?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(s),this.active=o?e():s,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,u))},_toggle:function(t,i){function n(){s.running=!1,s._trigger("activate",t,i)}function a(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,n):(o.show(),n())}var s=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),a()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,a=this.tabs.eq(t),s=a.find(".ui-tabs-anchor"),o=this._getPanelForTab(a),r={tab:a,panel:o},l=function(e,t){"abort"===t&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,a){setTimeout(function(){o.html(e),n._trigger("load",i,r),l(a,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,n){var a=this;return{url:t.attr("href"),beforeSend:function(t,s){return a._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),a=e.inArray(i,n);-1!==a&&n.splice(a,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var a=e.Event("blur");a.target=a.currentTarget=n.element[0],t.close(a,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,a=this,s=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){a._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,n){function a(e){c.of=e,o.is(":hidden")||o.position(c)}var s,o,r,l,c=e.extend({},this.options.position);if(n){if(s=this._find(i))return void s.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),o=s.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:a}),a(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(a(c.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(n.mouseleave="close"),t&&"focusin"!==t.type||(n.focusout="close"),this._on(!0,i,n)},close:function(t){var i,n=this,a=e(t?t.currentTarget:this.element),s=this._find(a);return s?(i=s.tooltip,void(s.closing||(clearInterval(this.delayedShow),a.data("ui-tooltip-title")&&!a.attr("title")&&a.attr("title",a.data("ui-tooltip-title")),this._removeDescribedBy(a),s.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),a.removeData("ui-tooltip-open"),this._off(a,"mouseleave focusout keyup"),a[0]!==this.element[0]&&this._off(a,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:i}),s.hiding||(s.closing=!1)))):void a.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={
element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var a=e.Event("blur"),s=n.element;a.target=a.currentTarget=s[0],t.close(a,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data("bs.affix"),s="object"==typeof t&&t;a||n.data("bs.affix",a=new i(this,s)),"string"==typeof t&&a[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var a=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return i>a?"top":!1;if("bottom"==this.affixed)return null!=i?a+this.unpin<=s.top?!1:"bottom":e-n>=a+o?!1:"bottom";var r=null==this.affixed,l=r?a:s.top,c=r?o:t;return null!=i&&i>=a?"top":null!=n&&l+c>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,a=n.top,s=n.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(s=a=n),"function"==typeof a&&(a=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var r=this.getState(o,t,a,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-s})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.alert");a||i.data("bs.alert",a=new n(this)),"string"==typeof t&&a[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){o.detach().trigger("closed.bs.alert").remove()}var a=e(this),s=a.attr("data-target");s||(s=a.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=a.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var a=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=a,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data("bs.button"),s="object"==typeof t&&t;a||n.data("bs.button",a=new i(this,s)),"toggle"==t?a.toggle():t&&a.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,a=n.is("input")?"val":"html",s=n.data();t+="Text",null==s.resetText&&n.data("resetText",n[a]()),setTimeout(e.proxy(function(){n[a](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),e(i.target).is('input[type="radio"]')||e(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data("bs.carousel"),s=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;a||n.data("bs.carousel",a=new i(this,s)),"number"==typeof t?a.to(t):o?a[o]():s.interval&&a.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t),n="prev"==e&&0===i||"next"==e&&i==this.$items.length-1;if(n&&!this.options.wrap)return t;var a="prev"==e?-1:1,s=(i+a)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var a=this.$element.find(".item.active"),s=n||this.getItemForDirection(t,a),o=this.interval,r="next"==t?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(s)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,a.addClass(r),s.addClass(r),a.one("bsTransitionEnd",function(){s.removeClass([t,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(a.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var a=function(i){var n,a=e(this),s=e(a.attr("data-target")||(n=a.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),a.data()),r=a.attr("data-slide-to");r&&(o.interval=!1),t.call(s,o),r&&s.data("bs.carousel").to(r),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),a=i.data("bs.collapse"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!a&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),a||i.data("bs.collapse",a=new n(this,s)),"string"==typeof t&&a[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.5",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(t=a.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){a&&a.length&&(i.call(a,"hide"),t||a.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var a=e(n);this.addAriaAndCollapsedClass(t(a),a)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var a=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a=e(this);a.attr("data-target")||n.preventDefault();var s=t(a),o=s.data("bs.collapse"),r=o?"toggle":a.data();i.call(s,r)})}(jQuery),+function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(a).remove(),e(s).each(function(){var n=e(this),a=t(n),s={relatedTarget:this};a.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(a[0],i.target)||(a.trigger(i=e.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),a.removeClass("open").trigger("hidden.bs.dropdown",s))))}))}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})}var a=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.5",o.prototype.toggle=function(n){var a=e(this);if(!a.is(".disabled, :disabled")){var s=t(a),o=s.hasClass("open");if(i(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(n=e.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var a=t(n),o=a.hasClass("open");if(!o&&27!=i.which||o&&27==i.which)return 27==i.which&&a.find(s).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",l=a.find(".dropdown-menu"+r);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data("bs.tab");a||n.data("bs.tab",a=new i(this)),"string"==typeof t&&a[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=i.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=e(n);this.activate(t.closest("li"),i),this.activate(r,r.parent(),function(){a.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:a[0]})})}}},i.prototype.activate=function(t,n,a){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),a&&a()}var o=n.find("> .active"),r=a&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),o.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var a=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var a=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(a,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),a=n.data("bs.scrollspy"),s="object"==typeof i&&i;a||n.data("bs.scrollspy",a=new t(this,s)),"string"==typeof i&&a[i]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),a=t.data("target")||t.attr("href"),s=/^#./.test(a)&&e(a);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,a]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),a=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<a[0])return this.activeTarget=null,this.clear();for(e=a.length;e--;)o!=s[e]&&t>=a[e]&&(void 0===a[e+1]||t<a[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var a=e(this),s=a.data("bs.modal"),o=e.extend({},i.DEFAULTS,a.data(),"object"==typeof t&&t);s||a.data("bs.modal",s=new i(this,o)),"string"==typeof t?s[t](n):o.show&&s.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var a=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),a&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});a?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&a;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),a=n.attr("href"),s=e(n.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data("bs.tooltip"),s="object"==typeof t&&t;!a&&/destroy|hide/.test(t)||(a||n.data("bs.tooltip",a=new i(this,s)),"string"==typeof t&&a[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var a=this.options.trigger.split(" "),s=a.length;s--;){var o=a[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var r="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var a=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=s[0].offsetWidth,h=s[0].offsetHeight;if(c){var p=r,f=this.getPosition(this.$viewport);r="bottom"==r&&u.bottom+h>f.bottom?"top":"top"==r&&u.top-h<f.top?"bottom":"right"==r&&u.right+d>f.width?"left":"left"==r&&u.left-d<f.left?"right":r,s.removeClass(p).addClass(r)}var m=this.getCalculatedOffset(r,u,d,h);this.applyPlacement(m,r);var g=function(){var e=a.hoverState;a.$element.trigger("shown.bs."+a.type),a.hoverState=null,"out"==e&&a.leave(a)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),a=n[0].offsetWidth,s=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(r)&&(r=0),t.top+=o,t.left+=r,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=s&&(t.top=t.top+s-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(i),h=d?2*u.left-a+l:2*u.top-s+c,p=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][p],d)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=a.hoverState&&s.detach(),a.$element.removeAttr("aria-describedby").trigger("hidden.bs."+a.type),t&&t()}var a=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle();
},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,a=i.getBoundingClientRect();null==a.width&&(a=e.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var s=n?{top:0,left:0}:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},a,o,r,s)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var a={top:0,left:0};if(!this.$viewport)return a;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var r=t.top-s-o.scroll,l=t.top+s-o.scroll+n;r<o.top?a.top=o.top-r:l>o.top+o.height&&(a.top=o.top+o.height-l)}else{var c=t.left-s,u=t.left+s+i;c<o.left?a.left=o.left-c:u>o.right&&(a.left=o.left+o.width-u)}return a},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data("bs.popover"),s="object"==typeof t&&t;!a&&/destroy|hide/.test(t)||(a||n.data("bs.popover",a=new i(this,s)),"string"==typeof t&&a[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a});var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function e(e,t){var i=typeof e[t];return i==d||!(i!=u||!e[t])||"unknown"==i}function t(e,t){return!(typeof e[t]!=u||!e[t])}function i(e,t){return typeof e[t]!=h}function n(e){return function(t,i){for(var n=i.length;n--;)if(!e(t,i[n]))return!1;return!0}}function a(e){return e&&v(e,g)&&b(e,m)}function s(e){window.alert("Rangy not supported in your browser. Reason: "+e),w.initialized=!0,w.supported=!1}function o(e){var t="Rangy warning: "+e;w.config.alertOnWarn?window.alert(t):typeof window.console!=h&&typeof window.console.log!=h&&window.console.log(t)}function r(){if(!w.initialized){var i,n=!1,o=!1;e(document,"createRange")&&(i=document.createRange(),v(i,f)&&b(i,p)&&(n=!0),i.detach());var r=t(document,"body")?document.body:document.getElementsByTagName("body")[0];r&&e(r,"createTextRange")&&(i=r.createTextRange(),a(i)&&(o=!0)),n||o||s("Neither Range nor TextRange are implemented"),w.initialized=!0,w.features={implementsDomRange:n,implementsTextRange:o};for(var l=x.concat(_),c=0,u=l.length;u>c;++c)try{l[c](w)}catch(d){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",d)}}}function l(e){e=e||window,r();for(var t=0,i=C.length;i>t;++t)C[t](e)}function c(e){this.name=e,this.initialized=!1,this.supported=!1}var u="object",d="function",h="undefined",p=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],f=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=n(e),y=n(t),b=n(i),w={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:i,areHostMethods:v,areHostObjects:y,areHostProperties:b,isTextRange:a},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};w.fail=s,w.warn=o,{}.hasOwnProperty?w.util.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}:s("hasOwnProperty not supported");var _=[],x=[];w.init=r,w.addInitListener=function(e){w.initialized?e(w):_.push(e)};var C=[];w.addCreateMissingNativeApiListener=function(e){C.push(e)},w.createMissingNativeApi=l,c.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},c.prototype.warn=function(e){w.warn("Module "+this.name+": "+e)},c.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},w.createModule=function(e,t){var i=new c(e);w.modules[e]=i,x.push(function(e){t(e,i),i.initialized=!0,i.supported=!0})},w.requireModules=function(e){for(var t,i,n=0,a=e.length;a>n;++n){if(i=e[n],t=w.modules[i],!(t&&t instanceof c))throw new Error("Module '"+i+"' not found");if(!t.supported)throw new Error("Module '"+i+"' not supported")}};var T=!1,S=function(){T||(T=!0,w.initialized||r())};return typeof window==h?void s("No window found"):typeof document==h?void s("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",S,!1),e(window,"addEventListener")?window.addEventListener("load",S,!1):e(window,"attachEvent")?window.attachEvent("onload",S):s("Window does not have required addEventListener or attachEvent method"),w)}(),rangy.createModule("DomUtil",function(e,t){function i(e){var t;return typeof e.namespaceURI==S||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function n(e){var t=e.parentNode;return 1==t.nodeType?t:null}function a(e){for(var t=0;e=e.previousSibling;)t++;return t}function s(e){var t;return c(e)?e.length:(t=e.childNodes)?t.length:0}function o(e,t){var i,n=[];for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(P(n,i))return i;return null}function r(e,t,i){for(var n=i?t:t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}function l(e,t,i){for(var n,a=i?e:e.parentNode;a;){if(n=a.parentNode,n===t)return a;a=n}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function u(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function d(e,t){var i=e.cloneNode(!1);return i.deleteData(0,t),e.deleteData(t,e.length-t),u(i,e),i}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=S)return e.ownerDocument;if(typeof e.document!=S)return e.document;if(e.parentNode)return h(e.parentNode);throw new Error("getDocument: no document found for node")}function p(e){var t=h(e);if(typeof t.defaultView!=S)return t.defaultView;if(typeof t.parentWindow!=S)return t.parentWindow;throw new Error("Cannot get a window object for node")}function f(e){if(typeof e.contentDocument!=S)return e.contentDocument;if(typeof e.contentWindow!=S)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=S)return e.contentWindow;if(typeof e.contentDocument!=S)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(e){return k.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function v(e){for(var t;t=e.parentNode;)e=t;return e}function y(e,t,i,n){var s,r,c,u,d;if(e==i)return t===n?0:n>t?-1:1;if(s=l(i,e,!0))return t<=a(s)?-1:1;if(s=l(e,i,!0))return a(s)<n?-1:1;if(r=o(e,i),c=e===r?r:l(e,r,!0),u=i===r?r:l(i,r,!0),c===u)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(d=r.firstChild;d;){if(d===c)return-1;if(d===u)return 1;d=d.nextSibling}throw new Error("Should not be here!")}function b(e){for(var t,i=h(e).createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i}function w(e){if(!e)return"[No node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function _(e){this.root=e,this._next=e}function x(e){return new _(e)}function C(e,t){this.node=e,this.offset=t}function T(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var S="undefined",k=e.util;k.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),k.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var E=document.createElement("div");k.areHostMethods(E,["insertBefore","appendChild","cloneNode"]||!k.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),k.isHostProperty(E,"innerHTML")||t.fail("Element is missing innerHTML property");var D=document.createTextNode("test");k.areHostMethods(D,["splitText","deleteData","insertData","appendData","cloneNode"]||!k.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"])||!k.areHostProperties(D,["data"]))||t.fail("Incomplete Text Node implementation");var P=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1};_.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,i=this._current=this._next;if(this._current)if(e=i.firstChild)this._next=e;else{for(t=null;i!==this.root&&!(t=i.nextSibling);)i=i.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},C.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+w(this.node)+":"+this.offset+")]"}},T.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},T.prototype.toString=function(){return this.message},e.dom={arrayContains:P,isHtmlNamespace:i,parentElement:n,getNodeIndex:a,getNodeLength:s,getCommonAncestor:o,isAncestorOf:r,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:u,splitDataNode:d,getDocument:h,getWindow:p,getIframeWindow:m,getIframeDocument:f,getBody:g,getRootContainer:v,comparePoints:y,inspectNode:w,fragmentFromNodeChildren:b,createIterator:x,DomPosition:C},e.DOMException=T}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(R.isAncestorOf(e,t.startContainer,!0)||R.isAncestorOf(e,t.endContainer,!0))}function i(e){return R.getDocument(e.startContainer)}function n(e,t,i){var n=e._listeners[t];if(n)for(var a=0,s=n.length;s>a;++a)n[a].call(e,{target:e,args:i})}function a(e){return new L(e.parentNode,R.getNodeIndex(e))}function s(e){return new L(e.parentNode,R.getNodeIndex(e)+1)}function o(e,t,i){var n=11==e.nodeType?e.firstChild:e;return R.isCharacterDataNode(t)?i==t.length?R.insertAfter(e,t):t.parentNode.insertBefore(e,0==i?t:R.splitDataNode(t,i)):i>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[i]),n}function r(e){for(var t,n,a,s=i(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(a=e.getSubtreeIterator(),n.appendChild(r(a)),a.detach(!0)),10==n.nodeType)throw new $("HIERARCHY_REQUEST_ERR");s.appendChild(n)}return s}function l(e,t,i){var n,a;i=i||{stop:!1};for(var s,o;s=e.next();)if(e.isPartiallySelectedSubtree()){if(t(s)===!1)return void(i.stop=!0);if(o=e.getSubtreeIterator(),l(o,t,i),o.detach(!0),i.stop)return}else for(n=R.createIterator(s);a=n.next();)if(t(a)===!1)return void(i.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach(!0)):e.remove()}function u(e){for(var t,n,a=i(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(u(n)),n.detach(!0)):e.remove(),10==t.nodeType)throw new $("HIERARCHY_REQUEST_ERR");a.appendChild(t)}return a}function d(e,t,i){var n,a=!(!t||!t.length),s=!!i;a&&(n=new RegExp("^("+t.join("|")+")$"));var o=[];return l(new p(e,!1),function(e){a&&!n.test(e.nodeType)||s&&!i(e)||o.push(e)}),o}function h(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+R.inspectNode(e.startContainer)+":"+e.startOffset+", "+R.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var i=e.commonAncestorContainer;this.sc===this.ec&&R.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||R.isCharacterDataNode(this.sc)?R.getClosestAncestorIn(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||R.isCharacterDataNode(this.ec)?R.getClosestAncestorIn(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function f(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function m(e,t,i){this.nodes=d(e,t,i),this._next=this.nodes[0],this._position=0}function g(e){return function(t,i){for(var n,a=i?t:t.parentNode;a;){if(n=a.nodeType,R.arrayContains(e,n))return a;a=a.parentNode}return null}}function v(e,t){if(V(e,t))throw new f("INVALID_NODE_TYPE_ERR")}function y(e){if(!e.startContainer)throw new $("INVALID_STATE_ERR")}function b(e,t){if(!R.arrayContains(t,e.nodeType))throw new f("INVALID_NODE_TYPE_ERR")}function w(e,t){if(0>t||t>(R.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new $("INDEX_SIZE_ERR")}function _(e,t){if(U(e,!0)!==U(t,!0))throw new $("WRONG_DOCUMENT_ERR")}function x(e){if(Y(e,!0))throw new $("NO_MODIFICATION_ALLOWED_ERR")}function C(e,t){if(!e)throw new $(t)}function T(e){return!R.arrayContains(z,e.nodeType)&&!U(e,!0)}function S(e,t){return t<=(R.isCharacterDataNode(e)?e.length:e.childNodes.length)}function k(e){if(y(e),T(e.startContainer)||T(e.endContainer)||!S(e.startContainer,e.startOffset)||!S(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function E(){}function D(e){e.START_TO_START=Z,e.START_TO_END=ee,e.END_TO_END=te,e.END_TO_START=ie,e.NODE_BEFORE=ne,e.NODE_AFTER=ae,e.NODE_BEFORE_AND_AFTER=se,e.NODE_INSIDE=oe}function P(e){D(e),D(e.prototype)}function A(e,t){return function(){k(this);var i,n,a=this.startContainer,o=this.startOffset,r=this.commonAncestorContainer,c=new p(this,!0);a!==r&&(i=R.getClosestAncestorIn(a,r,!0),n=s(i),a=n.node,o=n.offset),l(c,x),c.reset();var u=e(c);return c.detach(),t(this,a,o,a,o),u}}function I(i,n,o){function r(e,t){return function(i){y(this),b(i,F),b(q(i),z);var n=(e?a:s)(i);(t?l:d)(this,n.node,n.offset)}}function l(e,t,i){var a=e.endContainer,s=e.endOffset;t===e.startContainer&&i===e.startOffset||(q(t)==q(a)&&1!=R.comparePoints(t,i,a,s)||(a=t,s=i),n(e,t,i,a,s))}function d(e,t,i){var a=e.startContainer,s=e.startOffset;t===e.endContainer&&i===e.endOffset||(q(t)==q(a)&&-1!=R.comparePoints(t,i,a,s)||(a=t,s=i),n(e,a,s,t,i))}function h(e,t,i){t===e.startContainer&&i===e.startOffset&&t===e.endContainer&&i===e.endOffset||n(e,t,i,t,i)}i.prototype=new E,e.util.extend(i.prototype,{setStart:function(e,t){y(this),v(e,!0),w(e,t),l(this,e,t)},setEnd:function(e,t){y(this),v(e,!0),w(e,t),d(this,e,t)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(e){k(this),e?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){y(this),v(e,!0),n(this,e,0,e,R.getNodeLength(e))},selectNode:function(e){y(this),v(e,!1),b(e,F);var t=a(e),i=s(e);n(this,t.node,t.offset,i.node,i.offset)},extractContents:A(u,n),deleteContents:A(c,n),canSurroundContents:function(){k(this),x(this.startContainer),x(this.endContainer);var e=new p(this,!0),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!i},detach:function(){o(this)},splitBoundaries:function(){k(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,a=this.endOffset,s=e===i;R.isCharacterDataNode(i)&&a>0&&a<i.length&&R.splitDataNode(i,a),R.isCharacterDataNode(e)&&t>0&&t<e.length&&(e=R.splitDataNode(e,t),s?(a-=t,i=e):i==e.parentNode&&a>=R.getNodeIndex(e)&&a++,t=0),n(this,e,t,i,a)},normalizeBoundaries:function(){k(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,a=this.endOffset,s=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,a=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},o=function(n){var s=n.previousSibling;if(s&&s.nodeType==n.nodeType){e=n;var o=n.length;if(t=s.length,n.insertData(0,s.data),s.parentNode.removeChild(s),e==i)a+=t,i=e;else if(i==n.parentNode){var r=R.getNodeIndex(n);a==r?(i=n,a=o):a>r&&a--}}},r=!0;if(R.isCharacterDataNode(i))i.length==a&&s(i);else{if(a>0){var l=i.childNodes[a-1];l&&R.isCharacterDataNode(l)&&s(l)}r=!this.collapsed}if(r){if(R.isCharacterDataNode(e))0==t&&o(e);else if(t<e.childNodes.length){var c=e.childNodes[t];c&&R.isCharacterDataNode(c)&&o(c)}}else e=i,t=a;n(this,e,t,i,a)},collapseToPoint:function(e,t){y(this),v(e,!0),w(e,t),h(this,e,t)}}),P(i)}function M(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:R.getCommonAncestor(e.startContainer,e.endContainer)}function N(e,t,i,a,s){var o=e.startContainer!==t||e.startOffset!==i,r=e.endContainer!==a||e.endOffset!==s;e.startContainer=t,e.startOffset=i,e.endContainer=a,e.endOffset=s,M(e),n(e,"boundarychange",{startMoved:o,endMoved:r})}function j(e){y(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,n(e,"detach",null),e._listeners=null}function O(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},M(this)}e.requireModules(["DomUtil"]);var R=e.dom,L=R.DomPosition,$=e.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,R.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,i=this._current;!R.isCharacterDataNode(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(e=i===this.sc?this.so:0,t=i===this.ec?this.eo:i.length,e!=t&&i.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new O(i(this.range));var t=this._current,n=t,a=0,s=t,o=R.getNodeLength(t);R.isAncestorOf(t,this.sc,!0)&&(n=this.sc,a=this.so),R.isAncestorOf(t,this.ec,!0)&&(s=this.ec,o=this.eo),N(e,n,a,s,o)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},f.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},f.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var F=[1,3,4,5,7,8,10],z=[2,9,11],B=[5,6,10,12],H=[1,3,4,5,7,8,10,11],W=[1,3,4,5,7,8],q=R.getRootContainer,U=g([9,11]),Y=g(B),V=g([6,10,12]),X=document.createElement("style"),G=!1;try{X.innerHTML="<b>x</b>",G=3==X.firstChild.nodeType}catch(K){}e.features.htmlParsingConforms=G;var Q=G?function(e){var t=this.startContainer,i=R.getDocument(t);if(!t)throw new $("INVALID_STATE_ERR");var n=null;return 1==t.nodeType?n=t:R.isCharacterDataNode(t)&&(n=R.parentElement(t)),n=null===n||"HTML"==n.nodeName&&R.isHtmlNamespace(R.getDocument(n).documentElement)&&R.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=e,R.fragmentFromNodeChildren(n)}:function(e){y(this);var t=i(this),n=t.createElement("body");return n.innerHTML=e,R.fragmentFromNodeChildren(n)},J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,ee=1,te=2,ie=3,ne=0,ae=1,se=2,oe=3;E.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){k(this),_(this.startContainer,t.startContainer);var i,n,a,s,o=e==ie||e==Z?"start":"end",r=e==ee||e==Z?"start":"end";return i=this[o+"Container"],n=this[o+"Offset"],a=t[r+"Container"],s=t[r+"Offset"],R.comparePoints(i,n,a,s)},insertNode:function(e){if(k(this),b(e,H),x(this.startContainer),R.isAncestorOf(e,this.startContainer,!0))throw new $("HIERARCHY_REQUEST_ERR");var t=o(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){k(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&R.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=i(this).createDocumentFragment(),t.appendChild(e),t;var n=new p(this,!0);return e=r(n),n.detach(),e},canSurroundContents:function(){k(this),x(this.startContainer),x(this.endContainer);var e=new p(this,!0),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!i},surroundContents:function(e){if(b(e,W),!this.canSurroundContents())throw new f("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);o(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){k(this);for(var e,t=new O(i(this)),n=J.length;n--;)e=J[n],t[e]=this[e];return t},toString:function(){k(this);var e=this.startContainer;if(e===this.endContainer&&R.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],i=new p(this,!0);return l(i,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),i.detach(),t.join("")},compareNode:function(e){k(this);var t=e.parentNode,i=R.getNodeIndex(e);if(!t)throw new $("NOT_FOUND_ERR");var n=this.comparePoint(t,i),a=this.comparePoint(t,i+1);return 0>n?a>0?se:ne:a>0?ae:oe},comparePoint:function(e,t){return k(this),C(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),R.comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:R.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Q,toHtml:function(){k(this);var e=i(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(k(this),C(e,"NOT_FOUND_ERR"),R.getDocument(e)!==i(this))return!1;var n=e.parentNode,a=R.getNodeIndex(e);C(n,"NOT_FOUND_ERR");var s=R.comparePoints(n,a,this.endContainer,this.endOffset),o=R.comparePoints(n,a+1,this.startContainer,this.startOffset);return t?0>=s&&o>=0:0>s&&o>0},isPointInRange:function(e,t){return k(this),C(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),R.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&R.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){if(k(this),i(e)!=i(this))throw new $("WRONG_DOCUMENT_ERR");var n=R.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),a=R.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?0>=n&&a>=0:0>n&&a>0},intersection:function(e){if(this.intersectsRange(e)){var t=R.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=R.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==i&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==R.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==R.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new f("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==oe},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,R.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);if(i.length>0){t.setStart(i[0],0);var n=i.pop();t.setEnd(n,n.length);var a=this.containsRange(t);return t.detach(),a}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return k(this),new m(this,e,t)},getNodes:function(e,t){return k(this),d(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){y(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){y(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return O.rangesEqual(this,e)},inspect:function(){return h(this)}},I(O,N,j),e.rangePrototype=E.prototype,O.rangeProperties=J,O.RangeIterator=p,O.copyComparisonConstants=P,O.createPrototypeRange=I,O.inspect=h,O.getRangeDocument=i,O.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=O,e.RangeException=f}),rangy.createModule("WrappedRange",function(e){function t(e){var t=e.parentElement(),i=e.duplicate();i.collapse(!0);var n=i.parentElement();i=e.duplicate(),i.collapse(!1);var a=i.parentElement(),s=n==a?n:o.getCommonAncestor(n,a);return s==t?s:o.getCommonAncestor(t,s)}function i(e){return 0==e.compareEndPoints("StartToEnd",e)}function n(e,t,i,n){var a=e.duplicate();a.collapse(i);var s=a.parentElement();if(o.isAncestorOf(t,s,!0)||(s=t),!s.canHaveHTML)return new r(s.parentNode,o.getNodeIndex(s));var l,c,u,d,h,p=o.getDocument(s).createElement("span"),f=i?"StartToStart":"StartToEnd";do s.insertBefore(p,p.previousSibling),a.moveToElementText(p);while((l=a.compareEndPoints(f,e))>0&&p.previousSibling);if(h=p.nextSibling,-1==l&&h&&o.isCharacterDataNode(h)){a.setEndPoint(i?"EndToStart":"EndToEnd",e);var m;if(/[\r\n]/.test(h.data)){var g=a.duplicate(),v=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",v);-1==(l=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=a.text.length;d=new r(h,m)}else c=(n||!i)&&p.previousSibling,u=(n||i)&&p.nextSibling,d=u&&o.isCharacterDataNode(u)?new r(u,0):c&&o.isCharacterDataNode(c)?new r(c,c.length):new r(s,o.getNodeIndex(p));return p.parentNode.removeChild(p),d}function a(e,t){var i,n,a,s,r=e.offset,l=o.getDocument(e.node),c=l.body.createTextRange(),u=o.isCharacterDataNode(e.node);return u?(i=e.node,n=i.parentNode):(s=e.node.childNodes,i=r<s.length?s[r]:null,n=e.node),a=l.createElement("span"),a.innerHTML="&#feff;",i?n.insertBefore(a,i):n.appendChild(a),c.moveToElementText(a),c.collapse(!t),n.removeChild(a),u&&c[t?"moveStart":"moveEnd"]("character",r),c}e.requireModules(["DomUtil","DomRange"]);var s,o=e.dom,r=o.DomPosition,l=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){s=function(e){this.textRange=e,this.refresh()},s.prototype=new l(document),s.prototype.refresh=function(){var e,a,s=t(this.textRange);i(this.textRange)?a=e=n(this.textRange,s,!0,!0):(e=n(this.textRange,s,!0,!1),a=n(this.textRange,s,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(a.node,a.offset)},l.copyComparisonConstants(s);var c=function(){return this}();"undefined"==typeof c.Range&&(c.Range=s),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else!function(){function t(e){for(var t,i=u.length;i--;)t=u[i],e[t]=e.nativeRange[t]}function i(e,t,i,n,a){var s=e.startContainer!==t||e.startOffset!=i,o=e.endContainer!==n||e.endOffset!=a;(s||o)&&(e.setEnd(n,a),e.setStart(t,i))}function n(e){e.nativeRange.detach(),e.detached=!0;for(var t,i=u.length;i--;)t=u[i],e[t]=null}var a,r,c,u=l.rangeProperties;s=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},l.createPrototypeRange(s,i,n),a=s.prototype,a.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},a.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},a.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},a.cloneContents=function(){return this.nativeRange.cloneContents()},a.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},a.collapse=function(e){this.nativeRange.collapse(e),t(this)},a.cloneRange=function(){return new s(this.nativeRange.cloneRange())},a.refresh=function(){t(this)},a.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");o.getBody(document).appendChild(d);var h=document.createRange();h.setStart(d,0),h.setEnd(d,0);try{h.setStart(d,1),r=!0,a.setStart=function(e,i){this.nativeRange.setStart(e,i),t(this)},a.setEnd=function(e,i){this.nativeRange.setEnd(e,i),t(this)},c=function(e){return function(i){this.nativeRange[e](i),t(this)}}}catch(p){r=!1,a.setStart=function(e,i){try{this.nativeRange.setStart(e,i)}catch(n){this.nativeRange.setEnd(e,i),this.nativeRange.setStart(e,i)}t(this)},a.setEnd=function(e,i){try{this.nativeRange.setEnd(e,i)}catch(n){this.nativeRange.setStart(e,i),this.nativeRange.setEnd(e,i)}t(this)},c=function(e,i){
return function(n){try{this.nativeRange[e](n)}catch(a){this.nativeRange[i](n),this.nativeRange[e](n)}t(this)}}}a.setStartBefore=c("setStartBefore","setEndBefore"),a.setStartAfter=c("setStartAfter","setEndAfter"),a.setEndBefore=c("setEndBefore","setStartBefore"),a.setEndAfter=c("setEndAfter","setStartAfter"),h.selectNodeContents(d),h.startContainer==d&&h.endContainer==d&&0==h.startOffset&&h.endOffset==d.length?a.selectNodeContents=function(e){this.nativeRange.selectNodeContents(e),t(this)}:a.selectNodeContents=function(e){this.setStart(e,0),this.setEnd(e,l.getEndOffset(e))},h.selectNodeContents(d),h.setEnd(d,3);var f=document.createRange();f.selectNodeContents(d),f.setEnd(d,4),f.setStart(d,2),-1==h.compareBoundaryPoints(h.START_TO_END,f)&1==h.compareBoundaryPoints(h.END_TO_START,f)?a.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:a.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(h,"createContextualFragment")&&(a.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),o.getBody(document).removeChild(d),h.detach(),f.detach()}(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(s.rangeToTextRange=function(e){if(e.collapsed){var t=a(new r(e.startContainer,e.startOffset),!0);return t}var i=a(new r(e.startContainer,e.startOffset),!0),n=a(new r(e.endContainer,e.endOffset),!1),s=o.getDocument(e.startContainer).body.createTextRange();return s.setEndPoint("StartToStart",i),s.setEndPoint("EndToEnd",n),s}),s.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=s,e.createRange=function(t){return t=t||document,new s(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new l(e)},e.createIframeRange=function(t){return e.createRange(o.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(o.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var i=t.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return e.createRange(this)}),i=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function i(e){return(e||window).getSelection()}function n(e){return(e||window).document.selection}function a(e,t,i){var n=i?"end":"start",a=i?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[a+"Container"],e.focusOffset=t[a+"Offset"]}function s(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function o(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function r(t){var i;return t instanceof T?(i=t._selectionNativeRange,i||(i=e.createNativeRange(x.getDocument(t.startContainer)),i.setEnd(t.endContainer,t.endOffset),i.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=i,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof S?i=t.nativeRange:e.features.implementsDomRange&&t instanceof x.getWindow(t.startContainer).Range&&(i=t),i}function l(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,i=e.length;i>t;++t)if(!x.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function u(e){return!!e&&"undefined"!=typeof e.text}function d(e,t){var i=new S(t);e._ranges=[i],a(e,i,!1),e.rangeCount=1,e.isCollapsed=i.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)o(t);else{var i=t.docSelection.createRange();if(u(i))d(t,i);else{t.rangeCount=i.length;for(var n,s=x.getDocument(i.item(0)),r=0;r<t.rangeCount;++r)n=e.createRange(s),n.selectNode(i.item(r)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,a(t,t._ranges[t.rangeCount-1],!1)}}}function p(e,t){for(var i=e.docSelection.createRange(),n=c(t),a=x.getDocument(i.item(0)),s=x.getBody(a).createControlRange(),o=0,r=i.length;r>o;++o)s.add(i.item(o));try{s.add(n)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),h(e)}function f(e,t,i){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=i,this.refresh()}function m(e,t){for(var i,n=x.getDocument(t[0].startContainer),a=x.getBody(n).createControlRange(),s=0;s<rangeCount;++s){i=c(t[s]);try{a.add(i)}catch(o){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}a.select(),h(e)}function g(e,t){if(e.anchorNode&&x.getDocument(e.anchorNode)!==x.getDocument(t))throw new k("WRONG_DOCUMENT_ERR")}function v(e){var t=[],i=new E(e.anchorNode,e.anchorOffset),n=new E(e.focusNode,e.focusOffset),a="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var s=0,o=e.rangeCount;o>s;++s)t[s]=T.inspect(e.getRangeAt(s));return"["+a+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var y,b,w="boolean",_="_rangySelection",x=e.dom,C=e.util,T=e.DomRange,S=e.WrappedRange,k=e.DOMException,E=x.DomPosition,D="Control",P=e.util.isHostMethod(window,"getSelection"),A=e.util.isHostObject(document,"selection"),I=A&&(!P||e.config.preferTextRange);I?(y=n,e.isSelectionValid=function(e){var t=(e||window).document,i=t.selection;return"None"!=i.type||x.getDocument(i.createRange().parentElement())==t}):P?(y=i,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=y;var M=y(),N=e.createNativeRange(document),j=x.getBody(document),O=C.areHostObjects(M,["anchorNode","focusNode"]&&C.areHostProperties(M,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=O;var R=C.isHostMethod(M,"extend");e.features.selectionHasExtend=R;var L="number"==typeof M.rangeCount;e.features.selectionHasRangeCount=L;var $=!1,F=!0;C.areHostMethods(M,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof M.rangeCount&&e.features.implementsDomRange&&!function(){var e=document.createElement("iframe");j.appendChild(e);var t=x.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var i=x.getIframeWindow(e).getSelection(),n=t.documentElement,a=n.lastChild,s=a.firstChild,o=t.createRange();o.setStart(s,1),o.collapse(!0),i.addRange(o),F=1==i.rangeCount,i.removeAllRanges();var r=o.cloneRange();o.setStart(s,0),r.setEnd(s,2),i.addRange(o),i.addRange(r),$=2==i.rangeCount,o.detach(),r.detach(),j.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=$,e.features.collapsedNonEditableSelectionsSupported=F;var z,B=!1;j&&C.isHostMethod(j,"createControlRange")&&(z=j.createControlRange(),C.areHostProperties(z,["item","add"])&&(B=!0)),e.features.implementsControlRange=B,b=O?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var H;C.isHostMethod(M,"getRangeAt")?H=function(e,t){try{return e.getRangeAt(t)}catch(i){return null}}:O&&(H=function(t){var i=x.getDocument(t.anchorNode),n=e.createRange(i);return n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(t.focusNode,t.focusOffset),n.setEnd(t.anchorNode,t.anchorOffset)),n}),e.getSelection=function(e){e=e||window;var t=e[_],i=y(e),a=A?n(e):null;return t?(t.nativeSelection=i,t.docSelection=a,t.refresh(e)):(t=new f(i,a,e),e[_]=t),t},e.getIframeSelection=function(t){return e.getSelection(x.getIframeWindow(t))};var W=f.prototype;if(!I&&O&&C.areHostMethods(M,["removeAllRanges","addRange"])){W.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),o(this)};var q=function(t,i){var n=T.getRangeDocument(i),a=e.createRange(n);a.collapseToPoint(i.endContainer,i.endOffset),t.nativeSelection.addRange(r(a)),t.nativeSelection.extend(i.startContainer,i.startOffset),t.refresh()};L?W.addRange=function(t,i){if(B&&A&&this.docSelection.type==D)p(this,t);else if(i&&R)q(this,t);else{var n;if($?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(r(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(e.config.checkSelectionRanges){var s=H(this.nativeSelection,this.rangeCount-1);s&&!T.rangesEqual(s,t)&&(t=new S(s))}this._ranges[this.rangeCount-1]=t,a(this,t,V(this.nativeSelection)),this.isCollapsed=b(this)}else this.refresh()}}:W.addRange=function(e,t){t&&R?q(this,e):(this.nativeSelection.addRange(r(e)),this.refresh())},W.setRanges=function(e){if(B&&e.length>1)m(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;i>t;++t)this.addRange(e[t])}}}else{if(!(C.isHostMethod(M,"empty")&&C.isHostMethod(N,"select")&&B&&I))return t.fail("No means of selecting a Range or TextRange was found"),!1;W.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=x.getDocument(this.anchorNode);else if(this.docSelection.type==D){var t=this.docSelection.createRange();t.length&&(e=x.getDocument(t.item(0)).body.createTextRange())}if(e){var i=e.body.createTextRange();i.select(),this.docSelection.empty()}}}catch(n){}o(this)},W.addRange=function(e){this.docSelection.type==D?p(this,e):(S.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,e,!1))},W.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?m(this,e):t&&this.addRange(e[0])}}W.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new k("INDEX_SIZE_ERR");return this._ranges[e]};var U;if(I)U=function(t){var i;e.isSelectionValid(t.win)?i=t.docSelection.createRange():(i=x.getBody(t.win.document).createTextRange(),i.collapse(!0)),t.docSelection.type==D?h(t):u(i)?d(t,i):o(t)};else if(C.isHostMethod(M,"getRangeAt")&&"number"==typeof M.rangeCount)U=function(t){if(B&&A&&t.docSelection.type==D)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection?t.nativeSelection.rangeCount:0,t.rangeCount){for(var i=0,n=t.rangeCount;n>i;++i)t._ranges[i]=new e.WrappedRange(t.nativeSelection.getRangeAt(i));a(t,t._ranges[t.rangeCount-1],V(t.nativeSelection)),t.isCollapsed=b(t)}else o(t)};else{if(!O||typeof M.isCollapsed!=w||typeof N.collapsed!=w||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;U=function(e){var t,i=e.nativeSelection;i.anchorNode?(t=H(i,0),e._ranges=[t],e.rangeCount=1,s(e),e.isCollapsed=b(e)):o(e)}}W.refresh=function(e){var t=e?this._ranges.slice(0):null;if(U(this),e){var i=t.length;if(i!=this._ranges.length)return!1;for(;i--;)if(!T.rangesEqual(t[i],this._ranges[i]))return!1;return!0}};var Y=function(e,t){var i=e.getAllRanges(),n=!1;e.removeAllRanges();for(var a=0,s=i.length;s>a;++a)n||t!==i[a]?e.addRange(i[a]):n=!0;e.rangeCount||o(e)};B?W.removeRange=function(e){if(this.docSelection.type==D){for(var t,i=this.docSelection.createRange(),n=c(e),a=x.getDocument(i.item(0)),s=x.getBody(a).createControlRange(),o=!1,r=0,l=i.length;l>r;++r)t=i.item(r),t!==n||o?s.add(i.item(r)):o=!0;s.select(),h(this)}else Y(this,e)}:W.removeRange=function(e){Y(this,e)};var V;!I&&O&&e.features.implementsDomRange?(V=function(e){var t=!1;return e.anchorNode&&(t=1==x.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},W.isBackwards=function(){return V(this)}):V=W.isBackwards=function(){return!1},W.toString=function(){for(var e=[],t=0,i=this.rangeCount;i>t;++t)e[t]=""+this._ranges[t];return e.join("")},W.collapse=function(t,i){g(this,t);var n=e.createRange(x.getDocument(t));n.collapseToPoint(t,i),this.removeAllRanges(),this.addRange(n),this.isCollapsed=!0},W.collapseToStart=function(){if(!this.rangeCount)throw new k("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},W.collapseToEnd=function(){if(!this.rangeCount)throw new k("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},W.selectAllChildren=function(t){g(this,t);var i=e.createRange(x.getDocument(t));i.selectNodeContents(t),this.removeAllRanges(),this.addRange(i)},W.deleteFromDocument=function(){if(B&&A&&this.docSelection.type==D){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();this.removeAllRanges();for(var n=0,a=i.length;a>n;++n)i[n].deleteContents();this.addRange(i[a-1])}},W.getAllRanges=function(){return this._ranges.slice(0)},W.setSingleRange=function(e){this.setRanges([e])},W.containsNode=function(e,t){for(var i=0,n=this._ranges.length;n>i;++i)if(this._ranges[i].containsNode(e,t))return!0;return!1},W.toHtml=function(){var e="";if(this.rangeCount){for(var t=T.getRangeDocument(this._ranges[0]).createElement("div"),i=0,n=this._ranges.length;n>i;++i)t.appendChild(this._ranges[i].cloneContents());e=t.innerHTML}return e},W.getName=function(){return"WrappedSelection"},W.inspect=function(){return v(this)},W.detach=function(){this.win[_]=null,this.win=this.anchorNode=this.focusNode=null},f.inspect=v,e.Selection=f,e.selectionPrototype=W,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})});var Base=function(){};Base.extend=function(e,t){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,e),n.base=function(){},delete Base._prototyping;var a=n.constructor,s=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==s)this._constructing=!0,a.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return s.ancestor=this,s.extend=this.extend,s.forEach=this.forEach,s.implement=this.implement,s.prototype=n,s.toString=this.toString,s.valueOf=function(e){return"object"==e?s:a.valueOf()},i.call(s,t),"function"==typeof s.init&&s.init(),s},Base.prototype={extend:function(e,t){if(arguments.length>1){var i=this[e];if(i&&"function"==typeof t&&(!i.valueOf||i.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var n=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=i;var t=n.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:n},t.toString=Base.toString}this[e]=t}else if(e){var a=Base.prototype.extend;Base._prototyping||"function"==typeof this||(a=this.extend||a);for(var s={toSource:null},o=["constructor","toString","valueOf"],r=Base._prototyping?0:1;l=o[r++];)e[l]!=s[l]&&a.call(this,l,e[l]);for(var l in e)s[l]||a.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,i){for(var n in e)void 0===this.prototype[n]&&t.call(i,e[n],n,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var t=navigator.userAgent,i=document.createElement("div"),n=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),a=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),s=-1!==t.indexOf("AppleWebKit/"),o=-1!==t.indexOf("Chrome/"),r=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),n="contentEditable"in i,a=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,s=document.querySelector&&document.querySelectorAll,o=this.isIos()&&e(t)<5||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&a&&s&&!o},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var e=this.USER_AGENT.toLowerCase();return-1!==e.indexOf("webkit")&&-1!==e.indexOf("mobile")},supportsSandboxedIframes:function(){return n},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!a},hasCurrentStyleProperty:function(){return"currentStyle"in i},hasHistoryIssue:function(){return a},insertsLineBreaksOnReturn:function(){return a},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in i||function(){return i.setAttribute("on"+e,"return;"),"function"==typeof i["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!r},supportsHTML5Tags:function(e){var t=e.createElement("div"),i="<article>foo</article>";return t.innerHTML=i,t.innerHTML.toLowerCase()===i},supportsCommand:function(){var e={formatBlock:n,insertUnorderedList:n||r||s,insertOrderedList:n||r||s},t={insertHTML:a};return function(i,n){var a=e[n];if(!a){try{return i.queryCommandSupported(n)}catch(s){}try{return i.queryCommandEnabled(n)}catch(o){return!!t[n]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return a||r||s},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return a||n||r},clearsListsInContentEditableCorrectly:function(){return a||n||s},autoScrollsToCaret:function(){return!s},autoClosesUnclosedTags:function(){var e,t,n=i.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return r},supportsSpeechApiOn:function(e){var i=t.match(/Chrome\/(\d+)/)||[,0];return i[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return n&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return n},hasProblemsSettingCaretAfterImg:function(){return n},hasUndoInContextMenu:function(){return a||o||r}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(e.indexOf)return-1!==e.indexOf(t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return!0;return!1},without:function(t){t=wysihtml5.lang.array(t);for(var i=[],n=0,a=e.length;a>n;n++)t.contains(e[n])||i.push(e[n]);return i},get:function(){for(var t=0,i=e.length,n=[];i>t;t++)n.push(e[t]);return n}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(e,t){this.events=this.events||{};for(var i=this.events[e]||[],n=0;n<i.length;n++)i[n].call(this,t);return this},stopObserving:function(e,t){this.events=this.events||{};var i,n,a=0;if(e){for(i=this.events[e]||[],n=[];a<i.length;a++)i[a]!==t&&t&&n.push(i[a]);this.events[e]=n}else this.events={};return this}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var i in t)e[i]=t[i];return this},get:function(){return e},clone:function(){var t,i={};for(t in e)i[t]=e[t];return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/;wysihtml5.lang.string=function(i){return i=String(i),{trim:function(){return i.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)i=this.replace("#{"+t+"}").by(e[t]);return i},replace:function(e){return{by:function(t){return i.split(e).join(t)}}}}}}(),function(e){function t(e){return s(e)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),o(e))}function i(e){return e.replace(l,function(e,t){var i=(t.match(c)||[])[1]||"",n=d[i];t=t.replace(c,""),t.split(n).length>t.split(i).length&&(t+=i,i="");var a=t,s=t;return t.length>u&&(s=s.substr(0,u)+"..."),"www."===a.substr(0,4)&&(a="http://"+a),'<a href="'+a+'">'+s+"</a>"+i})}function n(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function a(e){var t=e.parentNode,a=n(t.ownerDocument);for(a.innerHTML="<span></span>"+i(e.data),a.removeChild(a.firstChild);a.firstChild;)t.insertBefore(a.firstChild,e);t.removeChild(e)}function s(e){for(var t;e.parentNode;){if(e=e.parentNode,t=e.nodeName,r.contains(t))return!0;if("body"===t)return!1}return!1}function o(t){if(!r.contains(t.nodeName)){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return void a(t);for(var i=e.lang.array(t.childNodes).get(),n=i.length,s=0;n>s;s++)o(i[s]);return t}}var r=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u=100,d={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.dom;t.addClass=function(e,i){var n=e.classList;return n?n.add(i):void(t.hasClass(e,i)||(e.className+=" "+i))},t.removeClass=function(e,t){var i=e.classList;return i?i.remove(t):void(e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))},t.hasClass=function(e,t){var i=e.classList;if(i)return i.contains(t);var n=e.className;return n.length>0&&(n==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var i=e.createElement("li");return t.appendChild(i),i}function t(e,t){return e.createElement(t)}function i(i,n){if("UL"===i.nodeName||"OL"===i.nodeName||"MENU"===i.nodeName)return i;var a,s,o,r,l,c,u,d,h,p=i.ownerDocument,f=t(p,n),m=i.querySelectorAll("br"),g=m.length;for(h=0;g>h;h++)for(r=m[h];(l=r.parentNode)&&l!==i&&l.lastChild===r;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(r);break}wysihtml5.dom.insert(r).after(r.parentNode)}for(a=wysihtml5.lang.array(i.childNodes).get(),s=a.length,h=0;s>h;h++)d=d||e(p,f),o=a[h],c="block"===wysihtml5.dom.getStyle("display").from(o),u="BR"===o.nodeName,c?(d=d.firstChild?e(p,f):d,d.appendChild(o),d=null):u?d=d.firstChild?null:d:d.appendChild(o);return i.parentNode.replaceChild(f,i),f}return i}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(i){for(var n,a=0,s=e.length;s>a;a++)n=e[a],"undefined"!=typeof t[n]&&""!==t[n]&&(i[n]=t[n]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],i=function(t){return n(t)?parseInt(e.getStyle("width").from(t),10)<t.offsetWidth:!1},n=function(i){for(var n=0,a=t.length;a>n;n++)if("border-box"===e.getStyle(t[n]).from(i))return t[n]};e.copyStyles=function(n){return{from:function(a){i(a)&&(n=wysihtml5.lang.array(n).without(t));for(var s,o="",r=n.length,l=0;r>l;l++)s=n[l],o+=s+":"+e.getStyle(s).from(a)+";";return{to:function(t){return e.setStyles(o).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,i,n,a){return e.dom.observe(t,n,function(n){for(var s=n.target,o=e.lang.array(t.querySelectorAll(i));s&&s!==t;){if(o.contains(s)){a.call(s,n);break}s=s.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var i=t.createElement("div");i.style.display="none",t.body.appendChild(i);try{i.innerHTML=e}catch(n){}return t.body.removeChild(i),i},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,n=i.length;n>t;t++)e.createElement(i[t]);e._wysihtml5_supportsHTML5Tags=!0}},i=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(i,n){n=n||document;var a;return"object"==typeof i&&i.nodeType?(a=n.createElement("div"),a.appendChild(i)):wysihtml5.browser.supportsHTML5Tags(n)?(a=n.createElement("div"),a.innerHTML=i):(t(n),a=e(i,n)),a}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return t&&t.length?"string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e):!0}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function i(e,t,i){var n=(e.className||"").match(i)||[];return t?n[n.length-1]===t:!!n.length}function n(t,i,n){for(;n--&&t&&"BODY"!==t.nodeName;){if(e(t.nodeName,i))return t;t=t.parentNode}return null}function a(n,a,s,o,r){for(;r--&&n&&"BODY"!==n.nodeName;){if(t(n)&&e(n.nodeName,a)&&i(n,s,o))return n;n=n.parentNode}return null}return function(e,t,i){return i=i||50,t.className||t.classRegExp?a(e,t.nodeName,t.className,t.classRegExp,i):n(e,t.nodeName,i)}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(i,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},i=/\-[a-z]/g;return function(i){return{from:function(n){if(n.nodeType===wysihtml5.ELEMENT_NODE){var a=n.ownerDocument,s=t[i]||e(i),o=n.style,r=n.currentStyle,l=o[s];if(l)return l;if(r)try{return r[s]}catch(c){}var u,d,h=a.defaultView||a.parentWindow,p=("height"===i||"width"===i)&&"TEXTAREA"===n.nodeName;return h.getComputedStyle?(p&&(u=o.overflow,o.overflow="hidden"),d=h.getComputedStyle(n,null).getPropertyValue(i),p&&(o.overflow=u||""),d):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var t={},i=1;return function(i,n){var a=e(i)+":"+n,s=t[a];return s||(s=t[a]=i.getElementsByTagName(n)),s.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var i={},n=1;e.dom.hasElementWithClassName=function(n,a){if(!e.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+a);var s=t(n)+":"+a,o=i[s];return o||(o=i[s]=n.getElementsByClassName(a)),o.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var i=t.head||t.getElementsByTagName("head")[0],n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),i&&i.appendChild(n)}}},wysihtml5.dom.observe=function(e,t,i){t="string"==typeof t?[t]:t;for(var n,a,s=0,o=t.length;o>s;s++)a=t[s],e.addEventListener?e.addEventListener(a,i,!1):(n=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},i.call(e,t)},e.attachEvent("on"+a,n));return{stop:function(){for(var a,s=0,o=t.length;o>s;s++)a=t[s],e.removeEventListener?e.removeEventListener(a,i,!1):e.detachEvent("on"+a,n)}}},wysihtml5.dom.parse=function(){function e(e,i,n,a){wysihtml5.lang.object(d).merge(u).merge(i).get(),n=n||e.ownerDocument||document;var s,o,r,l=n.createDocumentFragment(),c="string"==typeof e;for(s=c?wysihtml5.dom.getAsDom(e,n):e;s.firstChild;)r=s.firstChild,s.removeChild(r),o=t(r,a),o&&l.appendChild(o);return s.innerHTML="",s.appendChild(l),c?wysihtml5.quirks.getCorrectInnerHTML(s):s}function t(e,i){var n,a=e.nodeType,s=e.childNodes,o=s.length,c=r[a],u=0;if(n=c&&c(e),!n)return null;for(u=0;o>u;u++)newChild=t(s[u],i),newChild&&n.appendChild(newChild);return i&&n.childNodes.length<=1&&n.nodeName.toLowerCase()===l&&!n.attributes.length?n.firstChild:n}function i(e){var t,i,a=d.tags,s=e.nodeName.toLowerCase(),o=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(o&&"HTML"!=o&&(s=o+":"+s),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(s="div")),s in a){if(t=a[s],!t||t.remove)return null;t="string"==typeof t?{rename_tag:t}:t}else{if(!e.firstChild)return null;t={rename_tag:l}}return i=e.ownerDocument.createElement(t.rename_tag||s),n(e,i,t),e=null,i}function n(e,t,i){var n,s,o,r,l,u,h,m={},g=i.set_class,v=i.add_class,y=i.set_attributes,b=i.check_attributes,w=d.classes,_=0,x=[],C=[],T=[],S=[];if(y&&(m=wysihtml5.lang.object(y).clone()),b)for(l in b)h=p[b[l]],h&&(u=h(a(e,l)),"string"==typeof u&&(m[l]=u));if(g&&x.push(g),v)for(l in v)h=f[v[l]],h&&(r=h(a(e,l)),"string"==typeof r&&x.push(r));for(w["_wysihtml5-temp-placeholder"]=1,S=e.getAttribute("class"),S&&(x=x.concat(S.split(c))),n=x.length;n>_;_++)o=x[_],w[o]&&C.push(o);for(s=C.length;s--;)o=C[s],wysihtml5.lang.array(T).contains(o)||T.unshift(o);T.length&&(m["class"]=T.join(" "));for(l in m)try{t.setAttribute(l,m[l])}catch(k){}m.src&&("undefined"!=typeof m.width&&t.setAttribute("width",m.width),"undefined"!=typeof m.height&&t.setAttribute("height",m.height))}function a(e,t){t=t.toLowerCase();var i=e.nodeName;if("IMG"==i&&"src"==t&&s(e)===!0)return e.src;if(h&&"outerHTML"in e){var n=e.outerHTML.toLowerCase(),a=-1!=n.indexOf(" "+t+"=");return a?e.getAttribute(t):null}return e.getAttribute(t)}function s(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function o(e){return e.ownerDocument.createTextNode(e.data)}var r={1:i,3:o},l="span",c=/\s+/,u={tags:{},classes:{}},d={},h=!wysihtml5.browser.supportsGetAttributeCorrectly(),p={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),href:function(){var e=/^(\/|https?:\/\/|mailto:)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}()},f={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()};return e}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,i=wysihtml5.lang.array(e.childNodes).get(),n=i.length,a=0;n>a;a++)t=i[a],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var i,n=e.ownerDocument.createElement(t);i=e.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(n),e.parentNode.replaceChild(n,e),n},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function i(e){return"BR"===e.nodeName}function n(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function a(e){if("MENU"===e.nodeName||"UL"===e.nodeName||"OL"===e.nodeName){var a,s,o,r,l,c=e.ownerDocument,u=c.createDocumentFragment(),d=e.previousElementSibling||e.previousSibling;for(d&&!t(d)&&n(u);l=e.firstChild;){for(s=l.lastChild;a=l.firstChild;)o=a===s,r=o&&!t(a)&&!i(a),u.appendChild(a),r&&n(u);l.parentNode.removeChild(l);
}e.parentNode.replaceChild(u,e)}}e.resolveList=a}(wysihtml5.dom),function(e){var t=document,i=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],n=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],a=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,i){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(i).get(),this.iframe=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var i=this,n=t.createElement("iframe");return n.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,i._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,i._onLoadIframe(n))},n},_onLoadIframe:function(s){if(e.dom.contains(t.documentElement,s)){var o=this,r=s.contentWindow,l=s.contentWindow.document,c=t.characterSet||t.charset||"utf-8",u=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(u),l.close(),this.getWindow=function(){return s.contentWindow},this.getDocument=function(){return s.contentWindow.document},r.onerror=function(e,t,i){throw new Error("wysihtml5.Sandbox: "+e,t,i)},!e.browser.supportsSandboxedIframes()){var d,h;for(d=0,h=i.length;h>d;d++)this._unset(r,i[d]);for(d=0,h=n.length;h>d;d++)this._unset(r,n[d],e.EMPTY_FUNCTION);for(d=0,h=a.length;h>d;d++)this._unset(l,a[d]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){o.callback(o)},0)}},_getHtml:function(t){var i,n=t.stylesheets,a="",s=0;if(n="string"==typeof n?[n]:n)for(i=n.length;i>s;s++)a+='<link rel="stylesheet" href="'+n[s]+'">';return t.stylesheets=a,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,i,n,a){try{t[i]=n}catch(s){}try{t.__defineGetter__(i,function(){return n})}catch(s){}if(a)try{t.__defineSetter__(i,function(){})}catch(s){}if(!e.browser.crashesWhenDefineProperty(i))try{var o={get:function(){return n}};a&&(o.set=function(){}),Object.defineProperty(t,i,o)}catch(s){}}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(i){for(var n in t)i.setAttribute(e[n]||n,t[n])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var i=t.style;if("string"==typeof e)return void(i.cssText+=";"+e);for(var n in e)"float"===n?(i.cssFloat=e[n],i.styleFloat=e[n]):i[n]=e[n]}}},function(e){e.simulatePlaceholder=function(t,i,n){var a="placeholder",s=function(){i.hasPlaceholderSet()&&i.clear(),i.placeholderSet=!1,e.removeClass(i.element,a)},o=function(){i.isEmpty()&&(i.placeholderSet=!0,i.setValue(n),e.addClass(i.element,a))};t.observe("set_placeholder",o).observe("unset_placeholder",s).observe("focus:composer",s).observe("paste:composer",s).observe("blur:composer",o),o()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function e(e,i,n){i=i||t,n=n||e.ownerDocument||document;var a,s,o,r,l,c="string"==typeof e,u=0;a=c?wysihtml5.dom.getAsDom(e,n):e;for(l in i)for(o=a.querySelectorAll(l),s=i[l],r=o.length;r>u;u++)s(o[u]);return o=e=i=null,c?a.innerHTML:a}var t={"a u":wysihtml5.dom.replaceWithChildNodes};return e}(),function(e){var t=e.dom;e.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=t&&"<p>&nbsp;</p><p>&nbsp;</p>"!=t||(e.innerHTML="")},0)};return function(i){t.observe(i.element,["cut","keydown"],e)}}(),e.quirks.ensureProperClearingOfLists=function(){var i=["OL","UL","MENU"],n=function(n,a){if(a.firstChild&&e.lang.array(i).contains(a.firstChild.nodeName)){var s=t.getParentElement(n,{nodeName:i});if(s){var o=s==a.firstChild;if(o){var r=s.childNodes.length<=1;if(r){var l=s.firstChild?""===s.firstChild.innerHTML:!0;l&&s.parentNode.removeChild(s)}}}}};return function(i){t.observe(i.element,"keydown",function(t){if(t.keyCode===e.BACKSPACE_KEY){var a=i.selection.getSelectedNode();n(a,i.element)}})}}()}(wysihtml5),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(i){var n=i.innerHTML;if(-1===n.indexOf(t))return n;var a,s,o,r,l=i.querySelectorAll("[href*='~'], [src*='~']");for(r=0,o=l.length;o>r;r++)a=l[r].href||l[r].src,s=e.lang.string(a).replace("~").by(t),n=e.lang.string(n).replace(s).by(a);return n}}(wysihtml5),function(e){var t=e.dom,i=["LI","P","H1","H2","H3","H4","H5","H6"],n=["UL","OL","MENU"];e.quirks.insertLineBreakOnReturn=function(a){function s(i){var n=t.getParentElement(i,{nodeName:["P","DIV"]},2);if(n){var s=document.createTextNode(e.INVISIBLE_SPACE);t.insert(s).before(n),t.replaceWithChildNodes(n),a.selection.selectNode(s)}}function o(o){var r=o.keyCode;if(!(o.shiftKey||r!==e.ENTER_KEY&&r!==e.BACKSPACE_KEY)){var l=(o.target,a.selection.getSelectedNode()),c=t.getParentElement(l,{nodeName:i},4);return c?void("LI"!==c.nodeName||r!==e.ENTER_KEY&&r!==e.BACKSPACE_KEY?c.nodeName.match(/H[1-6]/)&&r===e.ENTER_KEY&&setTimeout(function(){s(a.selection.getSelectedNode())},0):setTimeout(function(){var e,i=a.selection.getSelectedNode();i&&(e=t.getParentElement(i,{nodeName:n},2),e||s(i))},0)):void(r!==e.ENTER_KEY||e.browser.insertsLineBreaksOnReturn()||(a.commands.exec("insertLineBreak"),o.preventDefault()))}}t.observe(a.element.ownerDocument,"keydown",o)}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(i){e.dom.addClass(i,t),e.dom.removeClass(i,t);try{var n=i.ownerDocument;n.execCommand("italic",!1,null),n.execCommand("italic",!1,null)}catch(a){}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}var i=e.dom;e.Selection=Base.extend({constructor:function(e){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t){var n=rangy.createRange(this.doc),a=t.nodeType===e.ELEMENT_NODE,s="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,o=a?t.innerHTML:t.data,r=""===o||o===e.INVISIBLE_SPACE,l=i.getStyle("display").from(t),c="block"===l||"list-item"===l;if(r&&a&&s)try{t.innerHTML=e.INVISIBLE_SPACE}catch(u){}s?n.selectNodeContents(t):n.selectNode(t),s&&r&&a?n.collapse(c):s&&r&&(n.setStartAfter(t),n.setEndAfter(t)),this.setSelection(n)},getSelectedNode:function(e){var t,i;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(i=this.doc.selection.createRange(),i&&i.length)?i.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(i=this.getRange(this.doc),i?i.commonAncestorContainer:this.doc.body))},executeAndRestore:function(t,i){var n,a=this.doc.body,s=i&&a.scrollTop,o=i&&a.scrollLeft,r="_wysihtml5-temp-placeholder",l='<span class="'+r+'">'+e.INVISIBLE_SPACE+"</span>",c=this.getRange(this.doc);if(!c)return void t(a,a);var u=c.createContextualFragment(l);c.insertNode(u);try{t(c.startContainer,c.endContainer)}catch(d){setTimeout(function(){throw d},0)}caretPlaceholder=this.doc.querySelector("."+r),caretPlaceholder?(n=rangy.createRange(this.doc),n.selectNode(caretPlaceholder),n.deleteContents(),this.setSelection(n)):a.focus(),i&&(a.scrollTop=s,a.scrollLeft=o);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(h){}},executeAndRestoreSimple:function(e){var t,i,n,a,s,o=this.getRange(),r=this.doc.body;if(!o)return void e(r,r);a=o.getNodes([3]),i=a[0]||o.startContainer,n=a[a.length-1]||o.endContainer,s={collapsed:o.collapsed,startContainer:i,startOffset:i===o.startContainer?o.startOffset:0,endContainer:n,endOffset:n===o.endContainer?o.endOffset:n.length};try{e(o.startContainer,o.endContainer)}catch(l){setTimeout(function(){throw l},0)}t=rangy.createRange(this.doc);try{t.setStart(s.startContainer,s.startOffset)}catch(c){}try{t.setEnd(s.endContainer,s.endOffset)}catch(u){}try{this.setSelection(t)}catch(d){}},set:function(e,t){var i=rangy.createRange(this.doc);i.setStart(e,t||0),this.setSelection(i)},insertHTML:function(e){var t=rangy.createRange(this.doc),i=t.createContextualFragment(e),n=i.lastChild;this.insertNode(i),n&&this.setAfter(n)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t=this.getRange();if(t)try{t.surroundContents(e),this.selectNode(e)}catch(i){e.appendChild(t.extractContents()),t.insertNode(e)}},scrollIntoView:function(){var i,n=this.doc,a=5,s=n.documentElement.scrollHeight>n.documentElement.offsetHeight,o=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var t=n.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();s&&(this.insertNode(o),i=t(o),o.parentNode.removeChild(o),i>=n.body.scrollTop+n.documentElement.offsetHeight-a&&(n.body.scrollTop=i))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,i,n,a,s=this.doc.selection.createRange(),o=s.boundingTop,r=(s.boundingHeight,this.doc.body.scrollWidth);if(s.moveToPoint){for(0===o&&(i=this.doc.createElement("span"),this.insertNode(i),o=i.offsetTop,i.parentNode.removeChild(i)),o+=1,n=-10;r>n;n+=2)try{s.moveToPoint(n,o);break}catch(l){}for(e=o,t=this.doc.selection.createRange(),a=r;a>=0;a--)try{t.moveToPoint(a,e);break}catch(c){}s.setEndPoint("EndToEnd",t),s.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var i=this.getRange();return i?i.getNodes([e],t):[]},getRange:function(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,i=rangy.getSelection(t);return i.setSingleRange(e)}})}(wysihtml5),function(e,t){function i(e,t,i){if(!e.className)return!1;var n=e.className.match(i)||[];return n[n.length-1]===t}function n(e,t,i){e.className?(a(e,i),e.className+=" "+t):e.className=t}function a(e,t){e.className&&(e.className=e.className.replace(t,""))}function s(e,t){return e.className.replace(p," ")==t.className.replace(p," ")}function o(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function r(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var i,n,a,s=0,o=e.attributes.length;o>s;++s)if(i=e.attributes[s],a=i.name,"class"!=a){if(n=t.attributes.getNamedItem(a),i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function l(e,i){return t.dom.isCharacterDataNode(e)?0==i?!!e.previousSibling:i==e.length?!!e.nextSibling:!0:i>0&&i<e.childNodes.length}function c(e,i,n){var a;if(t.dom.isCharacterDataNode(i)&&(0==n?(n=t.dom.getNodeIndex(i),i=i.parentNode):n==i.length?(n=t.dom.getNodeIndex(i)+1,i=i.parentNode):a=t.dom.splitDataNode(i,n)),!a){a=i.cloneNode(!1),a.id&&a.removeAttribute("id");for(var s;s=i.childNodes[n];)a.appendChild(s);t.dom.insertAfter(a,i)}return i==e?a:c(e,a.parentNode,t.dom.getNodeIndex(a))}function u(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function d(e,t,i,n){this.tagNames=e||[h],this.cssClass=t||"",this.similarClassRegExp=i,this.normalize=n,this.applyToAnyTagName=!1}var h="span",p=/\s+/g;u.prototype={doMerge:function(){for(var e,t,i,n=[],a=0,s=this.textNodes.length;s>a;++a)e=this.textNodes[a],t=e.parentNode,n[a]=e.data,a&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=i=n.join(""),i},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,i=this.textNodes.length;i>t;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},d.prototype={getAncestorWithClass:function(n){for(var a;n;){if(a=this.cssClass?i(n,this.cssClass,this.similarClassRegExp):!0,n.nodeType==e.ELEMENT_NODE&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&a)return n;n=n.parentNode}return!1},postApply:function(e,t){for(var i,n,a,s=e[0],o=e[e.length-1],r=[],l=s,c=o,d=0,h=o.length,p=0,f=e.length;f>p;++p)n=e[p],a=this.getAdjacentMergeableTextNode(n.parentNode,!1),a?(i||(i=new u(a),r.push(i)),i.textNodes.push(n),n===s&&(l=i.firstTextNode,d=l.length),n===o&&(c=i.firstTextNode,h=i.getLength())):i=null;var m=this.getAdjacentMergeableTextNode(o.parentNode,!0);if(m&&(i||(i=new u(o),r.push(i)),i.textNodes.push(m)),r.length){for(p=0,f=r.length;f>p;++p)r[p].doMerge();t.setStart(l,d),t.setEnd(c,h)}},getAdjacentMergeableTextNode:function(t,i){var n,a=t.nodeType==e.TEXT_NODE,s=a?t.parentNode:t,o=i?"nextSibling":"previousSibling";if(a){if(n=t[o],n&&n.nodeType==e.TEXT_NODE)return n}else if(n=s[o],n&&this.areElementsMergeable(t,n))return n[i?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,i){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(i.tagName||"").toLowerCase())&&s(e,i)&&r(e,i)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(e){var i=e.parentNode;if(1==i.childNodes.length&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase()))this.cssClass&&n(i,this.cssClass,this.similarClassRegExp);else{var a=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(a,e),a.appendChild(e)}},isRemovable:function(i){return t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&e.lang.string(i.className).trim()==this.cssClass},undoToTextNode:function(e,t,i){if(!t.containsNode(i)){var n=t.cloneRange();n.selectNode(i),n.isPointInRange(t.endContainer,t.endOffset)&&l(t.endContainer,t.endOffset)&&(c(i,t.endContainer,t.endOffset),t.setEndAfter(i)),n.isPointInRange(t.startContainer,t.startOffset)&&l(t.startContainer,t.startOffset)&&(i=c(i,t.startContainer,t.startOffset))}this.similarClassRegExp&&a(i,this.similarClassRegExp),this.isRemovable(i)&&o(i)},applyToRange:function(t){var i=t.getNodes([e.TEXT_NODE]);if(!i.length)try{var n=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(n),void this.selectNode(t,n)}catch(a){}if(t.splitBoundaries(),i=t.getNodes([e.TEXT_NODE]),i.length){for(var s,o=0,r=i.length;r>o;++o)s=i[o],this.getAncestorWithClass(s)||this.applyToTextNode(s);t.setStart(i[0],0),s=i[i.length-1],t.setEnd(s,s.length),this.normalize&&this.postApply(i,t)}},undoToRange:function(t){var i,n,a=t.getNodes([e.TEXT_NODE]);if(a.length)t.splitBoundaries(),a=t.getNodes([e.TEXT_NODE]);else{var s=t.endContainer.ownerDocument,o=s.createTextNode(e.INVISIBLE_SPACE);t.insertNode(o),t.selectNode(o),a=[o]}for(var r=0,l=a.length;l>r;++r)i=a[r],n=this.getAncestorWithClass(i),n&&this.undoToTextNode(i,t,n);1==l?this.selectNode(t,a[0]):(t.setStart(a[0],0),i=a[a.length-1],t.setEnd(i,i.length),this.normalize&&this.postApply(a,t))},selectNode:function(t,i){var n=i.nodeType===e.ELEMENT_NODE,a="canHaveHTML"in i?i.canHaveHTML:!0,s=n?i.innerHTML:i.data,o=""===s||s===e.INVISIBLE_SPACE;if(o&&n&&a)try{i.innerHTML=e.INVISIBLE_SPACE}catch(r){}t.selectNodeContents(i),o&&n?t.collapse(!1):o&&(t.setStartAfter(i),t.setEndAfter(i))},getTextSelectedByRange:function(e,t){var i=t.cloneRange();i.selectNodeContents(e);var n=i.intersection(t),a=n?n.toString():"";return i.detach(),a},isAppliedToRange:function(t){var i,n=[],a=t.getNodes([e.TEXT_NODE]);if(!a.length)return i=this.getAncestorWithClass(t.startContainer),i?[i]:!1;for(var s,o=0,r=a.length;r>o;++o){if(s=this.getTextSelectedByRange(a[o],t),i=this.getAncestorWithClass(a[o]),""!=s&&!i)return!1;n.push(i)}return n},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},e.selection.HTMLApplier=d}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var i=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),a=i&&i.exec,s=null;if(this.editor.fire("beforecommand:composer"),a)n.unshift(this.composer),s=a.apply(i,n);else try{s=this.doc.execCommand(e,!1,t)}catch(o){}return this.editor.fire("aftercommand:composer"),s},state:function(e){var t=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),n=t&&t.state;if(n)return i.unshift(this.composer),n.apply(t,i);try{return this.doc.queryCommandState(e)}catch(a){return!1}}}),wysihtml5.commands.bold={exec:function(e,t){return wysihtml5.commands.formatInline.exec(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(e){function t(e,t){for(var i,n,a,o=t.length,r=0;o>r;r++)i=t[r],n=s.getParentElement(i,{nodeName:"code"}),a=s.getTextContent(i),a.match(s.autoLink.URL_REG_EXP)&&!n?n=s.renameElement(i,"code"):s.replaceWithChildNodes(i)}function i(t,i){var o,r,l,c,u,d,h,p,f,m=t.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(e.commands.formatInline.exec(t,n,a,g,v),r=m.querySelectorAll(a+"."+g),o=r.length;o>y;y++){l=r[y],l.removeAttribute("class");for(f in i)l.setAttribute(f,i[f])}d=l,1===o&&(h=s.getTextContent(l),c=!!l.querySelector("*"),u=""===h||h===e.INVISIBLE_SPACE,!c&&u&&(s.setTextContent(l,i.text||l.href),p=m.createTextNode(" "),t.selection.setAfter(l),t.selection.insertNode(p),d=p)),t.selection.setAfter(d)}var n,a="A",s=e.dom;e.commands.createLink={exec:function(e,n,a){var s=this.state(e,n);s?e.selection.executeAndRestore(function(){t(e,s)}):(a="object"==typeof a?a:{href:a},i(e,a))},state:function(t,i){return e.commands.formatInline.state(t,i,"A")}}}(wysihtml5),function(e){var t,i=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function(t,n,a){return e.commands.formatInline.exec(t,n,"span","wysiwyg-font-size-"+a,i)},state:function(t,n,a){return e.commands.formatInline.state(t,n,"span","wysiwyg-font-size-"+a,i)},value:function(){return t}}}(wysihtml5),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function(i,n,a){return e.commands.formatInline.exec(i,n,"span","wysiwyg-color-"+a,t)},state:function(i,n,a){return e.commands.formatInline.state(i,n,"span","wysiwyg-color-"+a,t)}}}(wysihtml5),function(e){function t(e,t,n){e.className?(i(e,n),e.className+=" "+t):e.className=t}function i(e,t){e.className=e.className.replace(t,"")}function n(t){return t.nodeType===e.TEXT_NODE&&!e.lang.string(t.data).trim()}function a(e){for(var t=e.previousSibling;t&&n(t);)t=t.previousSibling;return t}function s(e){for(var t=e.nextSibling;t&&n(t);)t=t.nextSibling;return t}function o(e){var t=e.ownerDocument,i=s(e),n=a(e);i&&!u(i)&&e.parentNode.insertBefore(t.createElement("br"),i),n&&!u(n)&&e.parentNode.insertBefore(t.createElement("br"),e)}function r(e){var t=s(e),i=a(e);t&&c(t)&&t.parentNode.removeChild(t),i&&c(i)&&i.parentNode.removeChild(i)}function l(e){var t=e.lastChild;t&&c(t)&&t.parentNode.removeChild(t)}function c(e){return"BR"===e.nodeName}function u(e){return c(e)?!0:"block"===f.getStyle("display").from(e)}function d(t,i,n,a){if(a)var s=f.observe(t,"DOMNodeInserted",function(t){var i,n=t.target;n.nodeType===e.ELEMENT_NODE&&(i=f.getStyle("display").from(n),"inline"!==i.substr(0,6)&&(n.className+=" "+a))});t.execCommand(i,!1,n),s&&s.stop()}function h(e,t){e.selection.selectLine(),e.selection.surround(t),r(t),l(t),e.selection.selectNode(t)}function p(t){return!!e.lang.string(t.className).trim()}var f=e.dom,m="DIV",g=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",m];e.commands.formatBlock={exec:function(n,a,s,r,l){var c,u=n.doc,v=this.state(n,a,s,r,l);return s="string"==typeof s?s.toUpperCase():s,v?void n.selection.executeAndRestoreSimple(function(){l&&i(v,l);var e=p(v);e||v.nodeName!==(s||m)?e&&f.renameElement(v,m):(o(v),f.replaceWithChildNodes(v))}):(null===s||e.lang.array(g).contains(s))&&(c=n.selection.getSelectedNode(),v=f.getParentElement(c,{nodeName:g}))?void n.selection.executeAndRestoreSimple(function(){s&&(v=f.renameElement(v,s)),r&&t(v,r,l)}):n.commands.support(a)?void d(u,a,s||m,r):(v=u.createElement(s||m),r&&(v.className=r),void h(n,v))},state:function(e,t,i,n,a){i="string"==typeof i?i.toUpperCase():i;var s=e.selection.getSelectedNode();return f.getParentElement(s,{nodeName:i,className:n,classRegExp:a})}}}(wysihtml5),function(e){function t(e){var t=n[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function i(i,n,s){var o=i+":"+n;return a[o]||(a[o]=new e.selection.HTMLApplier(t(i),n,s,!0)),a[o]}var n={strong:"b",em:"i",b:"strong",i:"em"},a={};e.commands.formatInline={exec:function(e,t,n,a,s){var o=e.selection.getRange();return o?(i(n,a,s).toggleRange(o),void e.selection.setSelection(o)):!1},state:function(t,a,s,o,r){var l,c=t.doc,u=n[s]||s;return e.dom.hasElementWithTagName(c,s)||e.dom.hasElementWithTagName(c,u)?o&&!e.dom.hasElementWithClassName(c,o)?!1:(l=t.selection.getRange(),l?i(s,o,r).isAppliedToRange(l):!1):!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,i){e.commands.support(t)?e.doc.execCommand(t,!1,i):e.selection.insertHTML(i)},state:function(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function(i,n,a){a="object"==typeof a?a:{src:a};var s,o,r,l=i.doc,c=this.state(i);if(c)return i.selection.setBefore(c),r=c.parentNode,r.removeChild(c),e.dom.removeEmptyTextNodes(r),"A"!==r.nodeName||r.firstChild||(i.selection.setAfter(r),r.parentNode.removeChild(r)),void e.quirks.redraw(i.element);c=l.createElement(t);for(o in a)"className"===o&&(o="class"),c.setAttribute(o,a[o]);i.selection.insertNode(c),e.browser.hasProblemsSettingCaretAfterImg()?(s=l.createTextNode(e.INVISIBLE_SPACE),i.selection.insertNode(s),i.selection.setAfter(s)):i.selection.setAfter(c)},state:function(i){var n,a,s,o=i.doc;return e.dom.hasElementWithTagName(o,t)&&(n=i.selection.getSelectedNode())?n.nodeName===t?n:n.nodeType!==e.ELEMENT_NODE?!1:(a=i.selection.getText(),(a=e.lang.string(a).trim())?!1:(s=i.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1!==s.length?!1:s[0])):!1}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(i,n){i.commands.support(n)?(i.doc.execCommand(n,!1,null),e.browser.autoScrollsToCaret()||i.selection.scrollIntoView()):i.commands.exec("insertHTML",t)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){var i,n,a=e.doc,s=e.selection.getSelectedNode(),o=wysihtml5.dom.getParentElement(s,{nodeName:"OL"}),r=wysihtml5.dom.getParentElement(s,{nodeName:"UL"}),l="_wysihtml5-temp-"+(new Date).getTime();return e.commands.support(t)?void a.execCommand(t,!1,null):void(o?e.selection.executeAndRestoreSimple(function(){wysihtml5.dom.resolveList(o)}):r?e.selection.executeAndRestoreSimple(function(){wysihtml5.dom.renameElement(r,"ol")}):(e.commands.exec("formatBlock","div",l),n=a.querySelector("."+l),i=""===n.innerHTML||n.innerHTML===wysihtml5.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){o=wysihtml5.dom.convertToList(n,"ol")}),i&&e.selection.selectNode(o.querySelector("li"))))},state:function(e){var t=e.selection.getSelectedNode();return wysihtml5.dom.getParentElement(t,{nodeName:"OL"})}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){var i,n,a=e.doc,s=e.selection.getSelectedNode(),o=wysihtml5.dom.getParentElement(s,{nodeName:"UL"}),r=wysihtml5.dom.getParentElement(s,{nodeName:"OL"}),l="_wysihtml5-temp-"+(new Date).getTime();return e.commands.support(t)?void a.execCommand(t,!1,null):void(o?e.selection.executeAndRestoreSimple(function(){wysihtml5.dom.resolveList(o)}):r?e.selection.executeAndRestoreSimple(function(){wysihtml5.dom.renameElement(r,"ul")}):(e.commands.exec("formatBlock","div",l),n=a.querySelector("."+l),i=""===n.innerHTML||n.innerHTML===wysihtml5.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){o=wysihtml5.dom.convertToList(n,"ul")}),i&&e.selection.selectNode(o.querySelector("li"))))},state:function(e){var t=e.selection.getSelectedNode();return wysihtml5.dom.getParentElement(t,{nodeName:"UL"})}},wysihtml5.commands.italic={exec:function(e,t){return wysihtml5.commands.formatInline.exec(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(e){var t="wysiwyg-text-align-center",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(n){return e.commands.formatBlock.exec(n,"formatBlock",null,t,i)},state:function(n){return e.commands.formatBlock.state(n,"formatBlock",null,t,i)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-left",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(n){return e.commands.formatBlock.exec(n,"formatBlock",null,t,i)},state:function(n){return e.commands.formatBlock.state(n,"formatBlock",null,t,i)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-right",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(n){return e.commands.formatBlock.exec(n,"formatBlock",null,t,i)},state:function(n){return e.commands.formatBlock.state(n,"formatBlock",null,t,i)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-justify",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(n){return e.commands.formatBlock.exec(n,"formatBlock",null,t,i)},state:function(n){return e.commands.formatBlock.state(n,"formatBlock",null,t,i)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(e,t){return wysihtml5.commands.formatInline.exec(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(){return!1}},function(e){function t(e){for(var t;t=e.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t)}var i=90,n=89,a=8,s=46,o=25,r="data-wysihtml5-selection-node",l="data-wysihtml5-selection-offset",c='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",u='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",d=e.dom;e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var o,r=this,l=this.composer.sandbox.getDocument();if(d.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,a=t===i&&!e.shiftKey,s=t===i&&e.shiftKey||t===n;a?(r.undo(),e.preventDefault()):s&&(r.redo(),e.preventDefault())}}),d.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==o&&(o=t,t!==a&&t!==s||r.transact())}),e.browser.hasUndoInContextMenu()){var h,p,f=function(){t(l),clearInterval(h)};d.observe(this.element,"contextmenu",function(){f(),r.composer.selection.executeAndRestoreSimple(function(){r.element.lastChild&&r.composer.selection.setAfter(r.element.lastChild),l.execCommand("insertHTML",!1,c),l.execCommand("insertHTML",!1,u),l.execCommand("undo",!1,null)}),h=setInterval(function(){l.getElementById("_wysihtml5-redo")?(f(),r.redo()):l.getElementById("_wysihtml5-undo")||(f(),r.undo())},400),p||(p=!0,d.observe(document,"mousedown",f),d.observe(l,["mousedown","paste","cut","copy"],f))})}this.editor.observe("newword:composer",function(){r.transact()}).observe("beforecommand:composer",function(){r.transact()})},transact:function(){var t=this.historyStr[this.position-1],i=this.composer.getValue();if(i!==t){var n=this.historyStr.length=this.historyDom.length=this.position;n>o&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++;var a,s,c=this.composer.selection.getRange(),u=c.startContainer||this.element,d=c.startOffset||0;u.nodeType===e.ELEMENT_NODE?a=u:(a=u.parentNode,s=this.getChildNodeIndex(a,u)),a.setAttribute(l,d),"undefined"!=typeof s&&a.setAttribute(r,s);var h=this.element.cloneNode(!!i);this.historyDom.push(h),this.historyStr.push(i),a.removeAttribute(l),a.removeAttribute(r)}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var t=0,i=e.childNodes,n=e.childNodes.length;n>t;t++)this.element.appendChild(i[t].cloneNode(!0));var a,s,o;e.hasAttribute(l)?(a=e.getAttribute(l),o=e.getAttribute(r),s=this.element):(s=this.element.querySelector("["+l+"]")||this.element,a=s.getAttribute(l),o=s.getAttribute(r),s.removeAttribute(l),s.removeAttribute(r)),null!==o&&(s=this.getChildNodeByIndex(s,+o)),this.composer.selection.set(s,a)},getChildNodeIndex:function(e,t){for(var i=0,n=e.childNodes,a=n.length;a>i;i++)if(n[i]===t)return i},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,i){this.parent=e,this.element=t,this.config=i,this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.observe("beforeload",function(){e.parent.observe("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,i=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,i){this.base(e,t,i),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=i.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t){var i=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t&&(i=this.parent.parse(i)),i=e.lang.string(i).replace(e.INVISIBLE_SPACE).by("")},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(i){this.element.innerText=e}},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=t.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var i=this.element.lastChild;t&&i&&("BR"===i.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")&&this.placeholderSet},isEmpty:function(){
var e=this.element.innerHTML,t="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===e||e===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(t)},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var i=this.textarea.element;if(t.insert(this.iframe).after(i),i.form){var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1,t.insert(n).after(i)}},_create:function(){var n=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new e.Selection(this.parent),this.commands=new e.Commands(this.parent),t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var a=this.config.name;a&&(t.addClass(this.element,a),t.addClass(this.iframe,a));var s="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");s&&t.simulatePlaceholder(this.parent,this,s),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){n.focus(!0)},100),e.quirks.insertLineBreakOnReturn(this),i.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),i.clearsListsInContentEditableCorrectly()||e.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var n=this,a=i.canDisableAutoLinking(),s=i.doesAutoLinkingInContentEditable();if(a&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!s||s&&a)&&(this.parent.observe("newword:composer",function(){n.selection.executeAndRestore(function(e,i){t.autoLink(i.parentNode)})}),t.observe(this.element,"blur",function(){t.autoLink(n.element)}));var o=this.sandbox.getDocument().getElementsByTagName("a"),r=t.autoLink.URL_REG_EXP,l=function(i){var n=e.lang.string(t.getTextContent(i)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};t.observe(this.element,"keydown",function(e){if(o.length){var i,a=n.selection.getSelectedNode(e.target.ownerDocument),s=t.getParentElement(a,{nodeName:"A"},4);s&&(i=l(s),setTimeout(function(){var e=l(s);e!==i&&e.match(r)&&s.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){var n=["width","height"],a=n.length,s=this.element,o=function(t){var i,o=t.target||t.srcElement,r=o.style,l=0;if("IMG"===o.nodeName){for(;a>l;l++)i=n[l],r[i]&&(o.setAttribute(i,parseInt(r[i],10)),r[i]="");e.quirks.redraw(s)}};this.commands.exec("enableObjectResizing",!0),i.supportsEvent("resizeend")?t.observe(s,"resizeend",o):t.observe(s,"DOMAttrModified",o)},_initUndoManager:function(){this.undoManager=new e.UndoManager(this.parent)}})}(wysihtml5),function(e){var t=e.dom,i=document,n=window,a=i.createElement("div"),s=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],o=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],r=["width","height","top","left","right","bottom"],l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(e){if(e.setActive)try{e.setActive()}catch(a){}else{var s=e.style,o=i.documentElement.scrollTop||i.body.scrollTop,r=i.documentElement.scrollLeft||i.body.scrollLeft,l={position:s.position,top:s.top,left:s.left,WebkitUserSelect:s.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(l).on(e),n.scrollTo&&n.scrollTo(r,o)}};e.views.Composer.prototype.style=function(){var u=this,d=i.querySelector(":focus"),h=this.textarea.element,p=h.hasAttribute("placeholder"),f=p&&h.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||a.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||a.cloneNode(!1),p&&h.removeAttribute("placeholder"),h===d&&h.blur(),t.copyStyles(o).from(h).to(this.iframe).andTo(this.blurStylesHost),t.copyStyles(s).from(h).to(this.element).andTo(this.blurStylesHost),t.insertCSS(l).into(this.element.ownerDocument),c(h),t.copyStyles(o).from(h).to(this.focusStylesHost),t.copyStyles(s).from(h).to(this.focusStylesHost);var m=e.lang.array(o).without(["display"]);if(d?d.focus():h.blur(),p&&h.setAttribute("placeholder",f),!e.browser.hasCurrentStyleProperty())var g=t.observe(n,"resize",function(){if(!t.contains(document.documentElement,u.iframe))return void g.stop();var e=t.getStyle("display").from(h),i=t.getStyle("display").from(u.iframe);h.style.display="",u.iframe.style.display="none",t.copyStyles(r).from(h).to(u.iframe).andTo(u.focusStylesHost).andTo(u.blurStylesHost),u.iframe.style.display=i,h.style.display=e});return this.parent.observe("focus:composer",function(){t.copyStyles(m).from(u.focusStylesHost).to(u.iframe),t.copyStyles(s).from(u.focusStylesHost).to(u.element)}),this.parent.observe("blur:composer",function(){t.copyStyles(m).from(u.blurStylesHost).to(u.iframe),t.copyStyles(s).from(u.blurStylesHost).to(u.element)}),this}}(wysihtml5),function(e){var t=e.dom,i=e.browser,n={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var a=this,s=this.getValue(),o=this.sandbox.getIframe(),r=this.element,l=i.supportsEventsInIframeCorrectly()?r:this.sandbox.getWindow(),c=["drop","paste"];t.observe(o,"DOMNodeRemoved",function(){clearInterval(u),a.parent.fire("destroy:composer")});var u=setInterval(function(){t.contains(document.documentElement,o)||(clearInterval(u),a.parent.fire("destroy:composer"))},250);t.observe(l,"focus",function(){a.parent.fire("focus").fire("focus:composer"),setTimeout(function(){s=a.getValue()},0)}),t.observe(l,"blur",function(){s!==a.getValue()&&a.parent.fire("change").fire("change:composer"),a.parent.fire("blur").fire("blur:composer")}),i.isIos()&&t.observe(r,"blur",function(){var e=r.ownerDocument.createElement("input"),t=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft;try{a.selection.insertNode(e)}catch(n){r.appendChild(e)}e.focus(),e.parentNode.removeChild(e),window.scrollTo(i,t)}),t.observe(r,"dragenter",function(){a.parent.fire("unset_placeholder")}),t.observe(r,c,function(){setTimeout(function(){a.parent.fire("paste").fire("paste:composer")},0)}),t.observe(r,"keyup",function(t){var i=t.keyCode;i!==e.SPACE_KEY&&i!==e.ENTER_KEY||a.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){a.parent.fire("newword:composer")},0)}),i.canSelectImagesInContentEditable()||t.observe(r,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(a.selection.selectNode(t),e.preventDefault())}),i.hasHistoryIssue()&&i.supportsSelectionModify()&&t.observe(r,"keydown",function(e){if(e.metaKey||e.ctrlKey){var t=e.keyCode,i=r.ownerDocument.defaultView,n=i.getSelection();37!==t&&39!==t||(37===t&&(n.modify("extend","left","lineboundary"),e.shiftKey||n.collapseToStart()),39===t&&(n.modify("extend","right","lineboundary"),e.shiftKey||n.collapseToEnd()),e.preventDefault())}}),t.observe(r,"keydown",function(e){var t=e.keyCode,i=n[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&i&&(a.commands.exec(i),e.preventDefault())}),t.observe(r,"keydown",function(t){var i,n=a.selection.getSelectedNode(!0),s=t.keyCode;!n||"IMG"!==n.nodeName||s!==e.BACKSPACE_KEY&&s!==e.DELETE_KEY||(i=n.parentNode,i.removeChild(n),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){e.quirks.redraw(r)},0),t.preventDefault())});var d={IMG:"Image: ",A:"Link: "};t.observe(r,"mouseover",function(e){var t,i=e.target,n=i.nodeName;if("A"===n||"IMG"===n){var a=i.hasAttribute("title");a||(t=d[n]+(i.getAttribute("href")||i.getAttribute("src")),i.setAttribute("title",t))}})}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,i){this.editor=e,this.textarea=t,this.composer=i,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue();t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var i,n=this,a=this.textarea.element.form,s=function(){i=setInterval(function(){n.fromComposerToTextarea()},t)},o=function(){clearInterval(i),i=null};s(),a&&(e.dom.observe(a,"submit",function(){n.sync(!0)}),e.dom.observe(a,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(e){"composer"!==e||i?"textarea"===e&&(n.fromComposerToTextarea(!0),o()):(n.fromTextareaToComposer(!0),s())}),this.editor.observe("destroy:composer",o)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,i){this.base(e,t,i),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,i=this.element.value,n=!i;return e&&n||i===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,i={focusin:"focus",focusout:"blur"},n=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.observe("beforeload",function(){wysihtml5.dom.observe(e,n,function(e){var n=i[e.type]||e.type;t.fire(n).fire(n+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t=e.dom,i="wysihtml5-command-dialog-opened",n="input, select, textarea",a="[data-wysihtml5-dialog-field]",s="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var a=this,s=function(e){var t=a._serialize();t==a.elementToChange?a.fire("edit",t):a.fire("save",t),a.hide(),e.preventDefault(),e.stopPropagation()};t.observe(a.link,"click",function(){t.hasClass(a.link,i)&&setTimeout(function(){a.hide()},0)}),t.observe(this.container,"keydown",function(t){var i=t.keyCode;i===e.ENTER_KEY&&s(t),i===e.ESCAPE_KEY&&a.hide()}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",s),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){a.fire("cancel"),a.hide(),e.preventDefault(),e.stopPropagation()});for(var o=this.container.querySelectorAll(n),r=0,l=o.length,c=function(){clearInterval(a.interval)};l>r;r++)t.observe(o[r],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(a),i=t.length,n=0;i>n;n++)e[t[n].getAttribute(s)]=t[n].value;return e},_interpolate:function(e){for(var t,i,n,o=document.querySelector(":focus"),r=this.container.querySelectorAll(a),l=r.length,c=0;l>c;c++)t=r[c],t!==o&&(e&&"hidden"===t.type||(i=t.getAttribute(s),n=this.elementToChange?this.elementToChange[i]||"":t.defaultValue,t.value=n))},show:function(e){if(!t.hasClass(this.link,i)){var a=this,s=this.container.querySelector(n);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){a._interpolate(!0)},500)),t.addClass(this.link,i),this.container.style.display="",this.fire("show"),s&&!e)try{s.focus()}catch(o){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,i),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,i={position:"relative"},n={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},a={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},s={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(o,r){var l=document.createElement("input");if(!e.browser.supportsSpeechApiOn(l))return void(r.style.display="none");var c=o.editor.textarea.element.getAttribute("lang");c&&(s.lang=c);var u=document.createElement("div");e.lang.object(n).merge({width:r.offsetWidth+"px",height:r.offsetHeight+"px"}),t.insert(l).into(u),t.insert(u).into(r),t.setStyles(a).on(l),t.setAttributes(s).on(l),t.setStyles(n).on(u),t.setStyles(i).on(r);var d="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,d,function(){o.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(r,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",i="wysihtml5-commands-disabled",n="wysihtml5-command-active",a="wysihtml5-action-active",s=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(t,i){this.editor=t,this.container="string"==typeof i?document.getElementById(i):i,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var n=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),a=n.length,s=0;a>s;s++)new e.toolbar.Speech(this,n[s])},_getLinks:function(t){for(var i,n,a,s,o,r=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=r.length,c=0,u=this[t+"Mapping"]={};l>c;c++)i=r[c],a=i.getAttribute("data-wysihtml5-"+t),s=i.getAttribute("data-wysihtml5-"+t+"-value"),n=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+a+"']"),o=this._getDialog(i,a),u[a+":"+s]={link:i,group:n,name:a,value:s,dialog:o,state:!1}},_getDialog:function(t,i){var n,a,s=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return o&&(n=new e.toolbar.Dialog(t,o),n.observe("show",function(){a=s.composer.selection.getBookmark(),s.editor.fire("show:dialog",{command:i,dialogContainer:o,commandLink:t})}),n.observe("save",function(e){a&&s.composer.selection.setBookmark(a),s._execCommand(i,e),s.editor.fire("save:dialog",{command:i,dialogContainer:o,commandLink:t})}),n.observe("cancel",function(){s.editor.focus(!1),s.editor.fire("cancel:dialog",{command:i,dialogContainer:o,commandLink:t})})),n},execCommand:function(e,t){if(!this.commandsDisabled){var i=this.commandMapping[e+":"+t];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;switch(e){case"change_view":t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")}},_observe:function(){for(var e=this,t=this.editor,n=this.container,a=this.commandLinks.concat(this.actionLinks),o=a.length,r=0;o>r;r++)s.setAttributes({href:"javascript:;",unselectable:"on"}).on(a[r]);s.delegate(n,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),s.delegate(n,"[data-wysihtml5-command]","click",function(t){var i=this,n=i.getAttribute("data-wysihtml5-command"),a=i.getAttribute("data-wysihtml5-command-value");e.execCommand(n,a),t.preventDefault()}),s.delegate(n,"[data-wysihtml5-action]","click",function(t){var i=this.getAttribute("data-wysihtml5-action");e.execAction(i),t.preventDefault()}),t.observe("focus:composer",function(){e.bookmark=null,clearInterval(e.interval),e.interval=setInterval(function(){e._updateLinkStates()},500)}),t.observe("blur:composer",function(){clearInterval(e.interval)}),t.observe("destroy:composer",function(){clearInterval(e.interval)}),t.observe("change_view",function(t){setTimeout(function(){e.commandsDisabled="composer"!==t,e._updateLinkStates(),e.commandsDisabled?s.addClass(n,i):s.removeClass(n,i)},0)})},_updateLinkStates:function(){var i,o,r,l,c=(this.composer.element,this.commandMapping),u=this.actionMapping;for(i in c)l=c[i],this.commandsDisabled?(o=!1,s.removeClass(l.link,n),l.group&&s.removeClass(l.group,n),l.dialog&&l.dialog.hide()):(o=this.composer.commands.state(l.name,l.value),e.lang.object(o).isArray()&&(o=1===o.length?o[0]:!0),s.removeClass(l.link,t),l.group&&s.removeClass(l.group,t)),l.state!==o&&(l.state=o,o?(s.addClass(l.link,n),l.group&&s.addClass(l.group,n),l.dialog&&("object"==typeof o?l.dialog.show(o):l.dialog.hide())):(s.removeClass(l.link,n),l.group&&s.removeClass(l.group,n),l.dialog&&l.dialog.hide()));for(i in u)r=u[i],"change_view"===r.name&&(r.state=this.editor.currentView===this.editor.textarea,r.state?s.addClass(r.link,a):s.removeClass(r.link,a))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){var t,i={name:t,style:!0,toolbar:t,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:t,supportTouchDevices:!0};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,n){if(this.textareaElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(i).merge(n).get(),this.textarea=new e.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=e.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var a=this;return void setTimeout(function(){a.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(s){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e){return this.currentView.getValue(e)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t){var i=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof t&&e.quirks.redraw(t),i},_initParser:function(){this.observe("paste:composer",function(){var t=!0,i=this;i.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(i.composer.element),i.parse(i.composer.element)},t)}),this.observe("paste:textarea",function(){var e,t=this.textarea.getValue();e=this.parse(t),this.textarea.setValue(e)})}})}(wysihtml5),!function(e,t){"use strict";var i={"font-styles":function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+i+"' data-toggle='dropdown' href='#' title='"+e.font_styles.title+"'><i class='glyphicon glyphicon-font'></i>&nbsp;<span class='current-font'>"+e.font_styles.normal+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1' role='menuitem'>"+e.font_styles.normal+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1' role='menuitem'>"+e.font_styles.h1+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1' role='menuitem'>"+e.font_styles.h2+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1' role='menuitem'>"+e.font_styles.h3+"</a></li></ul></li>"},emphasis:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn btn-default "+i+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+e.emphasis.bold+"</a><a class='btn btn-default "+i+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+e.emphasis.italic+"</a><a class='btn btn-default "+i+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+e.emphasis.underline+"</a></div></li>"},lists:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn btn-default "+i+"' data-wysihtml5-command='insertUnorderedList' title='"+e.lists.unordered+"' tabindex='-1'><i class='glyphicon glyphicon-list'></i></a><a class='btn btn-default "+i+"' data-wysihtml5-command='insertOrderedList' title='"+e.lists.ordered+"' tabindex='-1'><i class='glyphicon glyphicon-th-list'></i></a><a class='btn btn-default "+i+"' data-wysihtml5-command='Outdent' title='"+e.lists.outdent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-left'></i></a><a class='btn btn-default "+i+"' data-wysihtml5-command='Indent' title='"+e.lists.indent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-right'></i></a></div></li>"},link:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h3 class='modal-title'>"+e.link.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control input-lg'></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+e.link.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+e.link.insert+"</a></div></div></div></div><a class='btn btn-default "+i+"' data-wysihtml5-command='createLink' title='"+e.link.insert+"' tabindex='-1'><i class='glyphicon glyphicon-share'></i></a></li>"},image:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade' tabindex='-1' role='dialog' aria-hidden='true'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><h3 class='modal-title'>"+e.image.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url form-control input-lg'></div><div class='modal-footer'><a href='#' class='btn btn-default ' data-dismiss='modal'>"+e.image.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+e.image.insert+"</a></div></div></div></div><a class='btn btn-default "+i+"' data-wysihtml5-command='insertImage' title='"+e.image.insert+"' tabindex='-1'><i class='glyphicon glyphicon-picture'></i></a></li>"},html:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn btn-default "+i+"' data-wysihtml5-action='change_view' title='"+e.html.edit+"' tabindex='-1'><i class='glyphicon glyphicon-pencil'></i></a></div></li>"},color:function(e,t){var i=t&&t.size?" btn-"+t.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+i+"' data-toggle='dropdown' href='#' tabindex='-1' title='"+e.colours.title+"'><span class='current-color'>"+e.colours.black+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black' role='menuitem'>"+e.colours.black+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver' role='menuitem'>"+e.colours.silver+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray' role='menuitem'>"+e.colours.gray+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon' role='menuitem'>"+e.colours.maroon+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red' role='menuitem'>"+e.colours.red+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple' role='menuitem'>"+e.colours.purple+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green' role='menuitem'>"+e.colours.green+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive' role='menuitem'>"+e.colours.olive+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy' role='menuitem'>"+e.colours.navy+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue' role='menuitem'>"+e.colours.blue+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange' role='menuitem'>"+e.colours.orange+"</a></li></ul></li>"}},n=function(e,t,n){return i[e](t,n)},a=function(t,n){this.el=t;var a=n||o;for(var s in a.customTemplates)i[s]=a.customTemplates[s];this.toolbar=this.createToolbar(t,a),this.editor=this.createEditor(n),window.editor=this.editor,e("iframe.wysihtml5-sandbox").each(function(t,i){e(i.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){e("li.dropdown").removeClass("open")}})})};a.prototype={constructor:a,createEditor:function(i){i=i||{},i=e.extend(!0,{},i),i.toolbar=this.toolbar[0];var n=new t.Editor(this.el[0],i);if(i&&i.events)for(var a in i.events)n.on(a,i.events[a]);return n},createToolbar:function(t,i){var a=this,s=e("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=i.locale||o.locale||"en";for(var c in o){var u=!1;void 0!==i[c]?i[c]===!0&&(u=!0):u=o[c],u===!0&&(s.append(n(c,r[l],i)),"html"===c&&this.initHtml(s),"link"===c&&this.initInsertLink(s),"image"===c&&this.initInsertImage(s),"customCommand"==c&&this.initCustomCommand(s,i.customCommandCallback))}if(i.toolbar)for(c in i.toolbar)s.append(i.toolbar[c]);return s.find("a[data-wysihtml5-command='formatBlock']").click(function(t){var i=t.target||t.srcElement,n=e(i);a.toolbar.find(".current-font").text(n.html())}),s.find("a[data-wysihtml5-command='foreColor']").click(function(t){var i=t.target||t.srcElement,n=e(i);a.toolbar.find(".current-color").text(n.html())}),this.el.before(s),s},initHtml:function(e){var t="a[data-wysihtml5-action='change_view']";e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},initInsertImage:function(t){var i,n=this,a=t.find(".bootstrap-wysihtml5-insert-image-modal"),s=a.find(".bootstrap-wysihtml5-insert-image-url"),o=a.find("a.btn-primary"),r=s.val(),l=function(){var e=s.val();s.val(r),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null),n.editor.composer.commands.exec("insertImage",e)};s.keypress(function(e){13==e.which&&(l(),a.modal("hide"))}),o.click(l),a.on("shown",function(){s.focus()}),a.on("hide",function(){n.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=insertImage]").click(function(){var t=e(this).hasClass("wysihtml5-command-active");return t?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),a.appendTo("body").modal("show"),a.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})},initCustomCommand:function(t,i){var n=this;t.find("a[data-wysihtml5-command=customCommand]").click(function(){var t=e(this).hasClass("wysihtml5-command-active");return t?!0:(i(n.editor),!1)})},initInsertLink:function(t){var i,n=this,a=t.find(".bootstrap-wysihtml5-insert-link-modal"),s=a.find(".bootstrap-wysihtml5-insert-link-url"),o=a.find("a.btn-primary"),r=s.val(),l=function(){var e=s.val();s.val(r),n.editor.currentView.element.focus(),i&&(n.editor.composer.selection.setBookmark(i),i=null),n.editor.composer.commands.exec("createLink",{href:e,target:"_blank",rel:"nofollow"})};s.keypress(function(e){13==e.which&&(l(),a.modal("hide"))}),o.click(l),a.on("shown",function(){s.focus()}),a.on("hide",function(){n.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=createLink]").click(function(){var t=e(this).hasClass("wysihtml5-command-active");return t?!0:(n.editor.currentView.element.focus(!1),i=n.editor.composer.selection.getBookmark(),a.appendTo("body").modal("show"),a.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})}};var s={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var i=e(this);i.data("wysihtml5",new a(i,t))})},shallowExtend:function(t){var i=e.extend({},e.fn.wysihtml5.defaultOptions,t||{}),n=this;return s.bypassDefaults.apply(n,[i])},deepExtend:function(t){var i=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{}),n=this;return s.bypassDefaults.apply(n,[i])},init:function(e){var t=this;return s.shallowExtend.apply(t,[e])}};e.fn.wysihtml5=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.wysihtml5"):s.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=a;var o=e.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,customCommand:!1,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,
"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}},span:1,div:1,code:1,pre:1}},stylesheets:["./lib/css/wysiwyg-color.css"],locale:"en"};"undefined"==typeof e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions));var r=e.fn.wysihtml5.locale={en:{font_styles:{title:"Font style",normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{title:"Text color",black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),$(function(){$.fn.bootstrapFileInput=function(){this.each(function(e,t){var i=$(t);if("undefined"==typeof i.attr("data-bfi-disabled")){var n="Browse";"undefined"!=typeof i.attr("title")&&(n=i.attr("title"));var a=$("<div>").append(i.eq(0).clone()).html(),s="";i.attr("class")&&(s=" "+i.attr("class")),i.replaceWith('<a class="file-input-wrapper btn btn-default '+s+'">'+n+a+"</a>")}}).promise().done(function(){$(".file-input-wrapper").mousemove(function(e){var t,i,n,a,s,o,r,l;i=$(this),t=i.find("input"),n=i.offset().left,a=i.offset().top,s=t.width(),o=t.height(),r=e.pageX,l=e.pageY,moveInputX=r-n-s+20,moveInputY=l-a-o/2,t.css({left:moveInputX,top:moveInputY})}),$(".file-input-wrapper input[type=file]").change(function(){var e;e=$(this).val(),$(this).parent().next(".file-input-name").remove(),e=$(this).prop("files")&&$(this).prop("files").length>1?$(this)[0].files.length+" files":e.substring(e.lastIndexOf("\\")+1,e.length),$(this).parent().after('<span class="file-input-name">'+e+"</span>")})})};var e="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";$("link[rel=stylesheet]").eq(0).before(e)}),window.Bootsy=window.Bootsy||{},Bootsy.Area=function(e){var t=this;this.$el=e,this.unsavedChanges=!1,this.locale=e.data("bootsy-locale")||$("html").attr("lang"),$.fn.wysihtml5.locale.hasOwnProperty(this.locale)||(this.locale="en"),this.options={locale:this.locale,alertUnsavedChanges:e.data("bootsy-alert-unsaved"),uploader:e.data("bootsy-uploader"),color:e.data("bootsy-color"),emphasis:e.data("bootsy-emphasis"),"font-styles":e.data("bootsy-font-styles"),html:e.data("bootsy-html"),image:e.data("bootsy-image"),link:e.data("bootsy-link"),lists:e.data("bootsy-lists"),events:{change:function(){t.unsavedChanges=!0}}}},Bootsy.Area.prototype.unsavedChangesAlert=function(){return this.unsavedChanges?$.fn.wysihtml5.locale[this.locale].bootsy.alertUnsaved:void 0},Bootsy.Area.prototype.clear=function(){this.editor.clear(),this.setImageGalleryId(""),this.modal.$el.data("gallery-loaded",!1)},Bootsy.Area.prototype.setImageGalleryId=function(e){this.$el.data("gallery-id",e),this.$el.siblings(".bootsy_image_gallery_id").val(e)},Bootsy.Area.prototype.init=function(){this.$el.data("bootsy-initialized")||(this.options.image===!0&&this.options.uploader===!0&&(this.modal=new Bootsy.Modal(this),this.options.image=!1,this.options.customCommand=!0,this.options.customCommandCallback=this.modal.show.bind(this.modal),this.options.customTemplates={customCommand:Bootsy.imageTemplate}),this.editor=this.$el.wysihtml5($.extend(!0,{},Bootsy.options,this.options)).data("wysihtml5").editor,this.options.alertUnsavedChanges!==!1&&(window.onbeforeunload=this.unsavedChangesAlert.bind(this)),this.$el.closest("form").submit(function(){return this.unsavedChanges=!1,!0}.bind(this)),this.$el.data("bootsy-initialized",!0))},Bootsy.Area.prototype.insertImage=function(e){this.editor.currentView.element.focus(),this.caretBookmark&&(this.editor.composer.selection.setBookmark(this.caretBookmark),this.caretBookmark=null),this.editor.composer.commands.exec("insertImage",e)},window.Bootsy=window.Bootsy||{};var pageStylesheets=[];$('link[rel="stylesheet"]').each(function(){pageStylesheets.push($(this).attr("href"))}),window.Bootsy.options={},$.extend(!0,window.Bootsy.options,$.fn.wysihtml5.defaultOptions,{parserRules:{classes:{"wysiwyg-float-left":1,"wysiwyg-float-right":1,"wysiwyg-float-inline":1},tags:{cite:{check_attributes:{title:"alt"}},img:{check_attributes:{src:"src"},add_class:{align:"align_img"}},iframe:{set_attributes:{frameborder:"0",allowfullscreen:"1"},check_attributes:{width:"numbers",height:"numbers",src:"href"}}}},color:!0,stylesheets:pageStylesheets}),window.Bootsy=window.Bootsy||{},window.Bootsy.imageTemplate=function(e,t){var i=t&&t.size?" btn-"+t.size:"";return'<li><a class="btn btn-default '+i+'" data-wysihtml5-command="customCommand" title="'+e.image.insert+'" tabindex="-1"><span class="glyphicon glyphicon-picture"></span></a></li>'},window.Bootsy=window.Bootsy||{},Bootsy.init=function(){Bootsy.areas||(Bootsy.areas={}),$("textarea.bootsy_text_area").each(function(e){if(!$(this).data("bootsy-initialized")){var t=new Bootsy.Area($(this)),i=$(this).attr("id")||e;void 0!==Bootsy.areas[i]&&(i=$(this).attr("id")+e),t.init(),Bootsy.areas[i]=t}})},$(function(){$(window).load(function(){Bootsy.init(),window.Turbolinks&&$(document).on("page:load",Bootsy.init)})}),function(e){e.fn.wysihtml5.locale.en={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"},bootsy:{alertUnsaved:"You have unsaved changes.",error:"Something went wrong. Please try again later."}}}(jQuery),window.Bootsy=window.Bootsy||{},Bootsy.Modal=function(e){var t=this;this.$el=e.$el.siblings(".bootsy-modal"),this.area=e,this.$el.parents("form").after(this.$el),this.$el.on("click",".bootsy-image .insert",function(e){var i,n,a="/"+$(this).attr("data-image-size")+"_";e.preventDefault(),"original"===$(this).data("image-size")&&(a="/"),i=$(this).parents(".bootsy-image").find("img"),n={src:i.attr("src").replace("/thumb_",a),alt:i.attr("alt").replace("Thumb_","")},n.align=$(this).data("position"),t.$el.modal("hide"),insert=t.area.insertImage.bind(t.area),insert(n)}),this.$el.on("ajax:before",".destroy-btn",this.showGalleryLoadingAnimation.bind(this)),this.$el.on("ajax:success",".destroy-btn",function(e,t){this.deleteImage(t.id)}.bind(this)),this.$el.on("click",'a[href="#refresh-gallery"]',this.requestImageGallery.bind(this)),this.$el.on("submit",".bootsy-upload-form",function(e,t){var i,n=e.target.querySelector('input[type="file"]'),a=new FormData,s=n.files[0],o="image[remote_image_file_url]",r=e.target.querySelector('input[name="'+o+'"]');e.preventDefault(),a.append("authenticity_token",e.target.querySelector('input[name="authenticity_token"]').value),s&&a.append("image[image_file]",s,s.name),i=r?r.value:"",a.append(o,i);var t=new XMLHttpRequest;t.open("POST",e.target.action,!0),t.onload=function(){var e=JSON.parse(t.response);200===t.status?(this.area.setImageGalleryId(e.gallery_id),this.addImage(e.image),this.setUploadForm(e.form)):this.imageUploadFailed(t,e)}.bind(this),t.send(a)}.bind(this)),this.$el.modal({show:!1}),this.$el.on("shown.bs.modal",function(){this.$el.data("gallery-loaded")!==!0&&this.requestImageGallery()}.bind(this)),this.hideRefreshButton(),this.hideEmptyAlert()},Bootsy.Modal.prototype.show=function(){this.$el.modal("show")},Bootsy.Modal.prototype.showGalleryLoadingAnimation=function(){this.$el.find(".bootsy-gallery-loader").fadeIn(200)},Bootsy.Modal.prototype.hideGalleryLoadingAnimation=function(){this.$el.find(".bootsy-gallery-loader").fadeOut(200)},Bootsy.Modal.prototype.showUploadLoadingAnimation=function(){this.$el.find(".bootsy-upload-loader").fadeIn(200)},Bootsy.Modal.prototype.hideUploadLoadingAnimation=function(){this.$el.find(".bootsy-upload-loader").fadeOut(200)},Bootsy.Modal.prototype.showEmptyAlert=function(){this.$el.find(".bootsy-empty-alert").fadeIn(200)},Bootsy.Modal.prototype.hideEmptyAlert=function(){this.$el.find(".bootsy-empty-alert").fadeOut(200)},Bootsy.Modal.prototype.showRefreshButton=function(){this.$el.find(".refresh-btn").fadeIn(200)},Bootsy.Modal.prototype.hideRefreshButton=function(){this.$el.find(".refresh-btn").fadeOut(200)},Bootsy.Modal.prototype.setUploadForm=function(e){var t;this.$el.find(".modal-footer").html(e),this.hideUploadLoadingAnimation(),this.$el.find('.bootsy-upload-form input[type="file"]').bootstrapFileInput(),t=this.$el.find('.bootsy-upload-form input[type="file"]'),t.change(function(){this.showUploadLoadingAnimation(),t.closest("form").submit()}.bind(this))},Bootsy.Modal.prototype.imageUploadFailed=function(e,t){422===Number(e.status)&&t.image_file?(this.hideUploadLoadingAnimation(),this.validation&&this.validation.remove(),this.validation=$("<p class='text-danger'>"),this.validation.text(t.image_file[0]),this.$el.find(".bootsy-upload-form").append(this.validation)):(this.hideGalleryLoadingAnimation(),alert($.fn.wysihtml5.locale[this.area.locale].bootsy.error)),this.showRefreshButton()},Bootsy.Modal.prototype.addImage=function(e){this.hideEmptyAlert(),$(e).hide().appendTo(this.$el.find(".bootsy-gallery")).fadeIn(200)},Bootsy.Modal.prototype.requestImageGallery=function(){this.hideRefreshButton(),this.showGalleryLoadingAnimation(),$.ajax({url:"/bootsy/images",type:"GET",cache:!1,data:{image_gallery_id:this.area.$el.data("gallery-id")},dataType:"json",success:function(e){this.hideRefreshButton(),this.hideGalleryLoadingAnimation(),this.$el.find(".bootsy-gallery .bootsy-image").remove(),$.each(e.images,function(e,t){this.addImage(t)}.bind(this)),0===e.images.length&&this.showEmptyAlert(),this.setUploadForm(e.form),this.$el.data("gallery-loaded",!0)}.bind(this),error:this.imageUploadFailed.bind(this)})},Bootsy.Modal.prototype.deleteImage=function(e){var t=this.$el.find('.bootsy-image[data-id="'+e+'"]');this.hideGalleryLoadingAnimation(),t.hide(200,function(){t.remove(),0===this.$el.find(".bootsy-image").length&&this.showEmptyAlert()}.bind(this))},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,a,s;for(s=0;null!=(a=i[s]);s++)try{n=e._data(a,"events"),n&&n.remove&&e(a).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var a,s,o,r,l={},c=t.split(".")[0];return t=t.split(".")[1],a=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[c]=e[c]||{},s=e[c][t],o=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},a=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=a,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(l[t]=n)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix||t:t},l,{constructor:o,namespace:c,widgetName:t,widgetFullName:a}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,a,s=i.call(arguments,1),o=0,r=s.length;r>o;o++)for(n in s[o])a=s[o][n],s[o].hasOwnProperty(n)&&void 0!==a&&(e.isPlainObject(a)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],a):e.widget.extend({},a):t[n]=a);return t},e.widget.bridge=function(t,n){var a=n.prototype.widgetFullName||t;e.fn[t]=function(s){var o="string"==typeof s,r=i.call(arguments,1),l=this;return o?this.each(function(){var i,n=e.data(this,a);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,r),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):(r.length&&(s=e.widget.extend.apply(null,[s].concat(r))),this.each(function(){var t=e.data(this,a);t?(t.option(s||{}),t._init&&t._init()):e.data(this,a,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,a,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(a=o[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)a[n[s]]=a[n[s]]||{},a=a[n[s]];if(t=n.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var a,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=a=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,a=this.widget()),e.each(n,function(n,o){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?a.delegate(u,c,r):i.bind(c,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var a,s,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(a in s)a in i||(i[a]=s[a]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,a,s){"string"==typeof a&&(a={effect:a});var o,r=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),o=!e.isEmptyObject(a),a.complete=s,a.delay&&n.delay(a.delay),o&&e.effects&&e.effects.effect[r]?n[t](a):r!==t&&n[r]?n[r](a.duration,a.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}});e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(i){if(i.async){var n,a,s,o=i.initialIframeSrc||"javascript:false;";return{send:function(r,l){n=e('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),s=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+s+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+s+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+s+"_method=PATCH",i.type="POST"),t+=1,a=e('<iframe src="'+o+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,s=e.isArray(i.paramName)?i.paramName:[i.paramName];a.unbind("load").bind("load",function(){var t;try{if(t=a.contents(),!t.length||!t[0].firstChild)throw new Error}catch(i){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+o+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",a.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&e.each(i.formData,function(t,i){e('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(t=i.fileInput.clone(),i.fileInput.after(function(e){return t[e]}),i.paramName&&i.fileInput.each(function(t){e(this).prop("name",s[t]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),t&&t.length&&i.fileInput.each(function(i,n){var a=e(t[i]);e(n).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(n)})}),n.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",o),n&&n.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&e.isXMLDoc(i)?i:e.parseXML(i.XMLDocument&&i.XMLDocument.xml||e(i.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var i="dragover"===t;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var a=n.dataTransfer;a&&-1!==e.inArray("Files",a.types)&&this._trigger(t,e.Event(t,{delegatedEvent:n}))!==!1&&(n.preventDefault(),i&&(a.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){return t.isDefaultPrevented()?!1:void((i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var n,a=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&a-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=a,n=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(a,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(a,n,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,i._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,n=this,a=t.files[0],s=t.multipart||!e.support.xhrFileUpload,o="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),s&&!t.blob&&this._isInstanceOf("File",a)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(a.name)+'"'),s?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:o,value:t.blob}):e.each(t.files,function(n,a){i.push({name:"array"===e.type(t.paramName)&&t.paramName[n]||o,value:a})})):(n._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(o,t.blob,a.name):e.each(t.files,function(a,s){(n._isInstanceOf("File",s)||n._isInstanceOf("Blob",s))&&i.append("array"===e.type(t.paramName)&&t.paramName[a]||o,s,s.uploadName||s.name)})),t.data=i):(t.contentType=a.type||"application/octet-stream",t.data=t.blob||a),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",a=(t.prop("files")||[1]).length;a;)n.push(i),a-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,n){var a=e.Deferred(),s=a.promise();return i=i||this.options.context||s,t===!0?a.resolveWith(i,n):t===!1&&a.rejectWith(i,n),s.abort=a.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,i){var n=this,a=function(t){return e.Deferred().resolveWith(n,t).promise()};i.process=function(t,s){return(t||s)&&(i._processQueue=this._processQueue=(this._processQueue||a([this])).then(function(){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():a(arguments)}).then(t,s)),this._processQueue||a([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var n,a,s=this,o=t.files[0],r=o.size,l=t.uploadedBytes,c=t.maxChunkSize||r,u=this._blobSlice,d=e.Deferred(),h=d.promise();return this._isXHRUpload(t)&&u&&(l||r>c)&&!t.data?i?!0:l>=r?(o.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",o.error])):(a=function(){var i=e.extend({},t),h=i._progress.loaded;i.blob=u.call(o,l,l+c,o.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+r,s._initXHRData(i),s._initProgressListener(i),n=(s._trigger("chunksend",null,i)!==!1&&e.ajax(i)||s._getXHRPromise(!1,i.context)).done(function(n,o,c){l=s._getUploadedBytes(c)||l+i.chunkSize,h+i.chunkSize-i._progress.loaded&&s._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=o,i.jqXHR=c,s._trigger("chunkdone",null,i),s._trigger("chunkalways",null,i),r>l?a():d.resolveWith(i.context,[n,o,c])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,s._trigger("chunkfail",null,i),s._trigger("chunkalways",null,i),d.rejectWith(i.context,[e,t,n])})},this._enhancePromise(h),h.abort=function(){return n.abort()},a(),h):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,n,a){var s=a._progress.total,o=a._response;a._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),a),o.result=a.result=t,o.textStatus=a.textStatus=i,o.jqXHR=a.jqXHR=n,this._trigger("done",null,a)},_onFail:function(e,t,i,n){var a=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),a.jqXHR=n.jqXHR=e,a.textStatus=n.textStatus=t,a.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){this._trigger("always",null,n)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var n,a,s,o,r=this,l=r._getAJAXSettings(i),c=function(){return r._sending+=1,l._bitrateTimer=new r._BitrateTimer,n=n||((a||r._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&r._getXHRPromise(!1,l.context,a)||r._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){r._onDone(e,t,i,l)}).fail(function(e,t,i){r._onFail(e,t,i,l)}).always(function(e,t,i){if(r._onAlways(e,t,i,l),r._sending-=1,r._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>r._sending)for(var n=r._slots.shift();n;){if("pending"===r._getDeferredState(n)){n.resolve();break}n=r._slots.shift()}0===r._active&&r._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=e.Deferred(),this._slots.push(s),o=s.then(c)):(this._sequence=this._sequence.then(c,c),o=this._sequence),o.abort=function(){return a=[void 0,"abort","abort"],n?n.abort():(s&&s.rejectWith(l.context,a),c())},this._enhancePromise(o)):c()},_onAdd:function(t,i){var n,a,s,o,r=this,l=!0,c=e.extend({},this.options,i),u=i.files,d=u.length,h=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!d)return!1;if(p&&void 0===u[0].size&&(p=void 0),(c.singleFileUploads||h||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!h)if(!c.singleFileUploads&&p)for(s=[],n=[],o=0;d>o;o+=1)m+=u[o].size+f,(o+1===d||m+u[o+1].size+f>p||h&&o+1-v>=h)&&(s.push(u.slice(v,o+1)),a=g.slice(v,o+1),a.length||(a=g),n.push(a),v=o+1,m=0);else n=g;else for(s=[],n=[],o=0;d>o;o+=h)s.push(u.slice(o,o+h)),a=g.slice(o,o+h),a.length||(a=g),n.push(a);else s=[u],n=[g];return i.originalFiles=u,e.each(s||u,function(a,o){var c=e.extend({},i);return c.files=s?o:[o],c.paramName=n[a],r._initResponseObject(c),r._initProgressObject(c),r._addConvenienceMethods(t,c),l=r._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),l},_replaceFileInput:function(t){var i=t.fileInput,n=i.clone(!0),a=i.is(document.activeElement);t.fileInputClone=n,e("<form></form>").append(n)[0].reset(),
i.after(n).detach(),a&&n.focus(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,i){var n,a=this,s=e.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),s.resolve([e])},r=function(e){a._handleFileTreeEntries(e,i+t.name+"/").done(function(e){s.resolve(e)}).fail(o)},l=function(){n.readEntries(function(e){e.length?(c=c.concat(e),l()):r(c)},o)},c=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,s.resolve(t._file)):t.file(function(e){e.relativePath=i,s.resolve(e)},o):t.isDirectory?(n=t.createReader(),l()):s.resolve([]),s.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,n,a=t.prop("webkitEntries")||t.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(n=t.prop("value"),!n)return e.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(a){n.files=a,i.options.replaceFileInput&&i._replaceFileInput(n),i._trigger("change",e.Event("change",{delegatedEvent:t}),n)!==!1&&i._onAdd(t,n)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),n)!==!1&&this._onAdd(t,n))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,n=t.dataTransfer,a={};n&&n.files&&n.files.length&&(t.preventDefault(),this._getDroppedFiles(n).always(function(n){a.files=n,i._trigger("drop",e.Event("drop",{delegatedEvent:t}),a)!==!1&&i._onAdd(t,a)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,n=this.element.data();e.each(this.element[0].attributes,function(e,a){var s,o=a.name.toLowerCase();/^data-/.test(o)&&(o=o.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),s=n[o],t._isRegExpOption(o,s)&&(s=t._getRegExp(s)),i[o]=s)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,a=this,s=e.Deferred(),o=s.promise();return o.abort=function(){return n=!0,i?i.abort():(s.reject(null,"abort","abort"),o)},this._getFileInputFiles(t.fileInput).always(function(e){if(!n){if(!e.length)return void s.reject();t.files=e,i=a._onSend(null,t),i.then(function(e,t,i){s.resolve(e,t,i)},function(e,t,i){s.reject(e,t,i)})}}),this._enhancePromise(o)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";var t=function(e,i){var n=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return i?n(i,t):function(e){return n(e,t)}};t.cache={},t.load=function(e){return document.getElementById(e).innerHTML},t.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(e,t,i,n,a,s){return t?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[t]||"\\"+t:i?"="===i?"'+_e("+n+")+'":"'+("+n+"==null?'':"+n+")+'":a?"';":s?"_s+='":void 0},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return(null==e?"":""+e).replace(t.encReg,function(e){return t.encMap[e]||""})},t.arg="o",t.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return t}):e.tmpl=t}(this),window.jQuery&&function(e){"use strict";function t(e){return e>1048576?(e/1048576).toFixed(1)+"Mb":1024==e?"1Mb":(e/1024).toFixed(1)+"Kb"}function i(e){return(e.files&&e.files.length?e.files:null)||[{name:e.value,size:0,type:((e.value||"").match(/[^\.]+$/i)||[""])[0]}]}e.fn.MultiFile=function(n){if(0==this.length)return this;if("string"==typeof arguments[0]){if(this.length>1){var a=arguments;return this.each(function(){e.fn.MultiFile.apply(e(this),a)})}return e.fn.MultiFile[arguments[0]].apply(this,e.makeArray(arguments).slice(1)||[])}"number"==typeof n&&(n={max:n});var n=e.extend({},e.fn.MultiFile.options,n||{});e("form").not("MultiFile-intercepted").addClass("MultiFile-intercepted").submit(e.fn.MultiFile.disableEmpty),e.fn.MultiFile.options.autoIntercept&&(e.fn.MultiFile.intercept(e.fn.MultiFile.options.autoIntercept),e.fn.MultiFile.options.autoIntercept=null),this.not(".MultiFile-applied").addClass("MultiFile-applied").each(function(){window.MultiFile=(window.MultiFile||0)+1;var a=window.MultiFile,s={e:this,E:e(this),clone:e(this).clone()},o=e.extend({},e.fn.MultiFile.options,n||{},(e.metadata?s.E.metadata():e.meta?s.E.data():null)||{},{});o.max>0||(o.max=s.E.attr("maxlength")),o.max>0||(o.max=(String(s.e.className.match(/\b(max|limit)\-([0-9]+)\b/gi)||[""]).match(/[0-9]+/gi)||[""])[0],o.max=o.max>0?String(o.max).match(/[0-9]+/gi)[0]:-1),o.max=new Number(o.max),o.accept=o.accept||s.E.attr("accept")||"",o.accept||(o.accept=s.e.className.match(/\b(accept\-[\w\|]+)\b/gi)||"",o.accept=new String(o.accept).replace(/^(accept|ext)\-/i,"")),o.maxsize=o.maxsize>0?o.maxsize:s.E.data("maxsize")||0,o.maxsize>0||(o.maxsize=(String(s.e.className.match(/\b(maxsize|maxload|size)\-([0-9]+)\b/gi)||[""]).match(/[0-9]+/gi)||[""])[0],o.maxsize=o.maxsize>0?String(o.maxsize).match(/[0-9]+/gi)[0]:-1),o.maxfile=o.maxfile>0?o.maxfile:s.E.data("maxfile")||0,o.maxfile>0||(o.maxfile=(String(s.e.className.match(/\b(maxfile|filemax)\-([0-9]+)\b/gi)||[""]).match(/[0-9]+/gi)||[""])[0],o.maxfile=o.maxfile>0?String(o.maxfile).match(/[0-9]+/gi)[0]:-1),o.maxfile>1&&(o.maxfile=1024*o.maxfile),o.maxsize>1&&(o.maxsize=1024*o.maxsize),o.max>1&&s.E.attr("multiple","multiple").prop("multiple",!0),e.extend(s,o||{}),s.STRING=e.extend({},e.fn.MultiFile.options.STRING,s.STRING),e.extend(s,{n:0,slaves:[],files:[],instanceKey:s.e.id||"MultiFile"+String(a),generateID:function(e){return s.instanceKey+(e>0?"_F"+String(e):"")},trigger:function(t,n,a,s){var o,r=a[t]||a["on"+t];return r?(s=s||a.files||i(this),e.each(s,function(e,t){o=r.apply(a.wrapper,[n,t.name,a,t])}),o):void 0}}),String(s.accept).length>1&&(s.accept=s.accept.replace(/\W+/g,"|").replace(/^\W|\W$/g,""),s.rxAccept=new RegExp("\\.("+(s.accept?s.accept:"")+")$","gi")),s.wrapID=s.instanceKey,s.E.wrap('<div class="MultiFile-wrap" id="'+s.wrapID+'"></div>'),s.wrapper=e("#"+s.wrapID),s.e.name=s.e.name||"file"+a+"[]",s.list||(s.wrapper.append('<div class="MultiFile-list" id="'+s.wrapID+'_list"></div>'),s.list=e("#"+s.wrapID+"_list")),s.list=e(s.list),s.addSlave=function(n,o){s.n++,n.MultiFile=s,n.id=n.name="",n.id=s.generateID(o),n.name=String(s.namePattern.replace(/\$name/gi,e(s.clone).attr("name")).replace(/\$id/gi,e(s.clone).attr("id")).replace(/\$g/gi,a).replace(/\$i/gi,o));var r;s.max>0&&s.files.length>s.max&&(n.disabled=!0,r=!0),s.current=n,n=e(n),n.val("").attr("value","")[0].value="",n.addClass("MultiFile-applied"),n.change(function(){e(this).blur();var a=this,r=s.files||[],l=this.files||[{name:this.value,size:0,type:((this.value||"").match(/[^\.]+$/i)||[""])[0]}],c=[],u=0,d=s.total_size||0,h=[];e.each(l,function(e,t){c[c.length]=t}),s.trigger("FileSelect",this,s,c),e.each(l,function(n,o){var r=o.name,l=o.size,c=function(e){return e.replace("$ext",String(r.match(/[^\.]+$/i)||"")).replace("$file",r.match(/[^\/\\]+$/gi)).replace("$size",t(l)+" > "+t(s.maxfile))};s.accept&&r&&!r.match(s.rxAccept)&&(h[h.length]=c(s.STRING.denied),s.trigger("FileInvalid",this,s,[o])),e(s.wrapper).find("input[type=file]").not(a).each(function(){e.each(i(this),function(e,t){if(t.name){var i=(t.name||"").replace(/^C:\\fakepath\\/gi,"");(r==i||r==i.substr(i.length-r.length))&&(h[h.length]=c(s.STRING.duplicate),s.trigger("FileDuplicate",a,s,[t]))}})}),s.maxfile>0&&l>0&&l>s.maxfile&&(h[h.length]=c(s.STRING.toobig),s.trigger("FileTooBig",this,s,[o]));var d=s.trigger("FileValidate",this,s,[o]);d&&""!=d&&(h[h.length]=c(d)),u+=o.size}),d+=u,c.size=u,c.total=d,c.total_length=c.length+r.length,s.max>0&&r.length+l.length>s.max&&(h[h.length]=s.STRING.toomany.replace("$max",s.max),s.trigger("FileTooMany",this,s,c)),s.maxsize>0&&d>s.maxsize&&(h[h.length]=s.STRING.toomuch.replace("$size",t(d)+" > "+t(s.maxsize)),s.trigger("FileTooMuch",this,s,c));var p=e(s.clone).clone();return p.addClass("MultiFile"),h.length>0?(s.error(h.join("\n\n")),s.n--,s.addSlave(p[0],o),n.parent().prepend(p),n.remove(),!1):(s.total_size=d,l=r.concat(c),l.size=d,l.size_label=t(d),s.files=l,e(this).css({position:"absolute",top:"-3000px"}),n.after(p),s.addSlave(p[0],o+1),s.addToList(this,o,c),void s.trigger("afterFileSelect",this,s,c))}),e(n).data("MultiFile-wrap",s.wrapper),e(s.wrapper).data("MultiFile",s),r&&e(n).attr("disabled","disabled").prop("disabled",!0)},s.addToList=function(n,a,o){s.trigger("FileAppend",n,s,o);var r=e("<span/>");e.each(o,function(i,a){var o=String(a.name||""),l=s.STRING,c=l.label||l.file||l.name,u=l.title||l.tooltip||l.selected,d='<img class="MultiFile-preview" style="'+s.previewCss+'"/>',h=e(('<span class="MultiFile-label" title="'+u+'"><span class="MultiFile-title">'+c+"</span>"+(s.preview||e(n).is(".with-preview")?d:"")+"</span>").replace(/\$(file|name)/gi,(o.match(/[^\/\\]+$/gi)||[o])[0]).replace(/\$(ext|extension|type)/gi,(o.match(/[^\.]+$/gi)||[""])[0]).replace(/\$(size)/gi,t(a.size||0)).replace(/\$(preview)/gi,d).replace(/\$(i)/gi,i));h.find("img.MultiFile-preview").each(function(){var e=this,t=new FileReader;t.readAsDataURL(a),t.onload=function(t){e.src=t.target.result}}),i>1&&r.append(", "),r.append(h);var o=String(a.name||"");r[r.length]=('<span class="MultiFile-title" title="'+s.STRING.selected+'">'+s.STRING.file+"</span>").replace(/\$(file|name)/gi,(o.match(/[^\/\\]+$/gi)||[o])[0]).replace(/\$(ext|extension|type)/gi,(o.match(/[^\.]+$/gi)||[""])[0]).replace(/\$(size)/gi,t(a.size||0)).replace(/\$(i)/gi,i)});var l=e('<div class="MultiFile-label"></div>'),c=e('<a class="MultiFile-remove" href="#'+s.wrapID+'">'+s.STRING.remove+"</a>").click(function(){var a=i(n);s.trigger("FileRemove",n,s,a),s.n--,s.current.disabled=!1,e(n).remove(),e(this).parent().remove(),e(s.current).css({position:"",top:""}),e(s.current).reset().val("").attr("value","")[0].value="";var o=[],r=0;return e(s.wrapper).find("input[type=file]").each(function(){e.each(i(this),function(e,t){t.name&&(o[o.length]=t,r+=t.size)})}),s.files=o,s.total_size=r,s.size_label=t(r),e(s.wrapper).data("MultiFile",s),s.trigger("afterFileRemove",n,s,a),s.trigger("FileChange",s.current,s,o),!1});s.list.append(l.append(c," ",r)),s.trigger("afterFileAppend",n,s,o),s.trigger("FileChange",n,s,s.files)},s.MultiFile||s.addSlave(s.e,0),s.n++})},e.extend(e.fn.MultiFile,{data:function(){var t=e(this),i=t.is(".MultiFile-wrap"),n=i?t:t.data("MultiFile-wrap");if(!n||!n.length)return!console.error("Could not find MultiFile control wrapper");var a=n.data("MultiFile");return a?a||{}:!console.error("Could not find MultiFile data in wrapper")},reset:function(){var t=this.MultiFile("data");return t&&e(t.list).find("a.MultiFile-remove").click(),e(this)},files:function(){var e=this.MultiFile("data");return e?e.files||[]:!console.log("MultiFile plugin not initialized")},size:function(){var e=this.MultiFile("data");return e?e.total_size||0:!console.log("MultiFile plugin not initialized")},count:function(){var e=this.MultiFile("data");return e?e.files?e.files.length||0:0:!console.log("MultiFile plugin not initialized")},disableEmpty:function(t){t=("string"==typeof t?t:"")||"mfD";var i=[];return e("input:file.MultiFile").each(function(){""==e(this).val()&&(i[i.length]=this)}),window.clearTimeout(e.fn.MultiFile.reEnableTimeout),e.fn.MultiFile.reEnableTimeout=window.setTimeout(e.fn.MultiFile.reEnableEmpty,500),e(i).each(function(){this.disabled=!0}).addClass(t)},reEnableEmpty:function(t){return t=("string"==typeof t?t:"")||"mfD",e("input:file."+t).removeClass(t).each(function(){this.disabled=!1})},intercepted:{},intercept:function(t,i,n){var a,s;if(n=n||[],n.constructor.toString().indexOf("Array")<0&&(n=[n]),"function"==typeof t)return e.fn.MultiFile.disableEmpty(),s=t.apply(i||window,n),setTimeout(function(){e.fn.MultiFile.reEnableEmpty()},1e3),s;t.constructor.toString().indexOf("Array")<0&&(t=[t]);for(var o=0;o<t.length;o++)a=t[o]+"",a&&function(t){e.fn.MultiFile.intercepted[t]=e.fn[t]||function(){},e.fn[t]=function(){return e.fn.MultiFile.disableEmpty(),s=e.fn.MultiFile.intercepted[t].apply(this,arguments),setTimeout(function(){e.fn.MultiFile.reEnableEmpty()},1e3),s}}(a)}}),e.fn.MultiFile.options={accept:"",max:-1,maxfile:-1,maxsize:-1,namePattern:"$name",preview:!1,previewCss:"max-height:100px; max-width:100px;",STRING:{remove:"x",denied:"You cannot select a $ext file.\nTry again...",file:"$file",selected:"File selected: $file",duplicate:"This file has already been selected:\n$file",toomuch:"The files selected exceed the maximum size permited ($size)",toomany:"Too many files selected (max: $max)",toobig:"$file is too big (max $size)"},autoIntercept:["submit","ajaxSubmit","ajaxForm","validate","valid"],error:function(e){"undefined"!=typeof console&&console.log(e),alert(e)}},e.fn.reset=e.fn.reset||function(){return this.each(function(){try{this.reset()}catch(e){}})},e(function(){e("input[type=file].multi").MultiFile()})}(jQuery),function(){"use strict";function e(t,i,n){return("string"==typeof i?i:i.toString()).replace(t.define||s,function(e,i,a,s){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in n||(":"===a?(t.defineParams&&s.replace(t.defineParams,function(e,t,a){n[i]={arg:t,text:a}}),i in n||(n[i]=s)):new Function("def","def['"+i+"']="+s)(n)),""}).replace(t.use||s,function(i,a){t.useParams&&(a=a.replace(t.useParams,function(e,t,i,a){if(n[i]&&n[i].arg&&a){var s=(i+":"+a).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[s]=n[i].text.replace(new RegExp("(^|[^\\w$])"+n[i].arg+"([^\\w$])","g"),"$1"+a+"$2"),t+"def.__exp['"+s+"']"}}));var s=new Function("def","return "+a)(n);return s?e(t,s,n):s})}function t(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var i,n={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};n.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(i,function(e){return t[e]||e}):""}},i=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):i.doT=n;var a={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},s=/$^/;n.template=function(o,r,l){r=r||n.templateSettings;var c,u,d=r.append?a.append:a.split,h=0,p=r.use||r.define?e(r,o,l||{}):o;p=("var out='"+(r.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(r.interpolate||s,function(e,i){return d.start+t(i)+d.end}).replace(r.encode||s,function(e,i){return c=!0,d.startencode+t(i)+d.end}).replace(r.conditional||s,function(e,i,n){return i?n?"';}else if("+t(n)+"){out+='":"';}else{out+='":n?"';if("+t(n)+"){out+='":"';}out+='"}).replace(r.iterate||s,function(e,i,n,a){return i?(h+=1,u=a||"i"+h,i=t(i),"';var arr"+h+"="+i+";if(arr"+h+"){var "+n+","+u+"=-1,l"+h+"=arr"+h+".length-1;while("+u+"<l"+h+"){"+n+"=arr"+h+"["+u+"+=1];out+='"):"';} } out+='"}).replace(r.evaluate||s,function(e,i){return"';"+t(i)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),c&&(r.selfcontained||!i||i._encodeHTML||(i._encodeHTML=n.encodeHTMLSource(r.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+n.encodeHTMLSource.toString()+"("+(r.doNotSkipEncoded||"")+"));"+p);try{return new Function(r.varname,p)}catch(f){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),f}},n.compile=function(e,t){return n.template(e,null,t)}}(),function(){"use strict";function e(e){e.fn.swiper=function(t){var n;return e(this).each(function(){var e=new i(this,t);n||(n=e)}),n}}var t,i=function(e,n){function s(e){return Math.floor(e)}function o(){var e=x.params.autoplay,t=x.slides.eq(x.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||x.params.autoplay),x.autoplayTimeoutId=setTimeout(function(){x.params.loop?(x.fixLoop(),x._slideNext(),x.emit("onAutoplay",x)):x.isEnd?n.autoplayStopOnLast?x.stopAutoplay():(x._slideTo(0),x.emit("onAutoplay",x)):(x._slideNext(),x.emit("onAutoplay",x))},e)}function r(e,i){var n=t(e.target);if(!n.is(i))if("string"==typeof i)n=n.parents(i);else if(i.nodeType){var a;return n.parents().each(function(e,t){t===i&&(a=i)}),a?i:void 0}if(0!==n.length)return n[0]}function l(e,t){t=t||{};var i=window.MutationObserver||window.WebkitMutationObserver,n=new i(function(e){e.forEach(function(e){x.onResize(!0),x.emit("onObserverUpdate",x,e)})});n.observe(e,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,characterData:"undefined"==typeof t.characterData?!0:t.characterData}),x.observers.push(n)}function c(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!x.params.allowSwipeToNext&&(x.isHorizontal()&&39===t||!x.isHorizontal()&&40===t))return!1;if(!x.params.allowSwipeToPrev&&(x.isHorizontal()&&37===t||!x.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var i=!1;if(x.container.parents("."+x.params.slideClass).length>0&&0===x.container.parents("."+x.params.slideActiveClass).length)return;var n={left:window.pageXOffset,top:window.pageYOffset},a=window.innerWidth,s=window.innerHeight,o=x.container.offset();x.rtl&&(o.left=o.left-x.container[0].scrollLeft);for(var r=[[o.left,o.top],[o.left+x.width,o.top],[o.left,o.top+x.height],[o.left+x.width,o.top+x.height]],l=0;l<r.length;l++){var c=r[l];c[0]>=n.left&&c[0]<=n.left+a&&c[1]>=n.top&&c[1]<=n.top+s&&(i=!0)}if(!i)return}x.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!x.rtl||37===t&&x.rtl)&&x.slideNext(),(37===t&&!x.rtl||39===t&&x.rtl)&&x.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&x.slideNext(),38===t&&x.slidePrev())}}function u(){var e="onwheel",t=e in document;if(!t){var i=document.createElement("div");i.setAttribute(e,"return;"),t="function"==typeof i[e]}return!t&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}function d(e){e.originalEvent&&(e=e.originalEvent);var t=0,i=x.rtl?-1:1,n=h(e);if(x.params.mousewheelForceToAxis)if(x.isHorizontal()){if(!(Math.abs(n.pixelX)>Math.abs(n.pixelY)))return;t=n.pixelX*i}else{if(!(Math.abs(n.pixelY)>Math.abs(n.pixelX)))return;t=n.pixelY}else t=Math.abs(n.pixelX)>Math.abs(n.pixelY)?-n.pixelX*i:-n.pixelY;if(0!==t){if(x.params.mousewheelInvert&&(t=-t),x.params.freeMode){var a=x.getWrapperTranslate()+t*x.params.mousewheelSensitivity,s=x.isBeginning,o=x.isEnd;if(a>=x.minTranslate()&&(a=x.minTranslate()),a<=x.maxTranslate()&&(a=x.maxTranslate()),x.setWrapperTransition(0),x.setWrapperTranslate(a),x.updateProgress(),x.updateActiveIndex(),(!s&&x.isBeginning||!o&&x.isEnd)&&x.updateClasses(),x.params.freeModeSticky?(clearTimeout(x.mousewheel.timeout),x.mousewheel.timeout=setTimeout(function(){x.slideReset()},300)):x.params.lazyLoading&&x.lazy&&x.lazy.load(),x.emit("onScroll",x,e),x.params.autoplay&&x.params.autoplayDisableOnInteraction&&x.stopAutoplay(),0===a||a===x.maxTranslate())return}else{if((new window.Date).getTime()-x.mousewheel.lastScrollTime>60)if(0>t)if(x.isEnd&&!x.params.loop||x.animating){if(x.params.mousewheelReleaseOnEdges)return!0}else x.slideNext(),x.emit("onScroll",x,e);else if(x.isBeginning&&!x.params.loop||x.animating){if(x.params.mousewheelReleaseOnEdges)return!0}else x.slidePrev(),x.emit("onScroll",x,e);x.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function h(e){var t=10,i=40,n=800,a=0,s=0,o=0,r=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(a=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(a=s,s=0),o=a*t,r=s*t,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||r)&&e.deltaMode&&(1===e.deltaMode?(o*=i,r*=i):(o*=n,r*=n)),o&&!a&&(a=1>o?-1:1),r&&!s&&(s=1>r?-1:1),{spinX:a,spinY:s,pixelX:o,pixelY:r}}function p(e,i){e=t(e);var n,a,s,o=x.rtl?-1:1;n=e.attr("data-swiper-parallax")||"0",a=e.attr("data-swiper-parallax-x"),s=e.attr("data-swiper-parallax-y"),a||s?(a=a||"0",s=s||"0"):x.isHorizontal()?(a=n,s="0"):(s=n,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*i*o+"%":a*i*o+"px",s=s.indexOf("%")>=0?parseInt(s,10)*i+"%":s*i+"px",e.transform("translate3d("+a+", "+s+",0px)")}function f(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof i))return new i(e,n);var m={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},g=n&&n.virtualTranslate;n=n||{};var v={};for(var y in n)if("object"!=typeof n[y]||null===n[y]||(n[y].nodeType||n[y]===window||n[y]===document||"undefined"!=typeof Dom7&&n[y]instanceof Dom7||"undefined"!=typeof jQuery&&n[y]instanceof jQuery))v[y]=n[y];else{v[y]={};for(var b in n[y])v[y][b]=n[y][b]}for(var w in m)if("undefined"==typeof n[w])n[w]=m[w];else if("object"==typeof n[w])for(var _ in m[w])"undefined"==typeof n[w][_]&&(n[w][_]=m[w][_]);var x=this;if(x.params=n,x.originalParams=v,x.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof Dom7&&(t=Dom7),("undefined"!=typeof t||(t="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(x.$=t,x.currentBreakpoint=void 0,x.getActiveBreakpoint=function(){if(!x.params.breakpoints)return!1;var e,t=!1,i=[];for(e in x.params.breakpoints)x.params.breakpoints.hasOwnProperty(e)&&i.push(e);i.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var n=0;n<i.length;n++)e=i[n],e>=window.innerWidth&&!t&&(t=e);return t||"max"},x.setBreakpoint=function(){var e=x.getActiveBreakpoint();if(e&&x.currentBreakpoint!==e){var t=e in x.params.breakpoints?x.params.breakpoints[e]:x.originalParams,i=x.params.loop&&t.slidesPerView!==x.params.slidesPerView;for(var n in t)x.params[n]=t[n];x.currentBreakpoint=e,i&&x.destroyLoop&&x.reLoop(!0)}},x.params.breakpoints&&x.setBreakpoint(),x.container=t(e),0!==x.container.length)){if(x.container.length>1){var C=[];return x.container.each(function(){C.push(new i(this,n))}),C}x.container[0].swiper=x,x.container.data("swiper",x),x.classNames.push(x.params.containerModifierClass+x.params.direction),x.params.freeMode&&x.classNames.push(x.params.containerModifierClass+"free-mode"),x.support.flexbox||(x.classNames.push(x.params.containerModifierClass+"no-flexbox"),x.params.slidesPerColumn=1),x.params.autoHeight&&x.classNames.push(x.params.containerModifierClass+"autoheight"),(x.params.parallax||x.params.watchSlidesVisibility)&&(x.params.watchSlidesProgress=!0),x.params.touchReleaseOnEdges&&(x.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(x.params.effect)>=0&&(x.support.transforms3d?(x.params.watchSlidesProgress=!0,x.classNames.push(x.params.containerModifierClass+"3d")):x.params.effect="slide"),"slide"!==x.params.effect&&x.classNames.push(x.params.containerModifierClass+x.params.effect),"cube"===x.params.effect&&(x.params.resistanceRatio=0,x.params.slidesPerView=1,x.params.slidesPerColumn=1,x.params.slidesPerGroup=1,x.params.centeredSlides=!1,x.params.spaceBetween=0,x.params.virtualTranslate=!0,x.params.setWrapperSize=!1),"fade"!==x.params.effect&&"flip"!==x.params.effect||(x.params.slidesPerView=1,x.params.slidesPerColumn=1,x.params.slidesPerGroup=1,x.params.watchSlidesProgress=!0,x.params.spaceBetween=0,x.params.setWrapperSize=!1,"undefined"==typeof g&&(x.params.virtualTranslate=!0)),x.params.grabCursor&&x.support.touch&&(x.params.grabCursor=!1),x.wrapper=x.container.children("."+x.params.wrapperClass),x.params.pagination&&(x.paginationContainer=t(x.params.pagination),x.params.uniqueNavElements&&"string"==typeof x.params.pagination&&x.paginationContainer.length>1&&1===x.container.find(x.params.pagination).length&&(x.paginationContainer=x.container.find(x.params.pagination)),"bullets"===x.params.paginationType&&x.params.paginationClickable?x.paginationContainer.addClass(x.params.paginationModifierClass+"clickable"):x.params.paginationClickable=!1,x.paginationContainer.addClass(x.params.paginationModifierClass+x.params.paginationType)),(x.params.nextButton||x.params.prevButton)&&(x.params.nextButton&&(x.nextButton=t(x.params.nextButton),x.params.uniqueNavElements&&"string"==typeof x.params.nextButton&&x.nextButton.length>1&&1===x.container.find(x.params.nextButton).length&&(x.nextButton=x.container.find(x.params.nextButton))),x.params.prevButton&&(x.prevButton=t(x.params.prevButton),x.params.uniqueNavElements&&"string"==typeof x.params.prevButton&&x.prevButton.length>1&&1===x.container.find(x.params.prevButton).length&&(x.prevButton=x.container.find(x.params.prevButton)))),x.isHorizontal=function(){return"horizontal"===x.params.direction},x.rtl=x.isHorizontal()&&("rtl"===x.container[0].dir.toLowerCase()||"rtl"===x.container.css("direction")),x.rtl&&x.classNames.push(x.params.containerModifierClass+"rtl"),x.rtl&&(x.wrongRTL="-webkit-box"===x.wrapper.css("display")),
x.params.slidesPerColumn>1&&x.classNames.push(x.params.containerModifierClass+"multirow"),x.device.android&&x.classNames.push(x.params.containerModifierClass+"android"),x.container.addClass(x.classNames.join(" ")),x.translate=0,x.progress=0,x.velocity=0,x.lockSwipeToNext=function(){x.params.allowSwipeToNext=!1,x.params.allowSwipeToPrev===!1&&x.params.grabCursor&&x.unsetGrabCursor()},x.lockSwipeToPrev=function(){x.params.allowSwipeToPrev=!1,x.params.allowSwipeToNext===!1&&x.params.grabCursor&&x.unsetGrabCursor()},x.lockSwipes=function(){x.params.allowSwipeToNext=x.params.allowSwipeToPrev=!1,x.params.grabCursor&&x.unsetGrabCursor()},x.unlockSwipeToNext=function(){x.params.allowSwipeToNext=!0,x.params.allowSwipeToPrev===!0&&x.params.grabCursor&&x.setGrabCursor()},x.unlockSwipeToPrev=function(){x.params.allowSwipeToPrev=!0,x.params.allowSwipeToNext===!0&&x.params.grabCursor&&x.setGrabCursor()},x.unlockSwipes=function(){x.params.allowSwipeToNext=x.params.allowSwipeToPrev=!0,x.params.grabCursor&&x.setGrabCursor()},x.setGrabCursor=function(e){x.container[0].style.cursor="move",x.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",x.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",x.container[0].style.cursor=e?"grabbing":"grab"},x.unsetGrabCursor=function(){x.container[0].style.cursor=""},x.params.grabCursor&&x.setGrabCursor(),x.imagesToLoad=[],x.imagesLoaded=0,x.loadImage=function(e,t,i,n,a,s){function o(){s&&s()}var r;e.complete&&a?o():t?(r=new window.Image,r.onload=o,r.onerror=o,n&&(r.sizes=n),i&&(r.srcset=i),t&&(r.src=t)):o()},x.preloadImages=function(){function e(){"undefined"!=typeof x&&null!==x&&(void 0!==x.imagesLoaded&&x.imagesLoaded++,x.imagesLoaded===x.imagesToLoad.length&&(x.params.updateOnImagesReady&&x.update(),x.emit("onImagesReady",x)))}x.imagesToLoad=x.container.find("img");for(var t=0;t<x.imagesToLoad.length;t++)x.loadImage(x.imagesToLoad[t],x.imagesToLoad[t].currentSrc||x.imagesToLoad[t].getAttribute("src"),x.imagesToLoad[t].srcset||x.imagesToLoad[t].getAttribute("srcset"),x.imagesToLoad[t].sizes||x.imagesToLoad[t].getAttribute("sizes"),!0,e)},x.autoplayTimeoutId=void 0,x.autoplaying=!1,x.autoplayPaused=!1,x.startAutoplay=function(){return"undefined"!=typeof x.autoplayTimeoutId?!1:x.params.autoplay?x.autoplaying?!1:(x.autoplaying=!0,x.emit("onAutoplayStart",x),void o()):!1},x.stopAutoplay=function(){x.autoplayTimeoutId&&(x.autoplayTimeoutId&&clearTimeout(x.autoplayTimeoutId),x.autoplaying=!1,x.autoplayTimeoutId=void 0,x.emit("onAutoplayStop",x))},x.pauseAutoplay=function(e){x.autoplayPaused||(x.autoplayTimeoutId&&clearTimeout(x.autoplayTimeoutId),x.autoplayPaused=!0,0===e?(x.autoplayPaused=!1,o()):x.wrapper.transitionEnd(function(){x&&(x.autoplayPaused=!1,x.autoplaying?o():x.stopAutoplay())}))},x.minTranslate=function(){return-x.snapGrid[0]},x.maxTranslate=function(){return-x.snapGrid[x.snapGrid.length-1]},x.updateAutoHeight=function(){var e=[],t=0;if("auto"!==x.params.slidesPerView&&x.params.slidesPerView>1)for(a=0;a<Math.ceil(x.params.slidesPerView);a++){var i=x.activeIndex+a;if(i>x.slides.length)break;e.push(x.slides.eq(i)[0])}else e.push(x.slides.eq(x.activeIndex)[0]);for(a=0;a<e.length;a++)if("undefined"!=typeof e[a]){var n=e[a].offsetHeight;t=n>t?n:t}t&&x.wrapper.css("height",t+"px")},x.updateContainerSize=function(){var e,t;e="undefined"!=typeof x.params.width?x.params.width:x.container[0].clientWidth,t="undefined"!=typeof x.params.height?x.params.height:x.container[0].clientHeight,0===e&&x.isHorizontal()||0===t&&!x.isHorizontal()||(e=e-parseInt(x.container.css("padding-left"),10)-parseInt(x.container.css("padding-right"),10),t=t-parseInt(x.container.css("padding-top"),10)-parseInt(x.container.css("padding-bottom"),10),x.width=e,x.height=t,x.size=x.isHorizontal()?x.width:x.height)},x.updateSlidesSize=function(){x.slides=x.wrapper.children("."+x.params.slideClass),x.snapGrid=[],x.slidesGrid=[],x.slidesSizesGrid=[];var e,t=x.params.spaceBetween,i=-x.params.slidesOffsetBefore,n=0,a=0;if("undefined"!=typeof x.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*x.size),x.virtualSize=-t,x.rtl?x.slides.css({marginLeft:"",marginTop:""}):x.slides.css({marginRight:"",marginBottom:""});var o;x.params.slidesPerColumn>1&&(o=Math.floor(x.slides.length/x.params.slidesPerColumn)===x.slides.length/x.params.slidesPerColumn?x.slides.length:Math.ceil(x.slides.length/x.params.slidesPerColumn)*x.params.slidesPerColumn,"auto"!==x.params.slidesPerView&&"row"===x.params.slidesPerColumnFill&&(o=Math.max(o,x.params.slidesPerView*x.params.slidesPerColumn)));var r,l=x.params.slidesPerColumn,c=o/l,u=c-(x.params.slidesPerColumn*c-x.slides.length);for(e=0;e<x.slides.length;e++){r=0;var d=x.slides.eq(e);if(x.params.slidesPerColumn>1){var h,p,f;"column"===x.params.slidesPerColumnFill?(p=Math.floor(e/l),f=e-p*l,(p>u||p===u&&f===l-1)&&++f>=l&&(f=0,p++),h=p+f*o/l,d.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):(f=Math.floor(e/c),p=e-f*c),d.css("margin-"+(x.isHorizontal()?"top":"left"),0!==f&&x.params.spaceBetween&&x.params.spaceBetween+"px").attr("data-swiper-column",p).attr("data-swiper-row",f)}"none"!==d.css("display")&&("auto"===x.params.slidesPerView?(r=x.isHorizontal()?d.outerWidth(!0):d.outerHeight(!0),x.params.roundLengths&&(r=s(r))):(r=(x.size-(x.params.slidesPerView-1)*t)/x.params.slidesPerView,x.params.roundLengths&&(r=s(r)),x.isHorizontal()?x.slides[e].style.width=r+"px":x.slides[e].style.height=r+"px"),x.slides[e].swiperSlideSize=r,x.slidesSizesGrid.push(r),x.params.centeredSlides?(i=i+r/2+n/2+t,0===e&&(i=i-x.size/2-t),Math.abs(i)<.001&&(i=0),a%x.params.slidesPerGroup===0&&x.snapGrid.push(i),x.slidesGrid.push(i)):(a%x.params.slidesPerGroup===0&&x.snapGrid.push(i),x.slidesGrid.push(i),i=i+r+t),x.virtualSize+=r+t,n=r,a++)}x.virtualSize=Math.max(x.virtualSize,x.size)+x.params.slidesOffsetAfter;var m;if(x.rtl&&x.wrongRTL&&("slide"===x.params.effect||"coverflow"===x.params.effect)&&x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"}),x.support.flexbox&&!x.params.setWrapperSize||(x.isHorizontal()?x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"}):x.wrapper.css({height:x.virtualSize+x.params.spaceBetween+"px"})),x.params.slidesPerColumn>1&&(x.virtualSize=(r+x.params.spaceBetween)*o,x.virtualSize=Math.ceil(x.virtualSize/x.params.slidesPerColumn)-x.params.spaceBetween,x.isHorizontal()?x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"}):x.wrapper.css({height:x.virtualSize+x.params.spaceBetween+"px"}),x.params.centeredSlides)){for(m=[],e=0;e<x.snapGrid.length;e++)x.snapGrid[e]<x.virtualSize+x.snapGrid[0]&&m.push(x.snapGrid[e]);x.snapGrid=m}if(!x.params.centeredSlides){for(m=[],e=0;e<x.snapGrid.length;e++)x.snapGrid[e]<=x.virtualSize-x.size&&m.push(x.snapGrid[e]);x.snapGrid=m,Math.floor(x.virtualSize-x.size)-Math.floor(x.snapGrid[x.snapGrid.length-1])>1&&x.snapGrid.push(x.virtualSize-x.size)}0===x.snapGrid.length&&(x.snapGrid=[0]),0!==x.params.spaceBetween&&(x.isHorizontal()?x.rtl?x.slides.css({marginLeft:t+"px"}):x.slides.css({marginRight:t+"px"}):x.slides.css({marginBottom:t+"px"})),x.params.watchSlidesProgress&&x.updateSlidesOffset()}},x.updateSlidesOffset=function(){for(var e=0;e<x.slides.length;e++)x.slides[e].swiperSlideOffset=x.isHorizontal()?x.slides[e].offsetLeft:x.slides[e].offsetTop},x.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=x.translate||0),0!==x.slides.length){"undefined"==typeof x.slides[0].swiperSlideOffset&&x.updateSlidesOffset();var t=-e;x.rtl&&(t=e),x.slides.removeClass(x.params.slideVisibleClass);for(var i=0;i<x.slides.length;i++){var n=x.slides[i],a=(t+(x.params.centeredSlides?x.minTranslate():0)-n.swiperSlideOffset)/(n.swiperSlideSize+x.params.spaceBetween);if(x.params.watchSlidesVisibility){var s=-(t-n.swiperSlideOffset),o=s+x.slidesSizesGrid[i],r=s>=0&&s<x.size||o>0&&o<=x.size||0>=s&&o>=x.size;r&&x.slides.eq(i).addClass(x.params.slideVisibleClass)}n.progress=x.rtl?-a:a}}},x.updateProgress=function(e){"undefined"==typeof e&&(e=x.translate||0);var t=x.maxTranslate()-x.minTranslate(),i=x.isBeginning,n=x.isEnd;0===t?(x.progress=0,x.isBeginning=x.isEnd=!0):(x.progress=(e-x.minTranslate())/t,x.isBeginning=x.progress<=0,x.isEnd=x.progress>=1),x.isBeginning&&!i&&x.emit("onReachBeginning",x),x.isEnd&&!n&&x.emit("onReachEnd",x),x.params.watchSlidesProgress&&x.updateSlidesProgress(e),x.emit("onProgress",x,x.progress)},x.updateActiveIndex=function(){var e,t,i,n=x.rtl?x.translate:-x.translate;for(t=0;t<x.slidesGrid.length;t++)"undefined"!=typeof x.slidesGrid[t+1]?n>=x.slidesGrid[t]&&n<x.slidesGrid[t+1]-(x.slidesGrid[t+1]-x.slidesGrid[t])/2?e=t:n>=x.slidesGrid[t]&&n<x.slidesGrid[t+1]&&(e=t+1):n>=x.slidesGrid[t]&&(e=t);x.params.normalizeSlideIndex&&(0>e||"undefined"==typeof e)&&(e=0),i=Math.floor(e/x.params.slidesPerGroup),i>=x.snapGrid.length&&(i=x.snapGrid.length-1),e!==x.activeIndex&&(x.snapIndex=i,x.previousIndex=x.activeIndex,x.activeIndex=e,x.updateClasses(),x.updateRealIndex())},x.updateRealIndex=function(){x.realIndex=x.slides.eq(x.activeIndex).attr("data-swiper-slide-index")||x.activeIndex},x.updateClasses=function(){x.slides.removeClass(x.params.slideActiveClass+" "+x.params.slideNextClass+" "+x.params.slidePrevClass+" "+x.params.slideDuplicateActiveClass+" "+x.params.slideDuplicateNextClass+" "+x.params.slideDuplicatePrevClass);var e=x.slides.eq(x.activeIndex);e.addClass(x.params.slideActiveClass),n.loop&&(e.hasClass(x.params.slideDuplicateClass)?x.wrapper.children("."+x.params.slideClass+":not(."+x.params.slideDuplicateClass+')[data-swiper-slide-index="'+x.realIndex+'"]').addClass(x.params.slideDuplicateActiveClass):x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+x.realIndex+'"]').addClass(x.params.slideDuplicateActiveClass));var i=e.next("."+x.params.slideClass).addClass(x.params.slideNextClass);x.params.loop&&0===i.length&&(i=x.slides.eq(0),i.addClass(x.params.slideNextClass));var a=e.prev("."+x.params.slideClass).addClass(x.params.slidePrevClass);if(x.params.loop&&0===a.length&&(a=x.slides.eq(-1),a.addClass(x.params.slidePrevClass)),n.loop&&(i.hasClass(x.params.slideDuplicateClass)?x.wrapper.children("."+x.params.slideClass+":not(."+x.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicateNextClass):x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicateNextClass),a.hasClass(x.params.slideDuplicateClass)?x.wrapper.children("."+x.params.slideClass+":not(."+x.params.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicatePrevClass):x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicatePrevClass)),x.paginationContainer&&x.paginationContainer.length>0){var s,o=x.params.loop?Math.ceil((x.slides.length-2*x.loopedSlides)/x.params.slidesPerGroup):x.snapGrid.length;if(x.params.loop?(s=Math.ceil((x.activeIndex-x.loopedSlides)/x.params.slidesPerGroup),s>x.slides.length-1-2*x.loopedSlides&&(s-=x.slides.length-2*x.loopedSlides),s>o-1&&(s-=o),0>s&&"bullets"!==x.params.paginationType&&(s=o+s)):s="undefined"!=typeof x.snapIndex?x.snapIndex:x.activeIndex||0,"bullets"===x.params.paginationType&&x.bullets&&x.bullets.length>0&&(x.bullets.removeClass(x.params.bulletActiveClass),x.paginationContainer.length>1?x.bullets.each(function(){t(this).index()===s&&t(this).addClass(x.params.bulletActiveClass)}):x.bullets.eq(s).addClass(x.params.bulletActiveClass)),"fraction"===x.params.paginationType&&(x.paginationContainer.find("."+x.params.paginationCurrentClass).text(s+1),x.paginationContainer.find("."+x.params.paginationTotalClass).text(o)),"progress"===x.params.paginationType){var r=(s+1)/o,l=r,c=1;x.isHorizontal()||(c=r,l=1),x.paginationContainer.find("."+x.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+c+")").transition(x.params.speed)}"custom"===x.params.paginationType&&x.params.paginationCustomRender&&(x.paginationContainer.html(x.params.paginationCustomRender(x,s+1,o)),x.emit("onPaginationRendered",x,x.paginationContainer[0]))}x.params.loop||(x.params.prevButton&&x.prevButton&&x.prevButton.length>0&&(x.isBeginning?(x.prevButton.addClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.disable(x.prevButton)):(x.prevButton.removeClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.enable(x.prevButton))),x.params.nextButton&&x.nextButton&&x.nextButton.length>0&&(x.isEnd?(x.nextButton.addClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.disable(x.nextButton)):(x.nextButton.removeClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.enable(x.nextButton))))},x.updatePagination=function(){if(x.params.pagination&&x.paginationContainer&&x.paginationContainer.length>0){var e="";if("bullets"===x.params.paginationType){for(var t=x.params.loop?Math.ceil((x.slides.length-2*x.loopedSlides)/x.params.slidesPerGroup):x.snapGrid.length,i=0;t>i;i++)e+=x.params.paginationBulletRender?x.params.paginationBulletRender(x,i,x.params.bulletClass):"<"+x.params.paginationElement+' class="'+x.params.bulletClass+'"></'+x.params.paginationElement+">";x.paginationContainer.html(e),x.bullets=x.paginationContainer.find("."+x.params.bulletClass),x.params.paginationClickable&&x.params.a11y&&x.a11y&&x.a11y.initPagination()}"fraction"===x.params.paginationType&&(e=x.params.paginationFractionRender?x.params.paginationFractionRender(x,x.params.paginationCurrentClass,x.params.paginationTotalClass):'<span class="'+x.params.paginationCurrentClass+'"></span> / <span class="'+x.params.paginationTotalClass+'"></span>',x.paginationContainer.html(e)),"progress"===x.params.paginationType&&(e=x.params.paginationProgressRender?x.params.paginationProgressRender(x,x.params.paginationProgressbarClass):'<span class="'+x.params.paginationProgressbarClass+'"></span>',x.paginationContainer.html(e)),"custom"!==x.params.paginationType&&x.emit("onPaginationRendered",x,x.paginationContainer[0])}},x.update=function(e){function t(){x.rtl?-x.translate:x.translate;n=Math.min(Math.max(x.translate,x.maxTranslate()),x.minTranslate()),x.setWrapperTranslate(n),x.updateActiveIndex(),x.updateClasses()}if(x.updateContainerSize(),x.updateSlidesSize(),x.updateProgress(),x.updatePagination(),x.updateClasses(),x.params.scrollbar&&x.scrollbar&&x.scrollbar.set(),e){var i,n;x.controller&&x.controller.spline&&(x.controller.spline=void 0),x.params.freeMode?(t(),x.params.autoHeight&&x.updateAutoHeight()):(i=("auto"===x.params.slidesPerView||x.params.slidesPerView>1)&&x.isEnd&&!x.params.centeredSlides?x.slideTo(x.slides.length-1,0,!1,!0):x.slideTo(x.activeIndex,0,!1,!0),i||t())}else x.params.autoHeight&&x.updateAutoHeight()},x.onResize=function(e){x.params.breakpoints&&x.setBreakpoint();var t=x.params.allowSwipeToPrev,i=x.params.allowSwipeToNext;x.params.allowSwipeToPrev=x.params.allowSwipeToNext=!0,x.updateContainerSize(),x.updateSlidesSize(),("auto"===x.params.slidesPerView||x.params.freeMode||e)&&x.updatePagination(),x.params.scrollbar&&x.scrollbar&&x.scrollbar.set(),x.controller&&x.controller.spline&&(x.controller.spline=void 0);var n=!1;if(x.params.freeMode){var a=Math.min(Math.max(x.translate,x.maxTranslate()),x.minTranslate());x.setWrapperTranslate(a),x.updateActiveIndex(),x.updateClasses(),x.params.autoHeight&&x.updateAutoHeight()}else x.updateClasses(),n=("auto"===x.params.slidesPerView||x.params.slidesPerView>1)&&x.isEnd&&!x.params.centeredSlides?x.slideTo(x.slides.length-1,0,!1,!0):x.slideTo(x.activeIndex,0,!1,!0);x.params.lazyLoading&&!n&&x.lazy&&x.lazy.load(),x.params.allowSwipeToPrev=t,x.params.allowSwipeToNext=i},x.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?x.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(x.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),x.touchEvents={start:x.support.touch||!x.params.simulateTouch?"touchstart":x.touchEventsDesktop.start,move:x.support.touch||!x.params.simulateTouch?"touchmove":x.touchEventsDesktop.move,end:x.support.touch||!x.params.simulateTouch?"touchend":x.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===x.params.touchEventsTarget?x.container:x.wrapper).addClass("swiper-wp8-"+x.params.direction),x.initEvents=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",a="container"===x.params.touchEventsTarget?x.container[0]:x.wrapper[0],s=x.support.touch?a:document,o=!!x.params.nested;if(x.browser.ie)a[i](x.touchEvents.start,x.onTouchStart,!1),s[i](x.touchEvents.move,x.onTouchMove,o),s[i](x.touchEvents.end,x.onTouchEnd,!1);else{if(x.support.touch){var r="touchstart"===x.touchEvents.start&&x.support.passiveListener&&x.params.passiveListeners?{passive:!0,capture:!1}:!1;a[i](x.touchEvents.start,x.onTouchStart,r),a[i](x.touchEvents.move,x.onTouchMove,o),a[i](x.touchEvents.end,x.onTouchEnd,r)}(n.simulateTouch&&!x.device.ios&&!x.device.android||n.simulateTouch&&!x.support.touch&&x.device.ios)&&(a[i]("mousedown",x.onTouchStart,!1),document[i]("mousemove",x.onTouchMove,o),document[i]("mouseup",x.onTouchEnd,!1))}window[i]("resize",x.onResize),x.params.nextButton&&x.nextButton&&x.nextButton.length>0&&(x.nextButton[t]("click",x.onClickNext),x.params.a11y&&x.a11y&&x.nextButton[t]("keydown",x.a11y.onEnterKey)),x.params.prevButton&&x.prevButton&&x.prevButton.length>0&&(x.prevButton[t]("click",x.onClickPrev),x.params.a11y&&x.a11y&&x.prevButton[t]("keydown",x.a11y.onEnterKey)),x.params.pagination&&x.params.paginationClickable&&(x.paginationContainer[t]("click","."+x.params.bulletClass,x.onClickIndex),x.params.a11y&&x.a11y&&x.paginationContainer[t]("keydown","."+x.params.bulletClass,x.a11y.onEnterKey)),(x.params.preventClicks||x.params.preventClicksPropagation)&&a[i]("click",x.preventClicks,!0)},x.attachEvents=function(){x.initEvents()},x.detachEvents=function(){x.initEvents(!0)},x.allowClick=!0,x.preventClicks=function(e){x.allowClick||(x.params.preventClicks&&e.preventDefault(),x.params.preventClicksPropagation&&x.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},x.onClickNext=function(e){e.preventDefault(),x.isEnd&&!x.params.loop||x.slideNext()},x.onClickPrev=function(e){e.preventDefault(),x.isBeginning&&!x.params.loop||x.slidePrev()},x.onClickIndex=function(e){e.preventDefault();var i=t(this).index()*x.params.slidesPerGroup;x.params.loop&&(i+=x.loopedSlides),x.slideTo(i)},x.updateClickedSlide=function(e){var i=r(e,"."+x.params.slideClass),n=!1;if(i)for(var a=0;a<x.slides.length;a++)x.slides[a]===i&&(n=!0);if(!i||!n)return x.clickedSlide=void 0,void(x.clickedIndex=void 0);if(x.clickedSlide=i,x.clickedIndex=t(i).index(),x.params.slideToClickedSlide&&void 0!==x.clickedIndex&&x.clickedIndex!==x.activeIndex){var s,o=x.clickedIndex;if(x.params.loop){if(x.animating)return;s=t(x.clickedSlide).attr("data-swiper-slide-index"),x.params.centeredSlides?o<x.loopedSlides-x.params.slidesPerView/2||o>x.slides.length-x.loopedSlides+x.params.slidesPerView/2?(x.fixLoop(),o=x.wrapper.children("."+x.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+x.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){x.slideTo(o)},0)):x.slideTo(o):o>x.slides.length-x.params.slidesPerView?(x.fixLoop(),o=x.wrapper.children("."+x.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+x.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){x.slideTo(o)},0)):x.slideTo(o)}else x.slideTo(o)}};var T,S,k,E,D,P,A,I,M,N,j="input, select, textarea, button, video",O=Date.now(),R=[];x.animating=!1,x.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var L,$;x.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),L="touchstart"===e.type,L||!("which"in e)||3!==e.which){if(x.params.noSwiping&&r(e,"."+x.params.noSwipingClass))return void(x.allowClick=!0);if(!x.params.swipeHandler||r(e,x.params.swipeHandler)){var i=x.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n=x.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(x.device.ios&&x.params.iOSEdgeSwipeDetection&&i<=x.params.iOSEdgeSwipeThreshold)){if(T=!0,S=!1,k=!0,D=void 0,$=void 0,x.touches.startX=i,x.touches.startY=n,E=Date.now(),x.allowClick=!0,x.updateContainerSize(),x.swipeDirection=void 0,x.params.threshold>0&&(I=!1),"touchstart"!==e.type){var a=!0;t(e.target).is(j)&&(a=!1),document.activeElement&&t(document.activeElement).is(j)&&document.activeElement.blur(),a&&e.preventDefault()}x.emit("onTouchStart",x,e)}}}},x.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!L||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return x.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(x.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(x.params.onlyExternal)return x.allowClick=!1,void(T&&(x.touches.startX=x.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,x.touches.startY=x.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,E=Date.now()));if(L&&x.params.touchReleaseOnEdges&&!x.params.loop)if(x.isHorizontal()){if(x.touches.currentX<x.touches.startX&&x.translate<=x.maxTranslate()||x.touches.currentX>x.touches.startX&&x.translate>=x.minTranslate())return}else if(x.touches.currentY<x.touches.startY&&x.translate<=x.maxTranslate()||x.touches.currentY>x.touches.startY&&x.translate>=x.minTranslate())return;if(L&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(j))return S=!0,void(x.allowClick=!1);if(k&&x.emit("onTouchMove",x,e),!(e.targetTouches&&e.targetTouches.length>1)){if(x.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,x.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof D){var i;x.isHorizontal()&&x.touches.currentY===x.touches.startY||!x.isHorizontal()&&x.touches.currentX!==x.touches.startX?D=!1:(i=180*Math.atan2(Math.abs(x.touches.currentY-x.touches.startY),Math.abs(x.touches.currentX-x.touches.startX))/Math.PI,D=x.isHorizontal()?i>x.params.touchAngle:90-i>x.params.touchAngle)}if(D&&x.emit("onTouchMoveOpposite",x,e),"undefined"==typeof $&&x.browser.ieTouch&&(x.touches.currentX===x.touches.startX&&x.touches.currentY===x.touches.startY||($=!0)),T){if(D)return void(T=!1);if($||!x.browser.ieTouch){x.allowClick=!1,x.emit("onSliderMove",x,e),e.preventDefault(),x.params.touchMoveStopPropagation&&!x.params.nested&&e.stopPropagation(),S||(n.loop&&x.fixLoop(),A=x.getWrapperTranslate(),x.setWrapperTransition(0),x.animating&&x.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),x.params.autoplay&&x.autoplaying&&(x.params.autoplayDisableOnInteraction?x.stopAutoplay():x.pauseAutoplay()),N=!1,!x.params.grabCursor||x.params.allowSwipeToNext!==!0&&x.params.allowSwipeToPrev!==!0||x.setGrabCursor(!0)),S=!0;var a=x.touches.diff=x.isHorizontal()?x.touches.currentX-x.touches.startX:x.touches.currentY-x.touches.startY;a*=x.params.touchRatio,x.rtl&&(a=-a),x.swipeDirection=a>0?"prev":"next",P=a+A;var s=!0;if(a>0&&P>x.minTranslate()?(s=!1,x.params.resistance&&(P=x.minTranslate()-1+Math.pow(-x.minTranslate()+A+a,x.params.resistanceRatio))):0>a&&P<x.maxTranslate()&&(s=!1,x.params.resistance&&(P=x.maxTranslate()+1-Math.pow(x.maxTranslate()-A-a,x.params.resistanceRatio))),s&&(e.preventedByNestedSwiper=!0),!x.params.allowSwipeToNext&&"next"===x.swipeDirection&&A>P&&(P=A),!x.params.allowSwipeToPrev&&"prev"===x.swipeDirection&&P>A&&(P=A),x.params.threshold>0){if(!(Math.abs(a)>x.params.threshold||I))return void(P=A);if(!I)return I=!0,x.touches.startX=x.touches.currentX,x.touches.startY=x.touches.currentY,P=A,void(x.touches.diff=x.isHorizontal()?x.touches.currentX-x.touches.startX:x.touches.currentY-x.touches.startY)}x.params.followFinger&&((x.params.freeMode||x.params.watchSlidesProgress)&&x.updateActiveIndex(),x.params.freeMode&&(0===R.length&&R.push({position:x.touches[x.isHorizontal()?"startX":"startY"],time:E}),R.push({position:x.touches[x.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),x.updateProgress(P),x.setWrapperTranslate(P))}}}}},x.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),k&&x.emit("onTouchEnd",x,e),k=!1,T){x.params.grabCursor&&S&&T&&(x.params.allowSwipeToNext===!0||x.params.allowSwipeToPrev===!0)&&x.setGrabCursor(!1);var i=Date.now(),n=i-E;if(x.allowClick&&(x.updateClickedSlide(e),x.emit("onTap",x,e),300>n&&i-O>300&&(M&&clearTimeout(M),M=setTimeout(function(){x&&(x.params.paginationHide&&x.paginationContainer.length>0&&!t(e.target).hasClass(x.params.bulletClass)&&x.paginationContainer.toggleClass(x.params.paginationHiddenClass),x.emit("onClick",x,e))},300)),300>n&&300>i-O&&(M&&clearTimeout(M),x.emit("onDoubleTap",x,e))),O=Date.now(),setTimeout(function(){x&&(x.allowClick=!0)},0),!T||!S||!x.swipeDirection||0===x.touches.diff||P===A)return void(T=S=!1);T=S=!1;var a;if(a=x.params.followFinger?x.rtl?x.translate:-x.translate:-P,x.params.freeMode){if(a<-x.minTranslate())return void x.slideTo(x.activeIndex);if(a>-x.maxTranslate())return void(x.slides.length<x.snapGrid.length?x.slideTo(x.snapGrid.length-1):x.slideTo(x.slides.length-1));if(x.params.freeModeMomentum){if(R.length>1){var s=R.pop(),o=R.pop(),r=s.position-o.position,l=s.time-o.time;x.velocity=r/l,x.velocity=x.velocity/2,Math.abs(x.velocity)<x.params.freeModeMinimumVelocity&&(x.velocity=0),(l>150||(new window.Date).getTime()-s.time>300)&&(x.velocity=0)}else x.velocity=0;x.velocity=x.velocity*x.params.freeModeMomentumVelocityRatio,R.length=0;var c=1e3*x.params.freeModeMomentumRatio,u=x.velocity*c,d=x.translate+u;x.rtl&&(d=-d);var h,p=!1,f=20*Math.abs(x.velocity)*x.params.freeModeMomentumBounceRatio;if(d<x.maxTranslate())x.params.freeModeMomentumBounce?(d+x.maxTranslate()<-f&&(d=x.maxTranslate()-f),h=x.maxTranslate(),p=!0,N=!0):d=x.maxTranslate();else if(d>x.minTranslate())x.params.freeModeMomentumBounce?(d-x.minTranslate()>f&&(d=x.minTranslate()+f),h=x.minTranslate(),p=!0,N=!0):d=x.minTranslate();else if(x.params.freeModeSticky){var m,g=0;for(g=0;g<x.snapGrid.length;g+=1)if(x.snapGrid[g]>-d){m=g;break}d=Math.abs(x.snapGrid[m]-d)<Math.abs(x.snapGrid[m-1]-d)||"next"===x.swipeDirection?x.snapGrid[m]:x.snapGrid[m-1],x.rtl||(d=-d)}if(0!==x.velocity)c=x.rtl?Math.abs((-d-x.translate)/x.velocity):Math.abs((d-x.translate)/x.velocity);else if(x.params.freeModeSticky)return void x.slideReset();x.params.freeModeMomentumBounce&&p?(x.updateProgress(h),x.setWrapperTransition(c),x.setWrapperTranslate(d),x.onTransitionStart(),x.animating=!0,x.wrapper.transitionEnd(function(){x&&N&&(x.emit("onMomentumBounce",x),x.setWrapperTransition(x.params.speed),x.setWrapperTranslate(h),x.wrapper.transitionEnd(function(){x&&x.onTransitionEnd()}))})):x.velocity?(x.updateProgress(d),x.setWrapperTransition(c),x.setWrapperTranslate(d),x.onTransitionStart(),x.animating||(x.animating=!0,x.wrapper.transitionEnd(function(){x&&x.onTransitionEnd()}))):x.updateProgress(d),x.updateActiveIndex()}return void((!x.params.freeModeMomentum||n>=x.params.longSwipesMs)&&(x.updateProgress(),x.updateActiveIndex()))}var v,y=0,b=x.slidesSizesGrid[0];for(v=0;v<x.slidesGrid.length;v+=x.params.slidesPerGroup)"undefined"!=typeof x.slidesGrid[v+x.params.slidesPerGroup]?a>=x.slidesGrid[v]&&a<x.slidesGrid[v+x.params.slidesPerGroup]&&(y=v,b=x.slidesGrid[v+x.params.slidesPerGroup]-x.slidesGrid[v]):a>=x.slidesGrid[v]&&(y=v,b=x.slidesGrid[x.slidesGrid.length-1]-x.slidesGrid[x.slidesGrid.length-2]);var w=(a-x.slidesGrid[y])/b;if(n>x.params.longSwipesMs){if(!x.params.longSwipes)return void x.slideTo(x.activeIndex);"next"===x.swipeDirection&&(w>=x.params.longSwipesRatio?x.slideTo(y+x.params.slidesPerGroup):x.slideTo(y)),"prev"===x.swipeDirection&&(w>1-x.params.longSwipesRatio?x.slideTo(y+x.params.slidesPerGroup):x.slideTo(y))}else{if(!x.params.shortSwipes)return void x.slideTo(x.activeIndex);"next"===x.swipeDirection&&x.slideTo(y+x.params.slidesPerGroup),"prev"===x.swipeDirection&&x.slideTo(y)}}},x._slideTo=function(e,t){return x.slideTo(e,t,!0,!0)},x.slideTo=function(e,t,i,n){"undefined"==typeof i&&(i=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),x.snapIndex=Math.floor(e/x.params.slidesPerGroup),x.snapIndex>=x.snapGrid.length&&(x.snapIndex=x.snapGrid.length-1);var a=-x.snapGrid[x.snapIndex];if(x.params.autoplay&&x.autoplaying&&(n||!x.params.autoplayDisableOnInteraction?x.pauseAutoplay(t):x.stopAutoplay()),x.updateProgress(a),x.params.normalizeSlideIndex)for(var s=0;s<x.slidesGrid.length;s++)-Math.floor(100*a)>=Math.floor(100*x.slidesGrid[s])&&(e=s);return!x.params.allowSwipeToNext&&a<x.translate&&a<x.minTranslate()?!1:!x.params.allowSwipeToPrev&&a>x.translate&&a>x.maxTranslate()&&(x.activeIndex||0)!==e?!1:("undefined"==typeof t&&(t=x.params.speed),x.previousIndex=x.activeIndex||0,x.activeIndex=e,x.updateRealIndex(),x.rtl&&-a===x.translate||!x.rtl&&a===x.translate?(x.params.autoHeight&&x.updateAutoHeight(),x.updateClasses(),"slide"!==x.params.effect&&x.setWrapperTranslate(a),!1):(x.updateClasses(),x.onTransitionStart(i),0===t||x.browser.lteIE9?(x.setWrapperTranslate(a),x.setWrapperTransition(0),x.onTransitionEnd(i)):(x.setWrapperTranslate(a),x.setWrapperTransition(t),x.animating||(x.animating=!0,x.wrapper.transitionEnd(function(){x&&x.onTransitionEnd(i)}))),!0))},x.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),x.params.autoHeight&&x.updateAutoHeight(),x.lazy&&x.lazy.onTransitionStart(),e&&(x.emit("onTransitionStart",x),x.activeIndex!==x.previousIndex&&(x.emit("onSlideChangeStart",x),x.activeIndex>x.previousIndex?x.emit("onSlideNextStart",x):x.emit("onSlidePrevStart",x)))},x.onTransitionEnd=function(e){x.animating=!1,x.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),x.lazy&&x.lazy.onTransitionEnd(),e&&(x.emit("onTransitionEnd",x),x.activeIndex!==x.previousIndex&&(x.emit("onSlideChangeEnd",x),x.activeIndex>x.previousIndex?x.emit("onSlideNextEnd",x):x.emit("onSlidePrevEnd",x))),x.params.history&&x.history&&x.history.setHistory(x.params.history,x.activeIndex),x.params.hashnav&&x.hashnav&&x.hashnav.setHash()},x.slideNext=function(e,t,i){if(x.params.loop){if(x.animating)return!1;x.fixLoop();x.container[0].clientLeft;return x.slideTo(x.activeIndex+x.params.slidesPerGroup,t,e,i)}return x.slideTo(x.activeIndex+x.params.slidesPerGroup,t,e,i)},x._slideNext=function(e){return x.slideNext(!0,e,!0)},x.slidePrev=function(e,t,i){if(x.params.loop){if(x.animating)return!1;x.fixLoop();x.container[0].clientLeft;return x.slideTo(x.activeIndex-1,t,e,i)}return x.slideTo(x.activeIndex-1,t,e,i)},x._slidePrev=function(e){return x.slidePrev(!0,e,!0)},x.slideReset=function(e,t){return x.slideTo(x.activeIndex,t,e)},x.disableTouchControl=function(){return x.params.onlyExternal=!0,!0},x.enableTouchControl=function(){return x.params.onlyExternal=!1,!0},x.setWrapperTransition=function(e,t){x.wrapper.transition(e),"slide"!==x.params.effect&&x.effects[x.params.effect]&&x.effects[x.params.effect].setTransition(e),x.params.parallax&&x.parallax&&x.parallax.setTransition(e),x.params.scrollbar&&x.scrollbar&&x.scrollbar.setTransition(e),x.params.control&&x.controller&&x.controller.setTransition(e,t),x.emit("onSetTransition",x,e)},x.setWrapperTranslate=function(e,t,i){var n=0,a=0,o=0;x.isHorizontal()?n=x.rtl?-e:e:a=e,x.params.roundLengths&&(n=s(n),a=s(a)),x.params.virtualTranslate||(x.support.transforms3d?x.wrapper.transform("translate3d("+n+"px, "+a+"px, "+o+"px)"):x.wrapper.transform("translate("+n+"px, "+a+"px)")),x.translate=x.isHorizontal()?n:a;var r,l=x.maxTranslate()-x.minTranslate();r=0===l?0:(e-x.minTranslate())/l,r!==x.progress&&x.updateProgress(e),t&&x.updateActiveIndex(),"slide"!==x.params.effect&&x.effects[x.params.effect]&&x.effects[x.params.effect].setTranslate(x.translate),x.params.parallax&&x.parallax&&x.parallax.setTranslate(x.translate),x.params.scrollbar&&x.scrollbar&&x.scrollbar.setTranslate(x.translate),x.params.control&&x.controller&&x.controller.setTranslate(x.translate,i),x.emit("onSetTranslate",x,x.translate)},x.getTranslate=function(e,t){var i,n,a,s;return"undefined"==typeof t&&(t="x"),x.params.virtualTranslate?x.rtl?-x.translate:x.translate:(a=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),s=new window.WebKitCSSMatrix("none"===n?"":n)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),
i=s.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=window.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),x.rtl&&n&&(n=-n),n||0)},x.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=x.isHorizontal()?"x":"y"),x.getTranslate(x.wrapper[0],e)},x.observers=[],x.initObservers=function(){if(x.params.observeParents)for(var e=x.container.parents(),t=0;t<e.length;t++)l(e[t]);l(x.container[0],{childList:!1}),l(x.wrapper[0],{attributes:!1})},x.disconnectObservers=function(){for(var e=0;e<x.observers.length;e++)x.observers[e].disconnect();x.observers=[]},x.createLoop=function(){x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass).remove();var e=x.wrapper.children("."+x.params.slideClass);"auto"!==x.params.slidesPerView||x.params.loopedSlides||(x.params.loopedSlides=e.length),x.loopedSlides=parseInt(x.params.loopedSlides||x.params.slidesPerView,10),x.loopedSlides=x.loopedSlides+x.params.loopAdditionalSlides,x.loopedSlides>e.length&&(x.loopedSlides=e.length);var i,n=[],a=[];for(e.each(function(i,s){var o=t(this);i<x.loopedSlides&&a.push(s),i<e.length&&i>=e.length-x.loopedSlides&&n.push(s),o.attr("data-swiper-slide-index",i)}),i=0;i<a.length;i++)x.wrapper.append(t(a[i].cloneNode(!0)).addClass(x.params.slideDuplicateClass));for(i=n.length-1;i>=0;i--)x.wrapper.prepend(t(n[i].cloneNode(!0)).addClass(x.params.slideDuplicateClass))},x.destroyLoop=function(){x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass).remove(),x.slides.removeAttr("data-swiper-slide-index")},x.reLoop=function(e){var t=x.activeIndex-x.loopedSlides;x.destroyLoop(),x.createLoop(),x.updateSlidesSize(),e&&x.slideTo(t+x.loopedSlides,0,!1)},x.fixLoop=function(){var e;x.activeIndex<x.loopedSlides?(e=x.slides.length-3*x.loopedSlides+x.activeIndex,e+=x.loopedSlides,x.slideTo(e,0,!1,!0)):("auto"===x.params.slidesPerView&&x.activeIndex>=2*x.loopedSlides||x.activeIndex>x.slides.length-2*x.params.slidesPerView)&&(e=-x.slides.length+x.activeIndex+x.loopedSlides,e+=x.loopedSlides,x.slideTo(e,0,!1,!0))},x.appendSlide=function(e){if(x.params.loop&&x.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&x.wrapper.append(e[t]);else x.wrapper.append(e);x.params.loop&&x.createLoop(),x.params.observer&&x.support.observer||x.update(!0)},x.prependSlide=function(e){x.params.loop&&x.destroyLoop();var t=x.activeIndex+1;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]&&x.wrapper.prepend(e[i]);t=x.activeIndex+e.length}else x.wrapper.prepend(e);x.params.loop&&x.createLoop(),x.params.observer&&x.support.observer||x.update(!0),x.slideTo(t,0,!1)},x.removeSlide=function(e){x.params.loop&&(x.destroyLoop(),x.slides=x.wrapper.children("."+x.params.slideClass));var t,i=x.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)t=e[n],x.slides[t]&&x.slides.eq(t).remove(),i>t&&i--;i=Math.max(i,0)}else t=e,x.slides[t]&&x.slides.eq(t).remove(),i>t&&i--,i=Math.max(i,0);x.params.loop&&x.createLoop(),x.params.observer&&x.support.observer||x.update(!0),x.params.loop?x.slideTo(i+x.loopedSlides,0,!1):x.slideTo(i,0,!1)},x.removeAllSlides=function(){for(var e=[],t=0;t<x.slides.length;t++)e.push(t);x.removeSlide(e)},x.effects={fade:{setTranslate:function(){for(var e=0;e<x.slides.length;e++){var t=x.slides.eq(e),i=t[0].swiperSlideOffset,n=-i;x.params.virtualTranslate||(n-=x.translate);var a=0;x.isHorizontal()||(a=n,n=0);var s=x.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:s}).transform("translate3d("+n+"px, "+a+"px, 0px)")}},setTransition:function(e){if(x.slides.transition(e),x.params.virtualTranslate&&0!==e){var t=!1;x.slides.transitionEnd(function(){if(!t&&x){t=!0,x.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<e.length;i++)x.wrapper.trigger(e[i])}})}}},flip:{setTranslate:function(){for(var e=0;e<x.slides.length;e++){var i=x.slides.eq(e),n=i[0].progress;x.params.flip.limitRotation&&(n=Math.max(Math.min(i[0].progress,1),-1));var a=i[0].swiperSlideOffset,s=-180*n,o=s,r=0,l=-a,c=0;if(x.isHorizontal()?x.rtl&&(o=-o):(c=l,l=0,r=-o,o=0),i[0].style.zIndex=-Math.abs(Math.round(n))+x.slides.length,x.params.flip.slideShadows){var u=x.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),d=x.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===u.length&&(u=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"left":"top")+'"></div>'),i.append(u)),0===d.length&&(d=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"right":"bottom")+'"></div>'),i.append(d)),u.length&&(u[0].style.opacity=Math.max(-n,0)),d.length&&(d[0].style.opacity=Math.max(n,0))}i.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+r+"deg) rotateY("+o+"deg)")}},setTransition:function(e){if(x.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),x.params.virtualTranslate&&0!==e){var i=!1;x.slides.eq(x.activeIndex).transitionEnd(function(){if(!i&&x&&t(this).hasClass(x.params.slideActiveClass)){i=!0,x.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)x.wrapper.trigger(e[n])}})}}},cube:{setTranslate:function(){var e,i=0;x.params.cube.shadow&&(x.isHorizontal()?(e=x.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),x.wrapper.append(e)),e.css({height:x.width+"px"})):(e=x.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),x.container.append(e))));for(var n=0;n<x.slides.length;n++){var a=x.slides.eq(n),s=90*n,o=Math.floor(s/360);x.rtl&&(s=-s,o=Math.floor(-s/360));var r=Math.max(Math.min(a[0].progress,1),-1),l=0,c=0,u=0;n%4===0?(l=4*-o*x.size,u=0):(n-1)%4===0?(l=0,u=4*-o*x.size):(n-2)%4===0?(l=x.size+4*o*x.size,u=x.size):(n-3)%4===0&&(l=-x.size,u=3*x.size+4*x.size*o),x.rtl&&(l=-l),x.isHorizontal()||(c=l,l=0);var d="rotateX("+(x.isHorizontal()?0:-s)+"deg) rotateY("+(x.isHorizontal()?s:0)+"deg) translate3d("+l+"px, "+c+"px, "+u+"px)";if(1>=r&&r>-1&&(i=90*n+90*r,x.rtl&&(i=90*-n-90*r)),a.transform(d),x.params.cube.slideShadows){var h=x.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),p=x.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"left":"top")+'"></div>'),a.append(h)),0===p.length&&(p=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"right":"bottom")+'"></div>'),a.append(p)),h.length&&(h[0].style.opacity=Math.max(-r,0)),p.length&&(p[0].style.opacity=Math.max(r,0))}}if(x.wrapper.css({"-webkit-transform-origin":"50% 50% -"+x.size/2+"px","-moz-transform-origin":"50% 50% -"+x.size/2+"px","-ms-transform-origin":"50% 50% -"+x.size/2+"px","transform-origin":"50% 50% -"+x.size/2+"px"}),x.params.cube.shadow)if(x.isHorizontal())e.transform("translate3d(0px, "+(x.width/2+x.params.cube.shadowOffset)+"px, "+-x.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+x.params.cube.shadowScale+")");else{var f=Math.abs(i)-90*Math.floor(Math.abs(i)/90),m=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),g=x.params.cube.shadowScale,v=x.params.cube.shadowScale/m,y=x.params.cube.shadowOffset;e.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(x.height/2+y)+"px, "+-x.height/2/v+"px) rotateX(-90deg)")}var b=x.isSafari||x.isUiWebView?-x.size/2:0;x.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(x.isHorizontal()?0:i)+"deg) rotateY("+(x.isHorizontal()?-i:0)+"deg)")},setTransition:function(e){x.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),x.params.cube.shadow&&!x.isHorizontal()&&x.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=x.translate,i=x.isHorizontal()?-e+x.width/2:-e+x.height/2,n=x.isHorizontal()?x.params.coverflow.rotate:-x.params.coverflow.rotate,a=x.params.coverflow.depth,s=0,o=x.slides.length;o>s;s++){var r=x.slides.eq(s),l=x.slidesSizesGrid[s],c=r[0].swiperSlideOffset,u=(i-c-l/2)/l*x.params.coverflow.modifier,d=x.isHorizontal()?n*u:0,h=x.isHorizontal()?0:n*u,p=-a*Math.abs(u),f=x.isHorizontal()?0:x.params.coverflow.stretch*u,m=x.isHorizontal()?x.params.coverflow.stretch*u:0;Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0),Math.abs(h)<.001&&(h=0);var g="translate3d("+m+"px,"+f+"px,"+p+"px)  rotateX("+h+"deg) rotateY("+d+"deg)";if(r.transform(g),r[0].style.zIndex=-Math.abs(Math.round(u))+1,x.params.coverflow.slideShadows){var v=x.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),y=x.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===v.length&&(v=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"left":"top")+'"></div>'),r.append(v)),0===y.length&&(y=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"right":"bottom")+'"></div>'),r.append(y)),v.length&&(v[0].style.opacity=u>0?u:0),y.length&&(y[0].style.opacity=-u>0?-u:0)}}if(x.browser.ie){var b=x.wrapper[0].style;b.perspectiveOrigin=i+"px 50%"}},setTransition:function(e){x.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},x.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,i){if("undefined"!=typeof e&&("undefined"==typeof i&&(i=!0),0!==x.slides.length)){var n=x.slides.eq(e),a=n.find("."+x.params.lazyLoadingClass+":not(."+x.params.lazyStatusLoadedClass+"):not(."+x.params.lazyStatusLoadingClass+")");!n.hasClass(x.params.lazyLoadingClass)||n.hasClass(x.params.lazyStatusLoadedClass)||n.hasClass(x.params.lazyStatusLoadingClass)||(a=a.add(n[0])),0!==a.length&&a.each(function(){var e=t(this);e.addClass(x.params.lazyStatusLoadingClass);var a=e.attr("data-background"),s=e.attr("data-src"),o=e.attr("data-srcset"),r=e.attr("data-sizes");x.loadImage(e[0],s||a,o,r,!1,function(){if(a?(e.css("background-image",'url("'+a+'")'),e.removeAttr("data-background")):(o&&(e.attr("srcset",o),e.removeAttr("data-srcset")),r&&(e.attr("sizes",r),e.removeAttr("data-sizes")),s&&(e.attr("src",s),e.removeAttr("data-src"))),e.addClass(x.params.lazyStatusLoadedClass).removeClass(x.params.lazyStatusLoadingClass),n.find("."+x.params.lazyPreloaderClass+", ."+x.params.preloaderClass).remove(),x.params.loop&&i){var t=n.attr("data-swiper-slide-index");if(n.hasClass(x.params.slideDuplicateClass)){var l=x.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+x.params.slideDuplicateClass+")");x.lazy.loadImageInSlide(l.index(),!1)}else{var c=x.wrapper.children("."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');x.lazy.loadImageInSlide(c.index(),!1)}}x.emit("onLazyImageReady",x,n[0],e[0])}),x.emit("onLazyImageLoad",x,n[0],e[0])})}},load:function(){var e,i=x.params.slidesPerView;if("auto"===i&&(i=0),x.lazy.initialImageLoaded||(x.lazy.initialImageLoaded=!0),x.params.watchSlidesVisibility)x.wrapper.children("."+x.params.slideVisibleClass).each(function(){x.lazy.loadImageInSlide(t(this).index())});else if(i>1)for(e=x.activeIndex;e<x.activeIndex+i;e++)x.slides[e]&&x.lazy.loadImageInSlide(e);else x.lazy.loadImageInSlide(x.activeIndex);if(x.params.lazyLoadingInPrevNext)if(i>1||x.params.lazyLoadingInPrevNextAmount&&x.params.lazyLoadingInPrevNextAmount>1){var n=x.params.lazyLoadingInPrevNextAmount,a=i,s=Math.min(x.activeIndex+a+Math.max(n,a),x.slides.length),o=Math.max(x.activeIndex-Math.max(a,n),0);for(e=x.activeIndex+i;s>e;e++)x.slides[e]&&x.lazy.loadImageInSlide(e);for(e=o;e<x.activeIndex;e++)x.slides[e]&&x.lazy.loadImageInSlide(e)}else{var r=x.wrapper.children("."+x.params.slideNextClass);r.length>0&&x.lazy.loadImageInSlide(r.index());var l=x.wrapper.children("."+x.params.slidePrevClass);l.length>0&&x.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){x.params.lazyLoading&&(x.params.lazyLoadingOnTransitionStart||!x.params.lazyLoadingOnTransitionStart&&!x.lazy.initialImageLoaded)&&x.lazy.load()},onTransitionEnd:function(){x.params.lazyLoading&&!x.params.lazyLoadingOnTransitionStart&&x.lazy.load()}},x.scrollbar={isTouched:!1,setDragPosition:function(e){var t=x.scrollbar,i=x.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,n=i-t.track.offset()[x.isHorizontal()?"left":"top"]-t.dragSize/2,a=-x.minTranslate()*t.moveDivider,s=-x.maxTranslate()*t.moveDivider;a>n?n=a:n>s&&(n=s),n=-n/t.moveDivider,x.updateProgress(n),x.setWrapperTranslate(n,!0)},dragStart:function(e){var t=x.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),x.params.scrollbarHide&&t.track.css("opacity",1),x.wrapper.transition(100),t.drag.transition(100),x.emit("onScrollbarDragStart",x)},dragMove:function(e){var t=x.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),x.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),x.emit("onScrollbarDragMove",x))},dragEnd:function(){var e=x.scrollbar;e.isTouched&&(e.isTouched=!1,x.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),x.emit("onScrollbarDragEnd",x),x.params.scrollbarSnapOnRelease&&x.slideReset())},draggableEvents:function(){return x.params.simulateTouch!==!1||x.support.touch?x.touchEvents:x.touchEventsDesktop}(),enableDraggable:function(){var e=x.scrollbar,i=x.support.touch?e.track:document;t(e.track).on(e.draggableEvents.start,e.dragStart),t(i).on(e.draggableEvents.move,e.dragMove),t(i).on(e.draggableEvents.end,e.dragEnd)},disableDraggable:function(){var e=x.scrollbar,i=x.support.touch?e.track:document;t(e.track).off(x.draggableEvents.start,e.dragStart),t(i).off(x.draggableEvents.move,e.dragMove),t(i).off(x.draggableEvents.end,e.dragEnd)},set:function(){if(x.params.scrollbar){var e=x.scrollbar;e.track=t(x.params.scrollbar),x.params.uniqueNavElements&&"string"==typeof x.params.scrollbar&&e.track.length>1&&1===x.container.find(x.params.scrollbar).length&&(e.track=x.container.find(x.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=x.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=x.size/x.virtualSize,e.moveDivider=e.divider*(e.trackSize/x.size),e.dragSize=e.trackSize*e.divider,x.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",x.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(x.params.scrollbar){var e,t=x.scrollbar,i=(x.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*x.progress,x.rtl&&x.isHorizontal()?(e=-e,e>0?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e)):0>e?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),x.isHorizontal()?(x.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(x.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=i+"px"),x.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){x.params.scrollbar&&x.scrollbar.drag.transition(e)}},x.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var i,n;this.x.length;this.interpolate=function(e){return e?(n=a(this.x,e),i=n-1,(e-this.x[i])*(this.y[n]-this.y[i])/(this.x[n]-this.x[i])+this.y[i]):0};var a=function(){var e,t,i;return function(n,a){for(t=-1,e=n.length;e-t>1;)n[i=e+t>>1]<=a?t=i:e=i;return e}}()},getInterpolateFunction:function(e){x.controller.spline||(x.controller.spline=x.params.loop?new x.controller.LinearSpline(x.slidesGrid,e.slidesGrid):new x.controller.LinearSpline(x.snapGrid,e.snapGrid))},setTranslate:function(e,t){function n(t){e=t.rtl&&"horizontal"===t.params.direction?-x.translate:x.translate,"slide"===x.params.controlBy&&(x.controller.getInterpolateFunction(t),s=-x.controller.spline.interpolate(-e)),s&&"container"!==x.params.controlBy||(a=(t.maxTranslate()-t.minTranslate())/(x.maxTranslate()-x.minTranslate()),s=(e-x.minTranslate())*a+t.minTranslate()),x.params.controlInverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setWrapperTranslate(s,!1,x),t.updateActiveIndex()}var a,s,o=x.params.control;if(x.isArray(o))for(var r=0;r<o.length;r++)o[r]!==t&&o[r]instanceof i&&n(o[r]);else o instanceof i&&t!==o&&n(o)},setTransition:function(e,t){function n(t){t.setWrapperTransition(e,x),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){s&&(t.params.loop&&"slide"===x.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var a,s=x.params.control;if(x.isArray(s))for(a=0;a<s.length;a++)s[a]!==t&&s[a]instanceof i&&n(s[a]);else s instanceof i&&t!==s&&n(s)}},x.hashnav={onHashCange:function(){var e=document.location.hash.replace("#",""),t=x.slides.eq(x.activeIndex).attr("data-hash");e!==t&&x.slideTo(x.wrapper.children("."+x.params.slideClass+'[data-hash="'+e+'"]').index())},attachEvents:function(e){var i=e?"off":"on";t(window)[i]("hashchange",x.hashnav.onHashCange)},setHash:function(){if(x.hashnav.initialized&&x.params.hashnav)if(x.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+x.slides.eq(x.activeIndex).attr("data-hash")||"");else{var e=x.slides.eq(x.activeIndex),t=e.attr("data-hash")||e.attr("data-history");document.location.hash=t||""}},init:function(){if(x.params.hashnav&&!x.params.history){x.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e){for(var t=0,i=0,n=x.slides.length;n>i;i++){var a=x.slides.eq(i),s=a.attr("data-hash")||a.attr("data-history");if(s===e&&!a.hasClass(x.params.slideDuplicateClass)){var o=a.index();x.slideTo(o,t,x.params.runCallbacksOnInit,!0)}}x.params.hashnavWatchState&&x.hashnav.attachEvents()}}},destroy:function(){x.params.hashnavWatchState&&x.hashnav.attachEvents(!0)}},x.history={init:function(){if(x.params.history){if(!window.history||!window.history.pushState)return x.params.history=!1,void(x.params.hashnav=!0);x.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,x.params.runCallbacksOnInit),x.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){x.history.paths=x.history.getPathValues(),x.history.scrollToSlide(x.params.speed,x.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length,i=e[t-2],n=e[t-1];return{key:i,value:n}},setHistory:function(e,t){if(x.history.initialized&&x.params.history){var i=x.slides.eq(t),n=this.slugify(i.attr("data-history"));window.location.pathname.includes(e)||(n=e+"/"+n),x.params.replaceState?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){if(t)for(var n=0,a=x.slides.length;a>n;n++){var s=x.slides.eq(n),o=this.slugify(s.attr("data-history"));if(o===t&&!s.hasClass(x.params.slideDuplicateClass)){var r=s.index();x.slideTo(r,e,i)}}else x.slideTo(0,e,i)}},x.disableKeyboardControl=function(){x.params.keyboardControl=!1,t(document).off("keydown",c)},x.enableKeyboardControl=function(){x.params.keyboardControl=!0,t(document).on("keydown",c)},x.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},x.params.mousewheelControl&&(x.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":u()?"wheel":"mousewheel"),x.disableMousewheelControl=function(){if(!x.mousewheel.event)return!1;var e=x.container;return"container"!==x.params.mousewheelEventsTarged&&(e=t(x.params.mousewheelEventsTarged)),e.off(x.mousewheel.event,d),!0},x.enableMousewheelControl=function(){if(!x.mousewheel.event)return!1;var e=x.container;return"container"!==x.params.mousewheelEventsTarged&&(e=t(x.params.mousewheelEventsTarged)),e.on(x.mousewheel.event,d),!0},x.parallax={setTranslate:function(){x.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,x.progress)}),x.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);p(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=x.params.speed),x.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var i=t(this),n=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),i.transition(n)})}},x.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:x.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY,s=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-i,2));return s},onGestureStart:function(e){var i=x.zoom;if(!x.support.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.gesture.scaleStart=i.getDistanceBetweenTouches(e)}return i.gesture.slide&&i.gesture.slide.length||(i.gesture.slide=t(this),0===i.gesture.slide.length&&(i.gesture.slide=x.slides.eq(x.activeIndex)),i.gesture.image=i.gesture.slide.find("img, svg, canvas"),i.gesture.imageWrap=i.gesture.image.parent("."+x.params.zoomContainerClass),i.gesture.zoomMax=i.gesture.imageWrap.attr("data-swiper-zoom")||x.params.zoomMax,0!==i.gesture.imageWrap.length)?(i.gesture.image.transition(0),void(i.isScaling=!0)):void(i.gesture.image=void 0)},onGestureChange:function(e){var t=x.zoom;if(!x.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(x.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<x.params.zoomMin&&(t.scale=x.params.zoomMin+1-Math.pow(x.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=x.zoom;!x.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),x.params.zoomMin),t.gesture.image.transition(x.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var i=e.zoom;i.gesture.image&&0!==i.gesture.image.length&&(i.image.isTouched||("android"===e.device.os&&t.preventDefault(),i.image.isTouched=!0,i.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=x.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(x.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=x.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=x.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0));var i=t.image.width*t.scale,n=t.image.height*t.scale;if(!(i<t.gesture.slideWidth&&n<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-i/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-n/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(x.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!x.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e){var t=e.zoom;if(t.gesture.image&&0!==t.gesture.image.length){if(!t.image.isTouched||!t.image.isMoved)return t.image.isTouched=!1,void(t.image.isMoved=!1);t.image.isTouched=!1,t.image.isMoved=!1;var i=300,n=300,a=t.velocity.x*i,s=t.image.currentX+a,o=t.velocity.y*n,r=t.image.currentY+o;0!==t.velocity.x&&(i=Math.abs((s-t.image.currentX)/t.velocity.x)),0!==t.velocity.y&&(n=Math.abs((r-t.image.currentY)/t.velocity.y));var l=Math.max(i,n);t.image.currentX=s,t.image.currentY=r;var c=t.image.width*t.scale,u=t.image.height*t.scale;t.image.minX=Math.min(t.gesture.slideWidth/2-c/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-u/2,0),t.image.maxY=-t.image.minY,t.image.currentX=Math.max(Math.min(t.image.currentX,t.image.maxX),t.image.minX),t.image.currentY=Math.max(Math.min(t.image.currentY,t.image.maxY),t.image.minY),t.gesture.imageWrap.transition(l).transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(e,i){var n=e.zoom;if(n.gesture.slide||(n.gesture.slide=e.clickedSlide?t(e.clickedSlide):e.slides.eq(e.activeIndex),n.gesture.image=n.gesture.slide.find("img, svg, canvas"),n.gesture.imageWrap=n.gesture.image.parent("."+e.params.zoomContainerClass)),n.gesture.image&&0!==n.gesture.image.length){var a,s,o,r,l,c,u,d,h,p,f,m,g,v,y,b,w,_;"undefined"==typeof n.image.touchesStart.x&&i?(a="touchend"===i.type?i.changedTouches[0].pageX:i.pageX,s="touchend"===i.type?i.changedTouches[0].pageY:i.pageY):(a=n.image.touchesStart.x,s=n.image.touchesStart.y),n.scale&&1!==n.scale?(n.scale=n.currentScale=1,n.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),n.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),n.gesture.slide=void 0):(n.scale=n.currentScale=n.gesture.imageWrap.attr("data-swiper-zoom")||e.params.zoomMax,i?(w=n.gesture.slide[0].offsetWidth,_=n.gesture.slide[0].offsetHeight,o=n.gesture.slide.offset().left,r=n.gesture.slide.offset().top,l=o+w/2-a,c=r+_/2-s,h=n.gesture.image[0].offsetWidth,p=n.gesture.image[0].offsetHeight,f=h*n.scale,m=p*n.scale,g=Math.min(w/2-f/2,0),v=Math.min(_/2-m/2,0),y=-g,b=-v,u=l*n.scale,d=c*n.scale,g>u&&(u=g),u>y&&(u=y),v>d&&(d=v),d>b&&(d=b)):(u=0,d=0),n.gesture.imageWrap.transition(300).transform("translate3d("+u+"px, "+d+"px,0)"),n.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+n.scale+")"))}},attachEvents:function(e){var i=e?"off":"on";if(x.params.zoom){var n=(x.slides,"touchstart"===x.touchEvents.start&&x.support.passiveListener&&x.params.passiveListeners?{passive:!0,capture:!1}:!1);x.support.gestures?(x.slides[i]("gesturestart",x.zoom.onGestureStart,n),x.slides[i]("gesturechange",x.zoom.onGestureChange,n),x.slides[i]("gestureend",x.zoom.onGestureEnd,n)):"touchstart"===x.touchEvents.start&&(x.slides[i](x.touchEvents.start,x.zoom.onGestureStart,n),x.slides[i](x.touchEvents.move,x.zoom.onGestureChange,n),x.slides[i](x.touchEvents.end,x.zoom.onGestureEnd,n)),x[i]("touchStart",x.zoom.onTouchStart),x.slides.each(function(e,n){t(n).find("."+x.params.zoomContainerClass).length>0&&t(n)[i](x.touchEvents.move,x.zoom.onTouchMove)}),x[i]("touchEnd",x.zoom.onTouchEnd),x[i]("transitionEnd",x.zoom.onTransitionEnd),x.params.zoomToggle&&x.on("doubleTap",x.zoom.toggleZoom)}},init:function(){x.zoom.attachEvents()},destroy:function(){x.zoom.attachEvents(!0)}},x._plugins=[];for(var F in x.plugins){var z=x.plugins[F](x,x.params[F]);z&&x._plugins.push(z)}return x.callPlugins=function(e){for(var t=0;t<x._plugins.length;t++)e in x._plugins[t]&&x._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},x.emitterEventListeners={},x.emit=function(e){x.params[e]&&x.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(x.emitterEventListeners[e])for(t=0;t<x.emitterEventListeners[e].length;t++)x.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);x.callPlugins&&x.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},x.on=function(e,t){return e=f(e),x.emitterEventListeners[e]||(x.emitterEventListeners[e]=[]),x.emitterEventListeners[e].push(t),x},x.off=function(e,t){var i;if(e=f(e),"undefined"==typeof t)return x.emitterEventListeners[e]=[],x;if(x.emitterEventListeners[e]&&0!==x.emitterEventListeners[e].length){for(i=0;i<x.emitterEventListeners[e].length;i++)x.emitterEventListeners[e][i]===t&&x.emitterEventListeners[e].splice(i,1);return x}},x.once=function(e,t){e=f(e);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),x.off(e,i)};return x.on(e,i),x},x.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(x.params.nextButton)?(x.onClickNext(e),x.isEnd?x.a11y.notify(x.params.lastSlideMessage):x.a11y.notify(x.params.nextSlideMessage)):t(e.target).is(x.params.prevButton)&&(x.onClickPrev(e),x.isBeginning?x.a11y.notify(x.params.firstSlideMessage):x.a11y.notify(x.params.prevSlideMessage)),
t(e.target).is("."+x.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="'+x.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=x.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){x.params.nextButton&&x.nextButton&&x.nextButton.length>0&&(x.a11y.makeFocusable(x.nextButton),x.a11y.addRole(x.nextButton,"button"),x.a11y.addLabel(x.nextButton,x.params.nextSlideMessage)),x.params.prevButton&&x.prevButton&&x.prevButton.length>0&&(x.a11y.makeFocusable(x.prevButton),x.a11y.addRole(x.prevButton,"button"),x.a11y.addLabel(x.prevButton,x.params.prevSlideMessage)),t(x.container).append(x.a11y.liveRegion)},initPagination:function(){x.params.pagination&&x.params.paginationClickable&&x.bullets&&x.bullets.length&&x.bullets.each(function(){var e=t(this);x.a11y.makeFocusable(e),x.a11y.addRole(e,"button"),x.a11y.addLabel(e,x.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){x.a11y.liveRegion&&x.a11y.liveRegion.length>0&&x.a11y.liveRegion.remove()}},x.init=function(){x.params.loop&&x.createLoop(),x.updateContainerSize(),x.updateSlidesSize(),x.updatePagination(),x.params.scrollbar&&x.scrollbar&&(x.scrollbar.set(),x.params.scrollbarDraggable&&x.scrollbar.enableDraggable()),"slide"!==x.params.effect&&x.effects[x.params.effect]&&(x.params.loop||x.updateProgress(),x.effects[x.params.effect].setTranslate()),x.params.loop?x.slideTo(x.params.initialSlide+x.loopedSlides,0,x.params.runCallbacksOnInit):(x.slideTo(x.params.initialSlide,0,x.params.runCallbacksOnInit),0===x.params.initialSlide&&(x.parallax&&x.params.parallax&&x.parallax.setTranslate(),x.lazy&&x.params.lazyLoading&&(x.lazy.load(),x.lazy.initialImageLoaded=!0))),x.attachEvents(),x.params.observer&&x.support.observer&&x.initObservers(),x.params.preloadImages&&!x.params.lazyLoading&&x.preloadImages(),x.params.zoom&&x.zoom&&x.zoom.init(),x.params.autoplay&&x.startAutoplay(),x.params.keyboardControl&&x.enableKeyboardControl&&x.enableKeyboardControl(),x.params.mousewheelControl&&x.enableMousewheelControl&&x.enableMousewheelControl(),x.params.hashnavReplaceState&&(x.params.replaceState=x.params.hashnavReplaceState),x.params.history&&x.history&&x.history.init(),x.params.hashnav&&x.hashnav&&x.hashnav.init(),x.params.a11y&&x.a11y&&x.a11y.init(),x.emit("onInit",x)},x.cleanupStyles=function(){x.container.removeClass(x.classNames.join(" ")).removeAttr("style"),x.wrapper.removeAttr("style"),x.slides&&x.slides.length&&x.slides.removeClass([x.params.slideVisibleClass,x.params.slideActiveClass,x.params.slideNextClass,x.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),x.paginationContainer&&x.paginationContainer.length&&x.paginationContainer.removeClass(x.params.paginationHiddenClass),x.bullets&&x.bullets.length&&x.bullets.removeClass(x.params.bulletActiveClass),x.params.prevButton&&t(x.params.prevButton).removeClass(x.params.buttonDisabledClass),x.params.nextButton&&t(x.params.nextButton).removeClass(x.params.buttonDisabledClass),x.params.scrollbar&&x.scrollbar&&(x.scrollbar.track&&x.scrollbar.track.length&&x.scrollbar.track.removeAttr("style"),x.scrollbar.drag&&x.scrollbar.drag.length&&x.scrollbar.drag.removeAttr("style"))},x.destroy=function(e,t){x.detachEvents(),x.stopAutoplay(),x.params.scrollbar&&x.scrollbar&&x.params.scrollbarDraggable&&x.scrollbar.disableDraggable(),x.params.loop&&x.destroyLoop(),t&&x.cleanupStyles(),x.disconnectObservers(),x.params.zoom&&x.zoom&&x.zoom.destroy(),x.params.keyboardControl&&x.disableKeyboardControl&&x.disableKeyboardControl(),x.params.mousewheelControl&&x.disableMousewheelControl&&x.disableMousewheelControl(),x.params.a11y&&x.a11y&&x.a11y.destroy(),x.params.history&&!x.params.replaceState&&window.removeEventListener("popstate",x.history.setHistoryPopState),x.params.hashnav&&x.hashnav&&x.hashnav.destroy(),x.emit("onDestroy"),e!==!1&&(x=null)},x.init(),x}};i.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}()},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),i=e.match(/(iPad).*OS\s([\d_]+)/),n=e.match(/(iPod)(.*OS\s([\d_]+))?/),a=!i&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:i||a||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<t.length;i++)if(t[i]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(i){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var n=["jQuery","Zepto","Dom7"],a=0;a<n.length;a++)window[n[a]]&&e(window[n[a]]);var s;s="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function t(s){if(s.target===this)for(e.call(this,s),i=0;i<n.length;i++)a.off(n[i],t)}var i,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(i=0;i<n.length;i++)a.on(n[i],t);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this}),"outerWidth"in s.fn||(s.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=i}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(e){e.util={waitFor:function(e,t){var i=10;return new Promise(function(n,a){setTimeout(function s(){return e()?void n():(t-=i,0>=t?void a():void setTimeout(s,i))},i)})}}}(window),function(e){var t={init:function(i){return this.each(function(){t.destroy.call(this),this.opt=e.extend(!0,{},e.fn.raty.defaults,i);var n=e(this),a=["number","readOnly","score","scoreName"];t._callback.call(this,a),this.opt.precision&&t._adjustPrecision.call(this),this.opt.number=t._between(this.opt.number,0,this.opt.numberMax),this.stars=t._createStars.call(this),this.score=t._createScore.call(this),t._apply.call(this,this.opt.score),this.opt.cancel&&(this.cancel=t._createCancel.call(this)),this.opt.width&&n.css("width",this.opt.width),this.opt.readOnly?t._lock.call(this):(n.css("cursor","pointer"),t._binds.call(this)),t._target.call(this,this.opt.score),n.data({settings:this.opt,raty:!0})})},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0},_apply:function(e){e&&e>0&&(e=t._between(e,0,this.opt.number),this.score.val(e)),t._fill.call(this,e),e&&t._roundStars.call(this,e)},_between:function(e,t,i){return Math.min(Math.max(parseFloat(e),t),i)},_binds:function(){this.cancel&&t._bindCancel.call(this),t._bindClick.call(this),t._bindOut.call(this),t._bindOver.call(this)},_bindCancel:function(){t._bindClickCancel.call(this),t._bindOutCancel.call(this),t._bindOverCancel.call(this)},_bindClick:function(){var t=this,i=e(t);t.stars.on("click.raty",function(n){t.score.val(t.opt.half||t.opt.precision?i.data("score"):e(this).data("score")),t.opt.click&&t.opt.click.call(t,parseFloat(t.score.val()),n)})},_bindClickCancel:function(){var e=this;e.cancel.on("click.raty",function(t){e.score.removeAttr("value"),e.opt.click&&e.opt.click.call(e,null,t)})},_bindOut:function(){var i=this;e(this).on("mouseleave.raty",function(e){var n=parseFloat(i.score.val())||void 0;t._apply.call(i,n),t._target.call(i,n,e),i.opt.mouseout&&i.opt.mouseout.call(i,n,e)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(i){e(this).attr("class",t.opt.cancelOff),t.opt.mouseout&&t.opt.mouseout.call(t,t.score.val()||null,i)})},_bindOverCancel:function(){var i=this;i.cancel.on("mouseover.raty",function(n){e(this).attr("class",i.opt.cancelOn),i.stars.attr("class",i.opt.starOff),t._target.call(i,null,n),i.opt.mouseover&&i.opt.mouseover.call(i,null)})},_bindOver:function(){var i=this,n=e(i),a=i.opt.half?"mousemove.raty":"mouseover.raty";i.stars.on(a,function(a){var s=parseInt(e(this).data("score"),10);if(i.opt.half){var o=parseFloat((a.pageX-e(this).offset().left)/(i.opt.size?i.opt.size:parseInt(n.css("font-size")))),r=o>.5?1:.5;s=s-1+r,t._fill.call(i,s),i.opt.precision&&(s=s-r+o),t._roundStars.call(i,s),n.data("score",s)}else t._fill.call(i,s);t._target.call(i,s,a),i.opt.mouseover&&i.opt.mouseover.call(i,s,a)})},_callback:function(e){for(var t in e)"function"==typeof this.opt[e[t]]&&(this.opt[e[t]]=this.opt[e[t]].call(this))},_createCancel:function(){var t=e(this),i=this.opt.cancelOff,n=e("<i />",{"class":i,title:this.opt.cancelHint});return"left"==this.opt.cancelPlace?t.prepend("&#160;").prepend(n):t.append("&#160;").append(n),n},_createScore:function(){return e("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){for(var i=e(this),n=1;n<=this.opt.number;n++){var a=t._getHint.call(this,n),s=this.opt.score&&this.opt.score>=n?"starOn":"starOff";s=this.opt[s],e("<i />",{"class":s,title:a,"data-score":n}).appendTo(this),this.opt.space&&i.append(n<this.opt.number?"&#160;":"")}return i.children("i")},_error:function(t){e(this).html(t),e.error(t)},_fill:function(e){for(var t=this,i=0,n=1;n<=t.stars.length;n++){var a=t.stars.eq(n-1),s=t.opt.single?n==e:e>=n;if(t.opt.iconRange&&t.opt.iconRange.length>i){var o=t.opt.iconRange[i],r=o.on||t.opt.starOn,l=o.off||t.opt.starOff,c=s?r:l;n<=o.range&&a.attr("class",c),n==o.range&&i++}else{var c=s?"starOn":"starOff";a.attr("class",this.opt[c])}}},_getHint:function(e){var t=this.opt.hints[e-1];return""===t?"":t||e},_lock:function(){var i=parseInt(this.score.val(),10),n=i?t._getHint.call(this,i):this.opt.noRatedMsg;e(this).data("readonly",!0).css("cursor","").attr("title",n),this.score.attr("readonly","readonly"),this.stars.attr("title",n),this.cancel&&this.cancel.hide()},_roundStars:function(e){var t=(e-Math.floor(e)).toFixed(2);if(t>this.opt.round.down){var i="starOn";this.opt.halfShow&&t<this.opt.round.up?i="starHalf":t<this.opt.round.full&&(i="starOff"),this.stars.eq(Math.ceil(e)-1).attr("class",this.opt[i])}},_target:function(i,n){if(this.opt.target){var a=e(this.opt.target);0===a.length&&t._error.call(this,"Target selector invalid or missing!"),this.opt.targetFormat.indexOf("{score}")<0&&t._error.call(this,'Template "{score}" missing!');var s=n&&"mouseover"==n.type;void 0===i?i=this.opt.targetText:null===i?i=s?this.opt.cancelHint:this.opt.targetText:("hint"==this.opt.targetType?i=t._getHint.call(this,Math.ceil(i)):this.opt.precision&&(i=parseFloat(i).toFixed(1)),s||this.opt.targetKeep||(i=this.opt.targetText)),i&&(i=this.opt.targetFormat.toString().replace("{score}",i)),a.is(":input")?a.val(i):a.html(i)}},_unlock:function(){e(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var i=0;i<this.opt.number;i++)this.stars.eq(i).attr("title",t._getHint.call(this,i+1));this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each(function(){e(this).data("readonly")!==!0&&(t[i?"click":"score"].call(this,null),this.score.removeAttr("value"))})},click:function(i){return e(this).each(function(){e(this).data("readonly")!==!0&&(t._apply.call(this,i),this.opt.click||t._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,i,e.Event("click")),t._target.call(this,i))})},destroy:function(){return e(this).each(function(){var t=e(this),i=t.data("raw");i?t.off(".raty").empty().css({cursor:i.style.cursor,width:i.style.width}).removeData("readonly"):t.data("raw",t.clone()[0])})},getScore:function(){var t,i=[];return e(this).each(function(){t=this.score.val(),i.push(t?parseFloat(t):void 0)}),i.length>1?i:i[0]},readOnly:function(i){return this.each(function(){var n=e(this);n.data("readonly")!==i&&(i?(n.off(".raty").children("i").off(".raty"),t._lock.call(this)):(t._binds.call(this),t._unlock.call(this)),n.data("readonly",i))})},reload:function(){return t.set.call(this,{})},score:function(){return arguments.length?t.setScore.apply(this,arguments):t.getScore.call(this)},set:function(t){return this.each(function(){var i=e(this),n=i.data("settings"),a=e.extend({},n,t);i.raty(a)})},setScore:function(i){return e(this).each(function(){e(this).data("readonly")!==!0&&(t._apply.call(this,i),t._target.call(this,i))})}};e.fn.raty=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist!"):t.init.apply(this,arguments)},e.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"fa fa-fw fa-minus-square",cancelOn:"fa fa-fw fa-check-square",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,size:null,space:!0,starHalf:"fa fa-smile-o font-orange2 font-big-modal",starOff:"fa fa-smile-o gray-color font-big-modal",starOn:"fa fa-smile-o font-orange2 font-big-modal",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:!1}}(jQuery),function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define("datatables",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):jQuery&&!jQuery.fn.dataTable&&e(jQuery)}(function(n){"use strict";function a(e){var t,i,s="a aa ai ao as b fn i m o s ",o={};n.each(e,function(n){t=n.match(/^([^A-Z]+?)([A-Z])/),t&&-1!==s.indexOf(t[1]+" ")&&(i=n.replace(t[0],t[2].toLowerCase()),o[i]=n,"o"===t[1]&&a(e[n]))}),e._hungarianMap=o}function s(e,t,o){e._hungarianMap||a(e);var r;n.each(t,function(a){r=e._hungarianMap[a],r===i||!o&&t[r]!==i||("o"===r.charAt(0)?(t[r]||(t[r]={}),n.extend(!0,t[r],t[a]),s(e[r],t[r],o)):t[r]=t[a])})}function o(e){var t=Xe.defaults.oLanguage,i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&Le(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&Le(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var n=e.sDecimal;n&&Ye(n)}function r(e){yt(e,"ordering","bSort"),yt(e,"orderMulti","bSortMulti"),yt(e,"orderClasses","bSortClasses"),yt(e,"orderCellsTop","bSortCellsTop"),yt(e,"order","aaSorting"),yt(e,"orderFixed","aaSortingFixed"),yt(e,"paging","bPaginate"),yt(e,"pagingType","sPaginationType"),yt(e,"pageLength","iDisplayLength"),yt(e,"searching","bFilter");var t=e.aoSearchCols;if(t)for(var i=0,n=t.length;n>i;i++)t[i]&&s(Xe.models.oSearch,t[i])}function l(e){yt(e,"orderable","bSortable"),yt(e,"orderData","aDataSort"),yt(e,"orderSequence","asSorting"),yt(e,"orderDataType","sortDataType");var t=e.aDataSort;t&&!n.isArray(t)&&(e.aDataSort=[t])}function c(e){var t=e.oBrowser,i=n("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),a=i.find(".test");t.bScrollOversize=100===a[0].offsetWidth,t.bScrollbarLeft=1!==Math.round(a.offset().left),i.remove()}function u(e,t,n,a,s,o){var r,l=a,c=!1;for(n!==i&&(r=n,c=!0);l!==s;)e.hasOwnProperty(l)&&(r=c?t(r,e[l],l,e):e[l],c=!0,l+=o);return r}function d(e,i){var a=Xe.defaults.column,s=e.aoColumns.length,o=n.extend({},Xe.models.oColumn,a,{nTh:i?i:t.createElement("th"),sTitle:a.sTitle?a.sTitle:i?i.innerHTML:"",aDataSort:a.aDataSort?a.aDataSort:[s],mData:a.mData?a.mData:s,idx:s});e.aoColumns.push(o);var r=e.aoPreSearchCols;r[s]=n.extend({},Xe.models.oSearch,r[s]),h(e,s,n(i).data())}function h(e,t,a){var o=e.aoColumns[t],r=e.oClasses,c=n(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=c.attr("width")||null;var u=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(o.sWidthOrig=u[1])}a!==i&&null!==a&&(l(a),s(Xe.defaults.column,a),a.mDataProp===i||a.mData||(a.mData=a.mDataProp),a.sType&&(o._sManualType=a.sType),a.className&&!a.sClass&&(a.sClass=a.className),n.extend(o,a),Le(o,a,"sWidth","sWidthOrig"),a.iDataSort!==i&&(o.aDataSort=[a.iDataSort]),Le(o,a,"aDataSort"));var d=o.mData,h=E(d),p=o.mRender?E(o.mRender):null,f=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};o._bAttrSrc=n.isPlainObject(d)&&(f(d.sort)||f(d.type)||f(d.filter)),o.fnGetData=function(e,t,n){var a=h(e,t,i,n);return p&&t?p(a,t,e,n):a},o.fnSetData=function(e,t,i){return D(d)(e,t,i)},"number"!=typeof d&&(e._rowReadObject=!0),e.oFeatures.bSort||(o.bSortable=!1,c.addClass(r.sSortableNone));var m=-1!==n.inArray("asc",o.asSorting),g=-1!==n.inArray("desc",o.asSorting);o.bSortable&&(m||g)?m&&!g?(o.sSortingClass=r.sSortableAsc,o.sSortingClassJUI=r.sSortJUIAscAllowed):!m&&g?(o.sSortingClass=r.sSortableDesc,o.sSortingClassJUI=r.sSortJUIDescAllowed):(o.sSortingClass=r.sSortable,o.sSortingClassJUI=r.sSortJUI):(o.sSortingClass=r.sSortableNone,o.sSortingClassJUI="")}function p(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;ye(e);for(var i=0,n=t.length;n>i;i++)t[i].nTh.style.width=t[i].sWidth}var a=e.oScroll;""===a.sY&&""===a.sX||ge(e),Be(e,null,"column-sizing",[e])}function f(e,t){var i=v(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function m(e,t){var i=v(e,"bVisible"),a=n.inArray(t,i);return-1!==a?a:null}function g(e){return v(e,"bVisible").length}function v(e,t){var i=[];return n.map(e.aoColumns,function(e,n){e[t]&&i.push(n)}),i}function y(e){var t,n,a,s,o,r,l,c,u,d=e.aoColumns,h=e.aoData,p=Xe.ext.type.detect;for(t=0,n=d.length;n>t;t++)if(l=d[t],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(a=0,s=p.length;s>a;a++){for(o=0,r=h.length;r>o&&(u[o]===i&&(u[o]=T(e,o,t,"type")),c=p[a](u[o],e),c||a===p.length-1)&&"html"!==c;o++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(e,t,a,s){var o,r,l,c,u,h,p,f=e.aoColumns;if(t)for(o=t.length-1;o>=0;o--){p=t[o];var m=p.targets!==i?p.targets:p.aTargets;for(n.isArray(m)||(m=[m]),l=0,c=m.length;c>l;l++)if("number"==typeof m[l]&&m[l]>=0){for(;f.length<=m[l];)d(e);s(m[l],p)}else if("number"==typeof m[l]&&m[l]<0)s(f.length+m[l],p);else if("string"==typeof m[l])for(u=0,h=f.length;h>u;u++)("_all"==m[l]||n(f[u].nTh).hasClass(m[l]))&&s(u,p)}if(a)for(o=0,r=a.length;r>o;o++)s(o,a[o])}function w(e,t,i,a){var s=e.aoData.length,o=n.extend(!0,{},Xe.models.oRow,{src:i?"dom":"data"});o._aData=t,e.aoData.push(o);for(var r=e.aoColumns,l=0,c=r.length;c>l;l++)i&&S(e,s,l,T(e,s,l)),r[l].sType=null;return e.aiDisplayMaster.push(s),!i&&e.oFeatures.bDeferRender||j(e,s,i,a),s}function _(e,t){var i;return t instanceof n||(t=n(t)),t.map(function(t,n){return i=N(e,n),w(e,i.data,n,i.cells)})}function x(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null}function C(e,t,i){return n.inArray(i,e.aoData[t].anCells)}function T(e,t,n,a){var s=e.iDraw,o=e.aoColumns[n],r=e.aoData[t]._aData,l=o.sDefaultContent,c=o.fnGetData(r,a,{settings:e,row:t,col:n});if(c===i)return e.iDrawError!=s&&null===l&&(Re(e,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+t,4),e.iDrawError=s),l;if(c!==r&&null!==c||null===l){if("function"==typeof c)return c.call(r)}else c=l;return null===c&&"display"==a?"":c}function S(e,t,i,n){var a=e.aoColumns[i],s=e.aoData[t]._aData;a.fnSetData(s,n,{settings:e,row:t,col:i})}function k(e){return n.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function E(e){if(n.isPlainObject(e)){var t={};return n.each(e,function(e,i){i&&(t[e]=E(i))}),function(e,n,a,s){var o=t[n]||t._;return o!==i?o(e,n,a,s):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,i,n,a){return e(t,i,n,a)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t){return t[e]};var a=function(e,t,n){var s,o,r,l;if(""!==n)for(var c=k(n),u=0,d=c.length;d>u;u++){if(s=c[u].match(bt),o=c[u].match(wt),s){c[u]=c[u].replace(bt,""),""!==c[u]&&(e=e[c[u]]),r=[],c.splice(0,u+1),l=c.join(".");for(var h=0,p=e.length;p>h;h++)r.push(a(e[h],t,l));var f=s[0].substring(1,s[0].length-1);e=""===f?r:r.join(f);break}if(o)c[u]=c[u].replace(wt,""),e=e[c[u]]();else{if(null===e||e[c[u]]===i)return i;e=e[c[u]]}}return e};return function(t,i){return a(t,i,e)}}function D(e){if(n.isPlainObject(e))return D(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,i){t[e]=i};var t=function(e,n,a){for(var s,o,r,l,c,u=k(a),d=u[u.length-1],h=0,p=u.length-1;p>h;h++){if(o=u[h].match(bt),r=u[h].match(wt),o){u[h]=u[h].replace(bt,""),e[u[h]]=[],s=u.slice(),s.splice(0,h+1),c=s.join(".");for(var f=0,m=n.length;m>f;f++)l={},t(l,n[f],c),e[u[h]].push(l);return}r&&(u[h]=u[h].replace(wt,""),e=e[u[h]](n)),null!==e[u[h]]&&e[u[h]]!==i||(e[u[h]]={}),e=e[u[h]]}d.match(wt)?e=e[d.replace(wt,"")](n):e[d.replace(bt,"")]=n};return function(i,n){return t(i,n,e)}}function P(e){return ht(e.aoData,"_aData")}function A(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function I(e,t,n){for(var a=-1,s=0,o=e.length;o>s;s++)e[s]==t?a=s:e[s]>t&&e[s]--;-1!=a&&n===i&&e.splice(a,1)}function M(e,t,n,a){var s,o,r=e.aoData[t],l=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=T(e,t,n,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==r.src)){var c=r.anCells;if(c)if(a!==i)l(c[a],a);else for(s=0,o=c.length;o>s;s++)l(c[s],s)}else r._aData=N(e,r,a,a===i?i:r._aData).data;r._aSortData=null,r._aFilterData=null;var u=e.aoColumns;if(a!==i)u[a].sType=null;else{for(s=0,o=u.length;o>s;s++)u[s].sType=null;O(r)}}function N(e,t,a,s){var o,r,l,c=[],u=t.firstChild,d=0,h=e.aoColumns,p=e._rowReadObject;s=s||p?{}:[];var f=function(e,t){if("string"==typeof e){var i=e.indexOf("@");if(-1!==i){var n=e.substring(i+1),a=D(e);a(s,t.getAttribute(n))}}},m=function(e){if(a===i||a===d)if(r=h[d],l=n.trim(e.innerHTML),r&&r._bAttrSrc){var t=D(r.mData._);t(s,l),f(r.mData.sort,e),f(r.mData.type,e),f(r.mData.filter,e)}else p?(r._setter||(r._setter=D(r.mData)),r._setter(s,l)):s[d]=l;d++};if(u)for(;u;)o=u.nodeName.toUpperCase(),"TD"!=o&&"TH"!=o||(m(u),c.push(u)),u=u.nextSibling;else{c=t.anCells;for(var g=0,v=c.length;v>g;g++)m(c[g])}return{data:s,cells:c}}function j(e,i,n,a){var s,o,r,l,c,u=e.aoData[i],d=u._aData,h=[];if(null===u.nTr){for(s=n||t.createElement("tr"),u.nTr=s,u.anCells=h,s._DT_RowIndex=i,O(u),l=0,c=e.aoColumns.length;c>l;l++)r=e.aoColumns[l],o=n?a[l]:t.createElement(r.sCellType),h.push(o),n&&!r.mRender&&r.mData===l||(o.innerHTML=T(e,i,l,"display")),r.sClass&&(o.className+=" "+r.sClass),r.bVisible&&!n?s.appendChild(o):!r.bVisible&&n&&o.parentNode.removeChild(o),r.fnCreatedCell&&r.fnCreatedCell.call(e.oInstance,o,T(e,i,l),d,i,l);Be(e,"aoRowCreatedCallback",null,[s,d,i])}u.nTr.setAttribute("role","row")}function O(e){var t=e.nTr,i=e._aData;if(t){if(i.DT_RowId&&(t.id=i.DT_RowId),i.DT_RowClass){var a=i.DT_RowClass.split(" ");e.__rowc=e.__rowc?vt(e.__rowc.concat(a)):a,n(t).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&n(t).attr(i.DT_RowAttr),i.DT_RowData&&n(t).data(i.DT_RowData)}}function R(e){var t,i,a,s,o,r=e.nTHead,l=e.nTFoot,c=0===n("th, td",r).length,u=e.oClasses,d=e.aoColumns;for(c&&(s=n("<tr/>").appendTo(r)),t=0,i=d.length;i>t;t++)o=d[t],a=n(o.nTh).addClass(o.sClass),c&&a.appendTo(s),e.oFeatures.bSort&&(a.addClass(o.sSortingClass),o.bSortable!==!1&&(a.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Ae(e,o.nTh,t))),o.sTitle!=a.html()&&a.html(o.sTitle),We(e,"header")(e,a,o,u);if(c&&B(e.aoHeader,r),n(r).find(">tr").attr("role","row"),n(r).find(">tr>th, >tr>td").addClass(u.sHeaderTH),n(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var h=e.aoFooter[0];for(t=0,i=h.length;i>t;t++)o=d[t],o.nTf=h[t].cell,o.sClass&&n(o.nTf).addClass(o.sClass)}}function L(e,t,a){var s,o,r,l,c,u,d,h,p,f=[],m=[],g=e.aoColumns.length;if(t){for(a===i&&(a=!1),s=0,o=t.length;o>s;s++){for(f[s]=t[s].slice(),f[s].nTr=t[s].nTr,r=g-1;r>=0;r--)e.aoColumns[r].bVisible||a||f[s].splice(r,1);m.push([])}for(s=0,o=f.length;o>s;s++){if(d=f[s].nTr)for(;u=d.firstChild;)d.removeChild(u);for(r=0,l=f[s].length;l>r;r++)if(h=1,p=1,m[s][r]===i){for(d.appendChild(f[s][r].cell),m[s][r]=1;f[s+h]!==i&&f[s][r].cell==f[s+h][r].cell;)m[s+h][r]=1,h++;for(;f[s][r+p]!==i&&f[s][r].cell==f[s][r+p].cell;){for(c=0;h>c;c++)m[s+c][r+p]=1;p++}n(f[s][r].cell).attr("rowspan",h).attr("colspan",p)}}}}function $(e){var t=Be(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==n.inArray(!1,t))return void fe(e,!1);var a=[],s=0,o=e.asStripeClasses,r=o.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,u="ssp"==qe(e),d=e.aiDisplay;e.bDrawing=!0,c!==i&&-1!==c&&(e._iDisplayStart=u?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var h=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,fe(e,!1);else if(u){if(!e.bDestroying&&!q(e))return}else e.iDraw++;if(0!==d.length)for(var f=u?0:h,m=u?e.aoData.length:p,v=f;m>v;v++){var y=d[v],b=e.aoData[y];null===b.nTr&&j(e,y);var w=b.nTr;if(0!==r){var _=o[s%r];b._sRowStripe!=_&&(n(w).removeClass(b._sRowStripe).addClass(_),b._sRowStripe=_)}Be(e,"aoRowCallback",null,[w,b._aData,s,v]),a.push(w),s++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==qe(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),a[0]=n("<tr/>",{"class":r?o[0]:""}).append(n("<td />",{valign:"top",colSpan:g(e),"class":e.oClasses.sRowEmpty}).html(x))[0]}Be(e,"aoHeaderCallback","header",[n(e.nTHead).children("tr")[0],P(e),h,p,d]),Be(e,"aoFooterCallback","footer",[n(e.nTFoot).children("tr")[0],P(e),h,p,d]);var C=n(e.nTBody);C.children().detach(),C.append(n(a)),Be(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function F(e,t){var i=e.oFeatures,n=i.bSort,a=i.bFilter;n&&Ee(e),a?G(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,$(e),e._drawHold=!1}function z(e){var t=e.oClasses,i=n(e.nTable),a=n("<div/>").insertBefore(i),s=e.oFeatures,o=n("<div/>",{id:e.sTableId+"_wrapper","class":t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=a[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var r,l,c,u,d,h,p=e.sDom.split(""),f=0;f<p.length;f++){if(r=null,l=p[f],"<"==l){if(c=n("<div/>")[0],u=p[f+1],"'"==u||'"'==u){for(d="",h=2;p[f+h]!=u;)d+=p[f+h],h++;if("H"==d?d=t.sJUIHeader:"F"==d&&(d=t.sJUIFooter),-1!=d.indexOf(".")){var m=d.split(".");c.id=m[0].substr(1,m[0].length-1),c.className=m[1]}else"#"==d.charAt(0)?c.id=d.substr(1,d.length-1):c.className=d;f+=h}o.append(c),o=n(c)}else if(">"==l)o=o.parent();else if("l"==l&&s.bPaginate&&s.bLengthChange)r=ue(e);else if("f"==l&&s.bFilter)r=X(e);else if("r"==l&&s.bProcessing)r=pe(e);else if("t"==l)r=me(e);else if("i"==l&&s.bInfo)r=ae(e);else if("p"==l&&s.bPaginate)r=de(e);else if(0!==Xe.ext.feature.length)for(var g=Xe.ext.feature,v=0,y=g.length;y>v;v++)if(l==g[v].cFeature){r=g[v].fnInit(e);break}if(r){var b=e.aanFeatures;b[l]||(b[l]=[]),b[l].push(r),o.append(r)}}a.replaceWith(o)}function B(e,t){var i,a,s,o,r,l,c,u,d,h,p,f=n(t).children("tr"),m=function(e,t,i){for(var n=e[t];n[i];)i++;return i};for(e.splice(0,e.length),s=0,l=f.length;l>s;s++)e.push([]);for(s=0,l=f.length;l>s;s++)for(i=f[s],u=0,a=i.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase())for(d=1*a.getAttribute("colspan"),h=1*a.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,h=h&&0!==h&&1!==h?h:1,c=m(e,s,u),p=1===d,r=0;d>r;r++)for(o=0;h>o;o++)e[s+o][c+r]={cell:a,unique:p},e[s+o].nTr=i;a=a.nextSibling}}function H(e,t,i){var n=[];i||(i=e.aoHeader,t&&(i=[],B(i,t)));for(var a=0,s=i.length;s>a;a++)for(var o=0,r=i[a].length;r>o;o++)!i[a][o].unique||n[o]&&e.bSortCellsTop||(n[o]=i[a][o].cell);return n}function W(e,t,i){if(Be(e,"aoServerParams","serverParams",[t]),t&&n.isArray(t)){var a={},s=/(.*?)\[\]$/;n.each(t,function(e,t){var i=t.name.match(s);if(i){var n=i[0];a[n]||(a[n]=[]),a[n].push(t.value)}else a[t.name]=t.value}),t=a}var o,r=e.ajax,l=e.oInstance,c=function(t){Be(e,null,"xhr",[e,t]),i(t)};if(n.isPlainObject(r)&&r.data){o=r.data;var u=n.isFunction(o)?o(t,e):o;t=n.isFunction(o)&&u?u:n.extend(!0,t,u),delete r.data}var d={data:t,success:function(t){var i=t.error||t.sError;i&&e.oApi._fnLog(e,0,i),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,i){var n=e.oApi._fnLog;"parsererror"==i?n(e,0,"Invalid JSON response",1):4===t.readyState&&n(e,0,"Ajax error",7),fe(e,!1)}};e.oAjaxData=t,Be(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,n.map(t,function(e,t){return{name:t,value:e}}),c,e):e.sAjaxSource||"string"==typeof r?e.jqXHR=n.ajax(n.extend(d,{url:r||e.sAjaxSource})):n.isFunction(r)?e.jqXHR=r.call(l,t,c,e):(e.jqXHR=n.ajax(n.extend(d,r)),r.data=o)}function q(e){return e.bAjaxDataGet?(e.iDraw++,fe(e,!0),W(e,U(e),function(t){Y(e,t)}),!1):!0}function U(e){var t,i,a,s,o=e.aoColumns,r=o.length,l=e.oFeatures,c=e.oPreviousSearch,u=e.aoPreSearchCols,d=[],h=ke(e),p=e._iDisplayStart,f=l.bPaginate!==!1?e._iDisplayLength:-1,m=function(e,t){d.push({name:e,value:t})};m("sEcho",e.iDraw),m("iColumns",r),m("sColumns",ht(o,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",f);var g={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:c.sSearch,regex:c.bRegex}};for(t=0;r>t;t++)a=o[t],s=u[t],i="function"==typeof a.mData?"function":a.mData,g.columns.push({data:i,name:a.sName,searchable:a.bSearchable,orderable:a.bSortable,search:{value:s.sSearch,regex:s.bRegex}}),m("mDataProp_"+t,i),l.bFilter&&(m("sSearch_"+t,s.sSearch),m("bRegex_"+t,s.bRegex),m("bSearchable_"+t,a.bSearchable)),l.bSort&&m("bSortable_"+t,a.bSortable);l.bFilter&&(m("sSearch",c.sSearch),m("bRegex",c.bRegex)),l.bSort&&(n.each(h,function(e,t){g.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",h.length));var v=Xe.ext.legacy.ajax;return null===v?e.sAjaxSource?d:g:v?d:g}function Y(e,t){var n=function(e,n){return t[e]!==i?t[e]:t[n]},a=V(e,t),s=n("sEcho","draw"),o=n("iTotalRecords","recordsTotal"),r=n("iTotalDisplayRecords","recordsFiltered");if(s){if(1*s<e.iDraw)return;e.iDraw=1*s}A(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(r,10);for(var l=0,c=a.length;c>l;l++)w(e,a[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,$(e),e._bInitComplete||le(e,t),e.bAjaxDataGet=!0,fe(e,!1)}function V(e,t){var a=n.isPlainObject(e.ajax)&&e.ajax.dataSrc!==i?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===a?t.aaData||t[a]:""!==a?E(a)(t):t}function X(e){var i=e.oClasses,a=e.sTableId,s=e.oLanguage,o=e.oPreviousSearch,r=e.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=s.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=n("<div/>",{id:r.f?null:a+"_filter","class":i.sFilter}).append(n("<label/>").append(c)),d=function(){var t=(r.f,this.value?this.value:"");t!=o.sSearch&&(G(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive
}),e._iDisplayStart=0,$(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===qe(e)?400:0,p=n("input",u).val(o.sSearch).attr("placeholder",s.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?be(d,h):d).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}).attr("aria-controls",a);return n(e.nTable).on("search.dt.DT",function(i,n){if(e===n)try{p[0]!==t.activeElement&&p.val(o.sSearch)}catch(a){}}),u[0]}function G(e,t,n){var a=e.oPreviousSearch,s=e.aoPreSearchCols,o=function(e){a.sSearch=e.sSearch,a.bRegex=e.bRegex,a.bSmart=e.bSmart,a.bCaseInsensitive=e.bCaseInsensitive},r=function(e){return e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex};if(y(e),"ssp"!=qe(e)){J(e,t.sSearch,n,r(t),t.bSmart,t.bCaseInsensitive),o(t);for(var l=0;l<s.length;l++)Q(e,s[l].sSearch,l,r(s[l]),s[l].bSmart,s[l].bCaseInsensitive);K(e)}else o(t);e.bFiltered=!0,Be(e,null,"search",[e])}function K(e){for(var t,i,n=Xe.ext.search,a=e.aiDisplay,s=0,o=n.length;o>s;s++){for(var r=[],l=0,c=a.length;c>l;l++)i=a[l],t=e.aoData[i],n[s](e,t._aFilterData,i,t._aData,l)&&r.push(i);a.length=0,a.push.apply(a,r)}}function Q(e,t,i,n,a,s){if(""!==t)for(var o,r=e.aiDisplay,l=Z(t,n,a,s),c=r.length-1;c>=0;c--)o=e.aoData[r[c]]._aFilterData[i],l.test(o)||r.splice(c,1)}function J(e,t,i,n,a,s){var o,r,l,c=Z(t,n,a,s),u=e.oPreviousSearch.sSearch,d=e.aiDisplayMaster;if(0!==Xe.ext.search.length&&(i=!0),r=te(e),t.length<=0)e.aiDisplay=d.slice();else for((r||i||u.length>t.length||0!==t.indexOf(u)||e.bSorted)&&(e.aiDisplay=d.slice()),o=e.aiDisplay,l=o.length-1;l>=0;l--)c.test(e.aoData[o[l]]._sFilterRow)||o.splice(l,1)}function Z(e,t,i,a){if(e=t?e:ee(e),i){var s=n.map(e.match(/"[^"]+"|[^ ]+/g)||"",function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});e="^(?=.*?"+s.join(")(?=.*?")+").*$"}return new RegExp(e,a?"i":"")}function ee(e){return e.replace(at,"\\$1")}function te(e){var t,i,n,a,s,o,r,l,c=e.aoColumns,u=Xe.ext.type.search,d=!1;for(i=0,a=e.aoData.length;a>i;i++)if(l=e.aoData[i],!l._aFilterData){for(o=[],n=0,s=c.length;s>n;n++)t=c[n],t.bSearchable?(r=T(e,i,n,"filter"),u[t.sType]&&(r=u[t.sType](r)),null===r&&(r=""),"string"!=typeof r&&r.toString&&(r=r.toString())):r="",r.indexOf&&-1!==r.indexOf("&")&&(_t.innerHTML=r,r=xt?_t.textContent:_t.innerText),r.replace&&(r=r.replace(/[\r\n]/g,"")),o.push(r);l._aFilterData=o,l._sFilterRow=o.join("  "),d=!0}return d}function ie(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ne(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function ae(e){var t=e.sTableId,i=e.aanFeatures.i,a=n("<div/>",{"class":e.oClasses.sInfo,id:i?null:t+"_info"});return i||(e.aoDrawCallback.push({fn:se,sName:"information"}),a.attr("role","status").attr("aria-live","polite"),n(e.nTable).attr("aria-describedby",t+"_info")),a[0]}function se(e){var t=e.aanFeatures.i;if(0!==t.length){var i=e.oLanguage,a=e._iDisplayStart+1,s=e.fnDisplayEnd(),o=e.fnRecordsTotal(),r=e.fnRecordsDisplay(),l=r?i.sInfo:i.sInfoEmpty;r!==o&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=oe(e,l);var c=i.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,a,s,o,r,l)),n(t).html(l)}}function oe(e,t){var i=e.fnFormatNumber,n=e._iDisplayStart+1,a=e._iDisplayLength,s=e.fnRecordsDisplay(),o=-1===a;return t.replace(/_START_/g,i.call(e,n)).replace(/_END_/g,i.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,i.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(e,s)).replace(/_PAGE_/g,i.call(e,o?1:Math.ceil(n/a))).replace(/_PAGES_/g,i.call(e,o?1:Math.ceil(s/a)))}function re(e){var t,i,n,a=e.iInitDisplayStart,s=e.aoColumns,o=e.oFeatures;if(!e.bInitialised)return void setTimeout(function(){re(e)},200);for(z(e),R(e),L(e,e.aoHeader),L(e,e.aoFooter),fe(e,!0),o.bAutoWidth&&ye(e),t=0,i=s.length;i>t;t++)n=s[t],n.sWidth&&(n.nTh.style.width=Te(n.sWidth));F(e);var r=qe(e);"ssp"!=r&&("ajax"==r?W(e,[],function(i){var n=V(e,i);for(t=0;t<n.length;t++)w(e,n[t]);e.iInitDisplayStart=a,F(e),fe(e,!1),le(e,i)},e):(fe(e,!1),le(e)))}function le(e,t){e._bInitComplete=!0,t&&p(e),Be(e,"aoInitComplete","init",[e,t])}function ce(e,t){var i=parseInt(t,10);e._iDisplayLength=i,He(e),Be(e,null,"length",[e,i])}function ue(e){for(var t=e.oClasses,i=e.sTableId,a=e.aLengthMenu,s=n.isArray(a[0]),o=s?a[0]:a,r=s?a[1]:a,l=n("<select/>",{name:i+"_length","aria-controls":i,"class":t.sLengthSelect}),c=0,u=o.length;u>c;c++)l[0][c]=new Option(r[c],o[c]);var d=n("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(d[0].id=i+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),n("select",d).val(e._iDisplayLength).bind("change.DT",function(){ce(e,n(this).val()),$(e)}),n(e.nTable).bind("length.dt.DT",function(t,i,a){e===i&&n("select",d).val(a)}),d[0]}function de(e){var t=e.sPaginationType,i=Xe.ext.pager[t],a="function"==typeof i,s=function(e){$(e)},o=n("<div/>").addClass(e.oClasses.sPaging+t)[0],r=e.aanFeatures;return a||i.fnInit(e,o,s),r.p||(o.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(a){var t,n,o=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),u=-1===l,d=u?0:Math.ceil(o/l),h=u?1:Math.ceil(c/l),p=i(d,h);for(t=0,n=r.p.length;n>t;t++)We(e,"pageButton")(e,r.p[t],t,p,d,h)}else i.fnUpdate(e,s)},sName:"pagination"})),o}function he(e,t,i){var n=e._iDisplayStart,a=e._iDisplayLength,s=e.fnRecordsDisplay();0===s||-1===a?n=0:"number"==typeof t?(n=t*a,n>s&&(n=0)):"first"==t?n=0:"previous"==t?(n=a>=0?n-a:0,0>n&&(n=0)):"next"==t?s>n+a&&(n+=a):"last"==t?n=Math.floor((s-1)/a)*a:Re(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==n;return e._iDisplayStart=n,o&&(Be(e,null,"page",[e]),i&&$(e)),o}function pe(e){return n("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function fe(e,t){e.oFeatures.bProcessing&&n(e.aanFeatures.r).css("display",t?"block":"none"),Be(e,null,"processing",[e,t])}function me(e){var t=n(e.nTable);t.attr("role","grid");var i=e.oScroll;if(""===i.sX&&""===i.sY)return e.nTable;var a=i.sX,s=i.sY,o=e.oClasses,r=t.children("caption"),l=r.length?r[0]._captionSide:null,c=n(t[0].cloneNode(!1)),u=n(t[0].cloneNode(!1)),d=t.children("tfoot"),h="<div/>",p=function(e){return e?Te(e):null};i.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),d.length||(d=null);var f=n(h,{"class":o.sScrollWrapper}).append(n(h,{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:a?p(a):"100%"}).append(n(h,{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?r:null).append(t.children("thead"))))).append(n(h,{"class":o.sScrollBody}).css({overflow:"auto",height:p(s),width:p(a)}).append(t));d&&f.append(n(h,{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:a?p(a):"100%"}).append(n(h,{"class":o.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?r:null).append(t.children("tfoot")))));var m=f.children(),g=m[0],v=m[1],y=d?m[2]:null;return a&&n(v).on("scroll.DT",function(){var e=this.scrollLeft;g.scrollLeft=e,d&&(y.scrollLeft=e)}),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:ge,sName:"scrolling"}),f[0]}function ge(e){var t,i,a,s,o,r,l,c,u,d=e.oScroll,h=d.sX,p=d.sXInner,m=d.sY,g=d.iBarWidth,v=n(e.nScrollHead),y=v[0].style,b=v.children("div"),w=b[0].style,_=b.children("table"),x=e.nScrollBody,C=n(x),T=x.style,S=n(e.nScrollFoot),k=S.children("div"),E=k.children("table"),D=n(e.nTHead),P=n(e.nTable),A=P[0],I=A.style,M=e.nTFoot?n(e.nTFoot):null,N=e.oBrowser,j=N.bScrollOversize,O=[],R=[],L=[],$=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(P.children("thead, tfoot").remove(),o=D.clone().prependTo(P),t=D.find("tr"),a=o.find("tr"),o.find("th, td").removeAttr("tabindex"),M&&(r=M.clone().prependTo(P),i=M.find("tr"),s=r.find("tr")),h||(T.width="100%",v[0].style.width="100%"),n.each(H(e,o),function(t,i){l=f(e,t),i.style.width=e.aoColumns[l].sWidth}),M&&ve(function(e){e.style.width=""},s),d.bCollapse&&""!==m&&(T.height=C[0].offsetHeight+D[0].offsetHeight+"px"),u=P.outerWidth(),""===h?(I.width="100%",j&&(P.find("tbody").height()>x.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Te(P.outerWidth()-g))):""!==p?I.width=Te(p):u==C.width()&&C.height()<P.height()?(I.width=Te(u-g),P.outerWidth()>u-g&&(I.width=Te(u))):I.width=Te(u),u=P.outerWidth(),ve($,a),ve(function(e){L.push(e.innerHTML),O.push(Te(n(e).css("width")))},a),ve(function(e,t){e.style.width=O[t]},t),n(a).height(0),M&&(ve($,s),ve(function(e){R.push(Te(n(e).css("width")))},s),ve(function(e,t){e.style.width=R[t]},i),n(s).height(0)),ve(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[t]+"</div>",e.style.width=O[t]},a),M&&ve(function(e,t){e.innerHTML="",e.style.width=R[t]},s),P.outerWidth()<u?(c=x.scrollHeight>x.offsetHeight||"scroll"==C.css("overflow-y")?u+g:u,j&&(x.scrollHeight>x.offsetHeight||"scroll"==C.css("overflow-y"))&&(I.width=Te(c-g)),""!==h&&""===p||Re(e,1,"Possible column misalignment",6)):c="100%",T.width=Te(c),y.width=Te(c),M&&(e.nScrollFoot.style.width=Te(c)),m||j&&(T.height=Te(A.offsetHeight+g)),m&&d.bCollapse){T.height=Te(m);var F=h&&A.offsetWidth>x.offsetWidth?g:0;A.offsetHeight<x.offsetHeight&&(T.height=Te(A.offsetHeight+F))}var z=P.outerWidth();_[0].style.width=Te(z),w.width=Te(z);var B=P.height()>x.clientHeight||"scroll"==C.css("overflow-y"),W="padding"+(N.bScrollbarLeft?"Left":"Right");w[W]=B?g+"px":"0px",M&&(E[0].style.width=Te(z),k[0].style.width=Te(z),k[0].style[W]=B?g+"px":"0px"),C.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(x.scrollTop=0)}function ve(e,t,i){for(var n,a,s=0,o=0,r=t.length;r>o;){for(n=t[o].firstChild,a=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?e(n,a,s):e(n,s),s++),n=n.nextSibling,a=i?a.nextSibling:null;o++}}function ye(t){var i,a,s,o,r,l=t.nTable,c=t.aoColumns,u=t.oScroll,d=u.sY,h=u.sX,f=u.sXInner,m=c.length,y=v(t,"bVisible"),b=n("th",t.nTHead),w=l.getAttribute("width"),_=l.parentNode,x=!1,C=l.style.width;for(C&&-1!==C.indexOf("%")&&(w=C),i=0;i<y.length;i++)a=c[y[i]],null!==a.sWidth&&(a.sWidth=we(a.sWidthOrig,_),x=!0);if(x||h||d||m!=g(t)||m!=b.length){var T=n(l).clone().empty().css("visibility","hidden").removeAttr("id").append(n(t.nTHead).clone(!1)).append(n(t.nTFoot).clone(!1)).append(n("<tbody><tr/></tbody>"));T.find("tfoot th, tfoot td").css("width","");var S=T.find("tbody tr");for(b=H(t,T.find("thead")[0]),i=0;i<y.length;i++)a=c[y[i]],b[i].style.width=null!==a.sWidthOrig&&""!==a.sWidthOrig?Te(a.sWidthOrig):"";if(t.aoData.length)for(i=0;i<y.length;i++)s=y[i],a=c[s],n(xe(t,s)).clone(!1).append(a.sContentPadding).appendTo(S);if(T.appendTo(_),h&&f?T.width(f):h?(T.css("width","auto"),T.width()<_.offsetWidth&&T.width(_.offsetWidth)):d?T.width(_.offsetWidth):w&&T.width(w),_e(t,T[0]),h){var k=0;for(i=0;i<y.length;i++)a=c[y[i]],r=n(b[i]).outerWidth(),k+=null===a.sWidthOrig?r:parseInt(a.sWidth,10)+r-n(b[i]).width();T.width(Te(k)),l.style.width=Te(k)}for(i=0;i<y.length;i++)a=c[y[i]],o=n(b[i]).width(),o&&(a.sWidth=Te(o));l.style.width=Te(T.css("width")),T.remove()}else for(i=0;m>i;i++)c[i].sWidth=Te(b.eq(i).width());w&&(l.style.width=Te(w)),!w&&!h||t._reszEvt||(n(e).bind("resize.DT-"+t.sInstance,be(function(){p(t)})),t._reszEvt=!0)}function be(e,t){var n,a,s=t!==i?t:200;return function(){var t=this,o=+new Date,r=arguments;n&&n+s>o?(clearTimeout(a),a=setTimeout(function(){n=i,e.apply(t,r)},s)):(n=o,e.apply(t,r))}}function we(e,i){if(!e)return 0;var a=n("<div/>").css("width",Te(e)).appendTo(i||t.body),s=a[0].offsetWidth;return a.remove(),s}function _e(e,t){var i=e.oScroll;if(i.sX||i.sY){var a=i.sX?0:i.iBarWidth;t.style.width=Te(n(t).outerWidth()-a)}}function xe(e,t){var i=Ce(e,t);if(0>i)return null;var a=e.aoData[i];return a.nTr?a.anCells[t]:n("<td/>").html(T(e,i,t,"display"))[0]}function Ce(e,t){for(var i,n=-1,a=-1,s=0,o=e.aoData.length;o>s;s++)i=T(e,s,t,"display")+"",i=i.replace(Ct,""),i.length>n&&(n=i.length,a=s);return a}function Te(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Se(){var e=Xe.__scrollbarWidth;if(e===i){var t=n("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body");e=t[0].offsetWidth-t[0].clientWidth,Xe.__scrollbarWidth=e,t.remove()}return e}function ke(e){var t,a,s,o,r,l,c,u=[],d=e.aoColumns,h=e.aaSortingFixed,p=n.isPlainObject(h),f=[],m=function(e){e.length&&!n.isArray(e[0])?f.push(e):f.push.apply(f,e)};for(n.isArray(h)&&m(h),p&&h.pre&&m(h.pre),m(e.aaSorting),p&&h.post&&m(h.post),t=0;t<f.length;t++)for(c=f[t][0],o=d[c].aDataSort,a=0,s=o.length;s>a;a++)r=o[a],l=d[r].sType||"string",f[t]._idx===i&&(f[t]._idx=n.inArray(f[t][1],d[r].asSorting)),u.push({src:c,col:r,dir:f[t][1],index:f[t]._idx,type:l,formatter:Xe.ext.type.order[l+"-pre"]});return u}function Ee(e){var t,i,n,a,s,o=[],r=Xe.ext.type.order,l=e.aoData,c=(e.aoColumns,0),u=e.aiDisplayMaster;for(y(e),s=ke(e),t=0,i=s.length;i>t;t++)a=s[t],a.formatter&&c++,Me(e,a.col);if("ssp"!=qe(e)&&0!==s.length){for(t=0,n=u.length;n>t;t++)o[u[t]]=t;c===s.length?u.sort(function(e,t){var i,n,a,r,c,u=s.length,d=l[e]._aSortData,h=l[t]._aSortData;for(a=0;u>a;a++)if(c=s[a],i=d[c.col],n=h[c.col],r=n>i?-1:i>n?1:0,0!==r)return"asc"===c.dir?r:-r;return i=o[e],n=o[t],n>i?-1:i>n?1:0}):u.sort(function(e,t){var i,n,a,c,u,d,h=s.length,p=l[e]._aSortData,f=l[t]._aSortData;for(a=0;h>a;a++)if(u=s[a],i=p[u.col],n=f[u.col],d=r[u.type+"-"+u.dir]||r["string-"+u.dir],c=d(i,n),0!==c)return c;return i=o[e],n=o[t],n>i?-1:i>n?1:0})}e.bSorted=!0}function De(e){for(var t,i,n=e.aoColumns,a=ke(e),s=e.oLanguage.oAria,o=0,r=n.length;r>o;o++){var l=n[o],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(a.length>0&&a[0].col==o?(d.setAttribute("aria-sort","asc"==a[0].dir?"ascending":"descending"),i=c[a[0].index+1]||c[0]):i=c[0],t=u+("asc"===i?s.sSortAscending:s.sSortDescending)):t=u,d.setAttribute("aria-label",t)}}function Pe(e,t,a,s){var o,r=e.aoColumns[t],l=e.aaSorting,c=r.asSorting,u=function(e,t){var a=e._idx;return a===i&&(a=n.inArray(e[1],c)),a+1<c.length?a+1:t?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),a&&e.oFeatures.bSortMulti){var d=n.inArray(t,ht(l,"0"));-1!==d?(o=u(l[d],!0),null===o&&1===l.length&&(o=0),null===o?l.splice(d,1):(l[d][1]=c[o],l[d]._idx=o)):(l.push([t,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==t?(o=u(l[0]),l.length=1,l[0][1]=c[o],l[0]._idx=o):(l.length=0,l.push([t,c[0]]),l[0]._idx=0);F(e),"function"==typeof s&&s(e)}function Ae(e,t,i,n){var a=e.aoColumns[i];Fe(t,{},function(t){a.bSortable!==!1&&(e.oFeatures.bProcessing?(fe(e,!0),setTimeout(function(){Pe(e,i,t.shiftKey,n),"ssp"!==qe(e)&&fe(e,!1)},0)):Pe(e,i,t.shiftKey,n))})}function Ie(e){var t,i,a,s=e.aLastSort,o=e.oClasses.sSortColumn,r=ke(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(t=0,i=s.length;i>t;t++)a=s[t].src,n(ht(e.aoData,"anCells",a)).removeClass(o+(2>t?t+1:3));for(t=0,i=r.length;i>t;t++)a=r[t].src,n(ht(e.aoData,"anCells",a)).addClass(o+(2>t?t+1:3))}e.aLastSort=r}function Me(e,t){var i,n=e.aoColumns[t],a=Xe.ext.order[n.sSortDataType];a&&(i=a.call(e.oInstance,e,t,m(e,t)));for(var s,o,r=Xe.ext.type.order[n.sType+"-pre"],l=0,c=e.aoData.length;c>l;l++)s=e.aoData[l],s._aSortData||(s._aSortData=[]),s._aSortData[t]&&!a||(o=a?i[l]:T(e,l,t,"sort"),s._aSortData[t]=r?r(o):o)}function Ne(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:n.extend(!0,[],e.aaSorting),search:ie(e.oPreviousSearch),columns:n.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:ie(e.aoPreSearchCols[i])}})};Be(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function je(e){var t,a,s=e.aoColumns;if(e.oFeatures.bStateSave){var o=e.fnStateLoadCallback.call(e.oInstance,e);if(o&&o.time){var r=Be(e,"aoStateLoadParams","stateLoadParams",[e,o]);if(-1===n.inArray(!1,r)){var l=e.iStateDuration;if(!(l>0&&o.time<+new Date-1e3*l)&&s.length===o.columns.length){for(e.oLoadedState=n.extend(!0,{},o),o.start!==i&&(e._iDisplayStart=o.start,e.iInitDisplayStart=o.start),o.length!==i&&(e._iDisplayLength=o.length),o.order!==i&&(e.aaSorting=[],n.each(o.order,function(t,i){e.aaSorting.push(i[0]>=s.length?[0,i[1]]:i)})),o.search!==i&&n.extend(e.oPreviousSearch,ne(o.search)),t=0,a=o.columns.length;a>t;t++){var c=o.columns[t];c.visible!==i&&(s[t].bVisible=c.visible),c.search!==i&&n.extend(e.aoPreSearchCols[t],ne(c.search))}Be(e,"aoStateLoaded","stateLoaded",[e,o])}}}}}function Oe(e){var t=Xe.settings,i=n.inArray(e,ht(t,"nTable"));return-1!==i?t[i]:null}function Re(t,i,n,a){if(n="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+n,a&&(n+=". For more information about this error, please see http://datatables.net/tn/"+a),i)e.console&&console.log&&console.log(n);else{var s=Xe.ext,o=s.sErrMode||s.errMode;if(Be(t,null,"error",[t,a,n]),"alert"==o)alert(n);else{if("throw"==o)throw new Error(n);"function"==typeof o&&o(t,a,n)}}}function Le(e,t,a,s){return n.isArray(a)?void n.each(a,function(i,a){n.isArray(a)?Le(e,t,a[0],a[1]):Le(e,t,a)}):(s===i&&(s=a),void(t[a]!==i&&(e[s]=t[a])))}function $e(e,t,i){var a;for(var s in t)t.hasOwnProperty(s)&&(a=t[s],n.isPlainObject(a)?(n.isPlainObject(e[s])||(e[s]={}),n.extend(!0,e[s],a)):i&&"data"!==s&&"aaData"!==s&&n.isArray(a)?e[s]=a.slice():e[s]=a);return e}function Fe(e,t,i){n(e).bind("click.DT",t,function(t){e.blur(),i(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),i(e))}).bind("selectstart.DT",function(){return!1})}function ze(e,t,i,n){i&&e[t].push({fn:i,sName:n})}function Be(e,t,i,a){var s=[];return t&&(s=n.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,a)})),null!==i&&n(e.nTable).trigger(i+".dt",a),s}function He(e){var t=e._iDisplayStart,i=e.fnDisplayEnd(),n=e._iDisplayLength;t>=i&&(t=i-n),t-=t%n,(-1===n||0>t)&&(t=0),e._iDisplayStart=t}function We(e,t){var i=e.renderer,a=Xe.ext.renderer[t];return n.isPlainObject(i)&&i[t]?a[i[t]]||a._:"string"==typeof i?a[i]||a._:a._}function qe(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Ue(e,t){var i=[],n=Yt.numbers_length,a=Math.floor(n/2);return n>=t?i=ft(0,t):a>=e?(i=ft(0,n-2),i.push("ellipsis"),i.push(t-1)):e>=t-1-a?(i=ft(t-(n-2),t),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=ft(e-a+2,e+a-1),i.push("ellipsis"),i.push(t-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Ye(e){n.each({num:function(t){return Vt(t,e)},"num-fmt":function(t){return Vt(t,e,st)},"html-num":function(t){return Vt(t,e,tt)},"html-num-fmt":function(t){return Vt(t,e,tt,st)}},function(t,i){Ge.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Ge.type.search[t+e]=Ge.type.search.html)})}function Ve(e){return function(){var t=[Oe(this[Xe.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Xe.ext.internal[e].apply(this,t)}}var Xe,Ge,Ke,Qe,Je,Ze={},et=/[\r\n]/g,tt=/<.*?>/g,it=/^[\w\+\-]/,nt=/[\w\+\-]$/,at=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),st=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ot=function(e){return!e||e===!0||"-"===e},rt=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},lt=function(e,t){return Ze[t]||(Ze[t]=new RegExp(ee(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ze[t],"."):e},ct=function(e,t,i){var n="string"==typeof e;return ot(e)?!0:(t&&n&&(e=lt(e,t)),i&&n&&(e=e.replace(st,"")),!isNaN(parseFloat(e))&&isFinite(e))},ut=function(e){return ot(e)||"string"==typeof e},dt=function(e,t,i){if(ot(e))return!0;var n=ut(e);return n&&ct(gt(e),t,i)?!0:null},ht=function(e,t,n){var a=[],s=0,o=e.length;if(n!==i)for(;o>s;s++)e[s]&&e[s][t]&&a.push(e[s][t][n]);else for(;o>s;s++)e[s]&&a.push(e[s][t]);return a},pt=function(e,t,n,a){var s=[],o=0,r=t.length;if(a!==i)for(;r>o;o++)e[t[o]][n]&&s.push(e[t[o]][n][a]);else for(;r>o;o++)s.push(e[t[o]][n]);return s},ft=function(e,t){var n,a=[];t===i?(t=0,n=e):(n=t,t=e);for(var s=t;n>s;s++)a.push(s);return a},mt=function(e){for(var t=[],i=0,n=e.length;n>i;i++)e[i]&&t.push(e[i]);return t},gt=function(e){return e.replace(tt,"")},vt=function(e){var t,i,n,a=[],s=e.length,o=0;e:for(i=0;s>i;i++){for(t=e[i],n=0;o>n;n++)if(a[n]===t)continue e;a.push(t),o++}return a},yt=function(e,t,n){e[t]!==i&&(e[n]=e[t])},bt=/\[.*?\]$/,wt=/\(\)$/,_t=n("<div>")[0],xt=_t.textContent!==i,Ct=/<.*?>/g;Xe=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ke(e?Oe(this[Ge.iApiIndex]):this)},this.fnAddData=function(e,t){var a=this.api(!0),s=n.isArray(e)&&(n.isArray(e[0])||n.isPlainObject(e[0]))?a.rows.add(e):a.row.add(e);return(t===i||t)&&a.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],a=n.oScroll;e===i||e?t.draw(!1):""===a.sX&&""===a.sY||ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var a=this.api(!0),s=a.rows(e),o=s.settings()[0],r=o.aoData[s[0][0]];return s.remove(),t&&t.call(this,o,r),(n===i||n)&&a.draw(),r},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,a,s,o){var r=this.api(!0);null===t||t===i?r.search(e,n,a,o):r.column(t).search(e,n,a,o),r.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var a=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==a||"th"==a?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),i=e.nodeName.toUpperCase();if("TR"==i)return t.row(e).index();if("TD"==i||"TH"==i){var n=t.cell(e).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,i){return this.api(!0).row(e).child(t,i).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var a=this.api(!0).column(e).visible(t);(n===i||n)&&a.columns.adjust().draw()},this.fnSettings=function(){return Oe(this[Ge.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,i){this.api(!0).order.listener(e,t,i)},this.fnUpdate=function(e,t,n,a,s){var o=this.api(!0);return n===i||null===n?o.row(t).data(e):o.cell(t,n).data(e),(s===i||s)&&o.columns.adjust(),(a===i||a)&&o.draw(),0},this.fnVersionCheck=Ge.fnVersionCheck;var t=this,a=e===i,u=this.length;a&&(e={}),this.oApi=this.internal=Ge.internal;for(var p in Xe.ext.internal)p&&(this[p]=Ve(p));return this.each(function(){var p,f={},m=u>1?$e(f,e,!0):e,g=0,v=this.getAttribute("id"),y=!1,x=Xe.defaults,C=n(this);if("table"!=this.nodeName.toLowerCase())return void Re(null,0,"Non-table node initialisation ("+this.nodeName+")",2);r(x),l(x.column),s(x,x,!0),s(x.column,x.column,!0),s(x,n.extend(m,C.data()));var T=Xe.settings;for(g=0,p=T.length;p>g;g++){var S=T[g];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var k=m.bRetrieve!==i?m.bRetrieve:x.bRetrieve,E=m.bDestroy!==i?m.bDestroy:x.bDestroy;if(a||k)return S.oInstance;if(E){S.oInstance.fnDestroy();break}return void Re(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){T.splice(g,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Xe.ext._unique++,this.id=v);var D=n.extend(!0,{},Xe.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});D.nTable=this,D.oApi=t.internal,D.oInit=m,T.push(D),D.oInstance=1===t.length?t:C.dataTable(),r(m),m.oLanguage&&o(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=n.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=$e(n.extend(!0,{},x),m),Le(D.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Le(D,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Le(D.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Le(D.oLanguage,m,"fnInfoCallback"),ze(D,"aoDrawCallback",m.fnDrawCallback,"user"),ze(D,"aoServerParams",m.fnServerParams,"user"),ze(D,"aoStateSaveParams",m.fnStateSaveParams,"user"),ze(D,"aoStateLoadParams",m.fnStateLoadParams,"user"),ze(D,"aoStateLoaded",m.fnStateLoaded,"user"),ze(D,"aoRowCallback",m.fnRowCallback,"user"),ze(D,"aoRowCreatedCallback",m.fnCreatedRow,"user"),ze(D,"aoHeaderCallback",m.fnHeaderCallback,"user"),ze(D,"aoFooterCallback",m.fnFooterCallback,"user"),ze(D,"aoInitComplete",m.fnInitComplete,"user"),ze(D,"aoPreDrawCallback",m.fnPreDrawCallback,"user");var P=D.oClasses;if(m.bJQueryUI?(n.extend(P,Xe.ext.oJUIClasses,m.oClasses),m.sDom===x.sDom&&"lfrtip"===x.sDom&&(D.sDom='<"H"lfr>t<"F"ip>'),D.renderer?n.isPlainObject(D.renderer)&&!D.renderer.header&&(D.renderer.header="jqueryui"):D.renderer="jqueryui"):n.extend(P,Xe.ext.classes,m.oClasses),C.addClass(P.sTable),""===D.oScroll.sX&&""===D.oScroll.sY||(D.oScroll.iBarWidth=Se()),D.oScroll.sX===!0&&(D.oScroll.sX="100%"),D.iInitDisplayStart===i&&(D.iInitDisplayStart=m.iDisplayStart,D._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){D.bDeferLoading=!0;var A=n.isArray(m.iDeferLoading);D._iRecordsDisplay=A?m.iDeferLoading[0]:m.iDeferLoading,D._iRecordsTotal=A?m.iDeferLoading[1]:m.iDeferLoading}var I=D.oLanguage;n.extend(!0,I,m.oLanguage),""!==I.sUrl&&(n.ajax({dataType:"json",url:I.sUrl,success:function(e){o(e),s(x.oLanguage,e),n.extend(!0,I,e),re(D)},error:function(){re(D)}}),y=!0),null===m.asStripeClasses&&(D.asStripeClasses=[P.sStripeOdd,P.sStripeEven]);var M=D.asStripeClasses,j=C.children("tbody").find("tr").eq(0);-1!==n.inArray(!0,n.map(M,function(e){return j.hasClass(e)}))&&(n("tbody tr",this).removeClass(M.join(" ")),D.asDestroyStripes=M.slice());var O,R=[],L=this.getElementsByTagName("thead");if(0!==L.length&&(B(D.aoHeader,L[0]),R=H(D)),null===m.aoColumns)for(O=[],g=0,p=R.length;p>g;g++)O.push(null);else O=m.aoColumns;for(g=0,p=O.length;p>g;g++)d(D,R?R[g]:null);if(b(D,m.aoColumnDefs,O,function(e,t){h(D,e,t)}),j.length){var $=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};n.each(N(D,j[0]).cells,function(e,t){var n=D.aoColumns[e];if(n.mData===e){var a=$(t,"sort")||$(t,"order"),s=$(t,"filter")||$(t,"search");null===a&&null===s||(n.mData={_:e+".display",sort:null!==a?e+".@data-"+a:i,type:null!==a?e+".@data-"+a:i,filter:null!==s?e+".@data-"+s:i},h(D,e))}})}var F=D.oFeatures;if(m.bStateSave&&(F.bStateSave=!0,je(D,m),ze(D,"aoDrawCallback",Ne,"state_save")),m.aaSorting===i){var z=D.aaSorting;for(g=0,p=z.length;p>g;g++)z[g][1]=D.aoColumns[g].asSorting[0]}Ie(D),F.bSort&&ze(D,"aoDrawCallback",function(){if(D.bSorted){var e=ke(D),t={};n.each(e,function(e,i){t[i.src]=i.dir}),Be(D,null,"order",[D,e,t]),De(D)}}),ze(D,"aoDrawCallback",function(){(D.bSorted||"ssp"===qe(D)||F.bDeferRender)&&Ie(D)},"sc"),c(D);var W=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),q=C.children("thead");0===q.length&&(q=n("<thead/>").appendTo(this)),D.nTHead=q[0];var U=C.children("tbody");0===U.length&&(U=n("<tbody/>").appendTo(this)),D.nTBody=U[0];var Y=C.children("tfoot");if(0===Y.length&&W.length>0&&(""!==D.oScroll.sX||""!==D.oScroll.sY)&&(Y=n("<tfoot/>").appendTo(this)),0===Y.length||0===Y.children().length?C.addClass(P.sNoFooter):Y.length>0&&(D.nTFoot=Y[0],B(D.aoFooter,D.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)w(D,m.aaData[g]);else(D.bDeferLoading||"dom"==qe(D))&&_(D,n(D.nTBody).children("tr"));D.aiDisplay=D.aiDisplayMaster.slice(),D.bInitialised=!0,y===!1&&re(D)}),t=null,this};var Tt=[],St=Array.prototype,kt=function(e){var t,i,a=Xe.settings,s=n.map(a,function(e){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(t=n.inArray(e,s),-1!==t?[a[t]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=n(e):e instanceof n&&(i=e),i?i.map(function(){return t=n.inArray(this,s),-1!==t?a[t]:null}).toArray():void 0):[]};Ke=function(e,t){if(!this instanceof Ke)throw"DT API must be constructed as a new object";var i=[],a=function(e){var t=kt(e);t&&i.push.apply(i,t)};if(n.isArray(e))for(var s=0,o=e.length;o>s;s++)a(e[s]);else a(e);this.context=vt(i),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},Ke.extend(this,this,Tt)},Xe.Api=Ke,Ke.prototype={concat:St.concat,context:[],each:function(e){for(var t=0,i=this.length;i>t;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ke(t[e],this[e]):null},filter:function(e){var t=[];if(St.filter)t=St.filter.call(this,e,this);else for(var i=0,n=this.length;n>i;i++)e.call(this,this[i],i,this)&&t.push(this[i]);return new Ke(this.context,t)},flatten:function(){var e=[];return new Ke(this.context,e.concat.apply(e,this.toArray()))},join:St.join,indexOf:St.indexOf||function(e,t){for(var i=t||0,n=this.length;n>i;i++)if(this[i]===e)return i;return-1},iterator:function(e,t,n,a){var s,o,r,l,c,u,d,h,p=[],f=this.context,m=this.selector;for("string"==typeof e&&(a=n,n=t,t=e,e=!1),o=0,r=f.length;r>o;o++){var g=new Ke(f[o]);if("table"===t)s=n.call(g,f[o],o),s!==i&&p.push(s);else if("columns"===t||"rows"===t)s=n.call(g,f[o],this[o],o),s!==i&&p.push(s);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[o],"column-rows"===t&&(u=Mt(f[o],m.opts)),l=0,c=d.length;c>l;l++)h=d[l],s="cell"===t?n.call(g,f[o],h.row,h.column,o,l):n.call(g,f[o],h,o,l,u),s!==i&&p.push(s)}if(p.length||a){var v=new Ke(f,e?p.concat.apply([],p):p),y=v.selector;return y.rows=m.rows,y.cols=m.cols,y.opts=m.opts,v}return this},lastIndexOf:St.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(St.map)t=St.map.call(this,e,this);else for(var i=0,n=this.length;n>i;i++)t.push(e.call(this,this[i],i));return new Ke(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:St.pop,push:St.push,reduce:St.reduce||function(e,t){return u(this,e,t,0,this.length,1)},reduceRight:St.reduceRight||function(e,t){return u(this,e,t,this.length-1,-1,-1)},reverse:St.reverse,selector:null,shift:St.shift,sort:St.sort,splice:St.splice,toArray:function(){return St.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new Ke(this.context,vt(this))},unshift:St.unshift},Ke.extend=function(e,t,i){if(i.length&&t&&(t instanceof Ke||t.__dt_wrapper)){var a,s,o,r=function(e,t,i){return function(){var n=t.apply(e,arguments);return Ke.extend(n,n,i.methodExt),n}};for(a=0,s=i.length;s>a;a++)o=i[a],t[o.name]="function"==typeof o.val?r(e,o.val,o):n.isPlainObject(o.val)?{}:o.val,t[o.name].__dt_wrapper=!0,Ke.extend(e,t[o.name],o.propExt)}},Ke.register=Qe=function(e,t){if(n.isArray(e))for(var i=0,a=e.length;a>i;i++)Ke.register(e[i],t);else{var s,o,r,l,c=e.split("."),u=Tt,d=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i].name===t)return e[i];return null};for(s=0,o=c.length;o>s;s++){l=-1!==c[s].indexOf("()"),r=l?c[s].replace("()",""):c[s];var h=d(u,r);h||(h={name:r,val:{},methodExt:[],propExt:[]},u.push(h)),s===o-1?h.val=t:u=l?h.methodExt:h.propExt}}},Ke.registerPlural=Je=function(e,t,a){Ke.register(e,a),Ke.register(t,function(){var e=a.apply(this,arguments);return e===this?this:e instanceof Ke?e.length?n.isArray(e[0])?new Ke(e.context,e[0]):e[0]:i:e})};var Et=function(e,t){if("number"==typeof e)return[t[e]];var i=n.map(t,function(e){return e.nTable});return n(i).filter(e).map(function(){var e=n.inArray(this,i);return t[e]}).toArray()};Qe("tables()",function(e){return e?new Ke(Et(e,this.context)):this}),Qe("table()",function(e){var t=this.tables(e),i=t.context;return i.length?new Ke(i[0]):t}),Je("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Je("tables().body()","table().body()",function(){
return this.iterator("table",function(e){return e.nTBody},1)}),Je("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Je("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Je("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Qe("draw()",function(e){return this.iterator("table",function(t){F(t,e===!1)})}),Qe("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){he(t,e)})}),Qe("page.info()",function(){if(0===this.context.length)return i;var e=this.context[0],t=e._iDisplayStart,n=e._iDisplayLength,a=e.fnRecordsDisplay(),s=-1===n;return{page:s?0:Math.floor(t/n),pages:s?1:Math.ceil(a/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:a}}),Qe("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){ce(t,e)})});var Dt=function(e,t,i){if(i){var n=new Ke(e);n.one("draw",function(){i(n.ajax.json())})}"ssp"==qe(e)?F(e,t):(fe(e,!0),W(e,[],function(i){A(e);for(var n=V(e,i),a=0,s=n.length;s>a;a++)w(e,n[a]);F(e,t),fe(e,!1)}))};Qe("ajax.json()",function(){var e=this.context;return e.length>0?e[0].json:void 0}),Qe("ajax.params()",function(){var e=this.context;return e.length>0?e[0].oAjaxData:void 0}),Qe("ajax.reload()",function(e,t){return this.iterator("table",function(i){Dt(i,t===!1,e)})}),Qe("ajax.url()",function(e){var t=this.context;return e===i?0===t.length?i:(t=t[0],t.ajax?n.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){n.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Qe("ajax.url().load()",function(e,t){return this.iterator("table",function(i){Dt(i,t===!1,e)})});var Pt=function(e,t){var a,s,o,r,l,c,u=[],d=typeof e;for(e&&"string"!==d&&"function"!==d&&e.length!==i||(e=[e]),o=0,r=e.length;r>o;o++)for(s=e[o]&&e[o].split?e[o].split(","):[e[o]],l=0,c=s.length;c>l;l++)a=t("string"==typeof s[l]?n.trim(s[l]):s[l]),a&&a.length&&u.push.apply(u,a);return u},At=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}},It=function(e){for(var t=0,i=e.length;i>t;t++)if(e[t].length>0)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Mt=function(e,t){var i,a,s,o=[],r=e.aiDisplay,l=e.aiDisplayMaster,c=t.search,u=t.order,d=t.page;if("ssp"==qe(e))return"removed"===c?[]:ft(0,l.length);if("current"==d)for(i=e._iDisplayStart,a=e.fnDisplayEnd();a>i;i++)o.push(r[i]);else if("current"==u||"applied"==u)o="none"==c?l.slice():"applied"==c?r.slice():n.map(l,function(e){return-1===n.inArray(e,r)?e:null});else if("index"==u||"original"==u)for(i=0,a=e.aoData.length;a>i;i++)"none"==c?o.push(i):(s=n.inArray(i,r),(-1===s&&"removed"==c||s>=0&&"applied"==c)&&o.push(i));return o},Nt=function(e,t,i){return Pt(t,function(t){var a=rt(t);if(null!==a&&!i)return[a];var s=Mt(e,i);if(null!==a&&-1!==n.inArray(a,s))return[a];if(!t)return s;if("function"==typeof t)return n.map(s,function(i){var n=e.aoData[i];return t(i,n._aData,n.nTr)?i:null});var o=mt(pt(e.aoData,s,"nTr"));return t.nodeName&&-1!==n.inArray(t,o)?[t._DT_RowIndex]:n(o).filter(t).map(function(){return this._DT_RowIndex}).toArray()})};Qe("rows()",function(e,t){e===i?e="":n.isPlainObject(e)&&(t=e,e=""),t=At(t);var a=this.iterator("table",function(i){return Nt(i,e,t)},1);return a.selector.rows=e,a.selector.opts=t,a}),Qe("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)}),Qe("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return pt(e.aoData,t,"_aData")},1)}),Je("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,i){var n=t.aoData[i];return"search"===e?n._aFilterData:n._aSortData},1)}),Je("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,i){M(t,i,e)})}),Je("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Je("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,i,a){var s=t.aoData;s.splice(i,1);for(var o=0,r=s.length;r>o;o++)null!==s[o].nTr&&(s[o].nTr._DT_RowIndex=o);n.inArray(i,t.aiDisplay);I(t.aiDisplayMaster,i),I(t.aiDisplay,i),I(e[a],i,!1),He(t)})}),Qe("rows.add()",function(e){var t=this.iterator("table",function(t){var i,n,a,s=[];for(n=0,a=e.length;a>n;n++)i=e[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?s.push(_(t,i)[0]):s.push(w(t,i));return s},1),i=this.rows(-1);return i.pop(),i.push.apply(i,t.toArray()),i}),Qe("row()",function(e,t){return It(this.rows(e,t))}),Qe("row().data()",function(e){var t=this.context;return e===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=e,M(t[0],this[0],"data"),this)}),Qe("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Qe("row.add()",function(e){e instanceof n&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?_(t,e)[0]:w(t,e)});return this.row(t[0])});var jt=function(e,t,i,a){var s=[],o=function(t,i){if(n.isArray(t)||t instanceof n)for(var a=0,r=t.length;r>a;a++)o(t[a],i);else if(t.nodeName&&"tr"===t.nodeName.toLowerCase())s.push(t);else{var l=n("<tr><td/></tr>").addClass(i);n("td",l).addClass(i).html(t)[0].colSpan=g(e),s.push(l[0])}};o(i,a),t._details&&t._details.remove(),t._details=n(s),t._detailsShow&&t._details.insertAfter(t.nTr)},Ot=function(e,t){var n=e.context;if(n.length){var a=n[0].aoData[t!==i?t:e[0]];a._details&&(a._details.remove(),a._detailsShow=i,a._details=i)}},Rt=function(e,t){var i=e.context;if(i.length&&e.length){var n=i[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?n._details.insertAfter(n.nTr):n._details.detach(),Lt(i[0]))}},Lt=function(e){var t=new Ke(e),i=".dt.DT_details",n="draw"+i,a="column-visibility"+i,s="destroy"+i,o=e.aoData;t.off(n+" "+a+" "+s),ht(o,"_details").length>0&&(t.on(n,function(i,n){e===n&&t.rows({page:"current"}).eq(0).each(function(e){var t=o[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(a,function(t,i){if(e===i)for(var n,a=g(i),s=0,r=o.length;r>s;s++)n=o[s],n._details&&n._details.children("td[colspan]").attr("colspan",a)}),t.on(s,function(i,n){if(e===n)for(var a=0,s=o.length;s>a;a++)o[a]._details&&Ot(t,a)}))},$t="",Ft=$t+"row().child",zt=Ft+"()";Qe(zt,function(e,t){var n=this.context;return e===i?n.length&&this.length?n[0].aoData[this[0]]._details:i:(e===!0?this.child.show():e===!1?Ot(this):n.length&&this.length&&jt(n[0],n[0].aoData[this[0]],e,t),this)}),Qe([Ft+".show()",zt+".show()"],function(){return Rt(this,!0),this}),Qe([Ft+".hide()",zt+".hide()"],function(){return Rt(this,!1),this}),Qe([Ft+".remove()",zt+".remove()"],function(){return Ot(this),this}),Qe(Ft+".isShown()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]]._detailsShow||!1:!1});var Bt=/^(.+):(name|visIdx|visible)$/,Ht=function(e,t,i,n,a){for(var s=[],o=0,r=a.length;r>o;o++)s.push(T(e,a[o],t));return s},Wt=function(e,t,i){var a=e.aoColumns,s=ht(a,"sName"),o=ht(a,"nTh");return Pt(t,function(t){var r=rt(t);if(""===t)return ft(a.length);if(null!==r)return[r>=0?r:a.length+r];if("function"==typeof t){var l=Mt(e,i);return n.map(a,function(i,n){return t(n,Ht(e,n,0,0,l),o[n])?n:null})}var c="string"==typeof t?t.match(Bt):"";if(!c)return n(o).filter(t).map(function(){return n.inArray(this,o)}).toArray();switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(0>u){var d=n.map(a,function(e,t){return e.bVisible?t:null});return[d[d.length+u]]}return[f(e,u)];case"name":return n.map(s,function(e,t){return e===c[1]?t:null})}})},qt=function(e,t,a,s){var o,r,l,c,u=e.aoColumns,d=u[t],h=e.aoData;if(a===i)return d.bVisible;if(d.bVisible!==a){if(a){var f=n.inArray(!0,ht(u,"bVisible"),t+1);for(r=0,l=h.length;l>r;r++)c=h[r].nTr,o=h[r].anCells,c&&c.insertBefore(o[t],o[f]||null)}else n(ht(e.aoData,"anCells",t)).detach();d.bVisible=a,L(e,e.aoHeader),L(e,e.aoFooter),(s===i||s)&&(p(e),(e.oScroll.sX||e.oScroll.sY)&&ge(e)),Be(e,null,"column-visibility",[e,t,a]),Ne(e)}};Qe("columns()",function(e,t){e===i?e="":n.isPlainObject(e)&&(t=e,e=""),t=At(t);var a=this.iterator("table",function(i){return Wt(i,e,t)},1);return a.selector.cols=e,a.selector.opts=t,a}),Je("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Je("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Je("columns().data()","column().data()",function(){return this.iterator("column-rows",Ht,1)}),Je("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Je("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,i,n,a,s){return pt(t.aoData,s,"search"===e?"_aFilterData":"_aSortData",i)},1)}),Je("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,i,n,a){return pt(e.aoData,a,"anCells",t)},1)}),Je("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(n,a){return e===i?n.aoColumns[a].bVisible:void qt(n,a,e,t)})}),Je("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,i){return"visible"===e?m(t,i):i},1)}),Qe("columns.adjust()",function(){return this.iterator("table",function(e){p(e)},1)}),Qe("column.index()",function(e,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===e||"toData"===e)return f(i,t);if("fromData"===e||"toVisible"===e)return m(i,t)}}),Qe("column()",function(e,t){return It(this.columns(e,t))});var Ut=function(e,t,a){var s,o,r,l,c,u,d,h=e.aoData,p=Mt(e,a),f=mt(pt(h,p,"anCells")),m=n([].concat.apply([],f)),g=e.aoColumns.length;return Pt(t,function(t){var a="function"==typeof t;if(null===t||t===i||a){for(o=[],r=0,l=p.length;l>r;r++)for(s=p[r],c=0;g>c;c++)u={row:s,column:c},a?(d=e.aoData[s],t(u,T(e,s,c),d.anCells[c])&&o.push(u)):o.push(u);return o}return n.isPlainObject(t)?[t]:m.filter(t).map(function(e,t){return s=t.parentNode._DT_RowIndex,{row:s,column:n.inArray(t,h[s].anCells)}}).toArray()})};Qe("cells()",function(e,t,a){if(n.isPlainObject(e)&&(e.row===i?(a=e,e=null):(a=t,t=null)),n.isPlainObject(t)&&(a=t,t=null),null===t||t===i)return this.iterator("table",function(t){return Ut(t,e,At(a))});var s,o,r,l,c,u=this.columns(t,a),d=this.rows(e,a),h=this.iterator("table",function(e,t){for(s=[],o=0,r=d[t].length;r>o;o++)for(l=0,c=u[t].length;c>l;l++)s.push({row:d[t][o],column:u[t][l]});return s},1);return n.extend(h.selector,{cols:t,rows:e,opts:a}),h}),Je("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var a=e.aoData[t].anCells;return a?a[n]:i},1)}),Qe("cells().data()",function(){return this.iterator("cell",function(e,t,i){return T(e,t,i)},1)}),Je("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,n){return t.aoData[i][e][n]},1)}),Je("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,i,n){return T(t,i,n,e)},1)}),Je("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,i){return{row:t,column:i,columnVisible:m(e,i)}},1)}),Je("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,i,n){M(t,i,e,n)})}),Qe("cell()",function(e,t,i){return It(this.cells(e,t,i))}),Qe("cell().data()",function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?T(t[0],n[0].row,n[0].column):i:(S(t[0],n[0].row,n[0].column,e),M(t[0],n[0].row,"data",n[0].column),this)}),Qe("order()",function(e,t){var a=this.context;return e===i?0!==a.length?a[0].aaSorting:i:("number"==typeof e?e=[[e,t]]:n.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Qe("order.listener()",function(e,t,i){return this.iterator("table",function(n){Ae(n,e,t,i)})}),Qe(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(i,a){var s=[];n.each(t[a],function(t,i){s.push([i,e])}),i.aaSorting=s})}),Qe("search()",function(e,t,a,s){var o=this.context;return e===i?0!==o.length?o[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&G(i,n.extend({},i.oPreviousSearch,{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===a?!0:a,bCaseInsensitive:null===s?!0:s}),1)})}),Je("columns().search()","column().search()",function(e,t,a,s){return this.iterator("column",function(o,r){var l=o.aoPreSearchCols;return e===i?l[r].sSearch:void(o.oFeatures.bFilter&&(n.extend(l[r],{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===a?!0:a,bCaseInsensitive:null===s?!0:s}),G(o,o.oPreviousSearch,1)))})}),Qe("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Qe("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Qe("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Qe("state.save()",function(){return this.iterator("table",function(e){Ne(e)})}),Xe.versionCheck=Xe.fnVersionCheck=function(e){for(var t,i,n=Xe.version.split("."),a=e.split("."),s=0,o=a.length;o>s;s++)if(t=parseInt(n[s],10)||0,i=parseInt(a[s],10)||0,t!==i)return t>i;return!0},Xe.isDataTable=Xe.fnIsDataTable=function(e){var t=n(e).get(0),i=!1;return n.each(Xe.settings,function(e,a){var s=a.nScrollHead?n("table",a.nScrollHead)[0]:null,o=a.nScrollFoot?n("table",a.nScrollFoot)[0]:null;a.nTable!==t&&s!==t&&o!==t||(i=!0)}),i},Xe.tables=Xe.fnTables=function(e){return n.map(Xe.settings,function(t){return!e||e&&n(t.nTable).is(":visible")?t.nTable:void 0})},Xe.util={throttle:be,escapeRegex:ee},Xe.camelToHungarian=s,Qe("$()",function(e,t){var i=this.rows(t).nodes(),a=n(i);return n([].concat(a.filter(e).toArray(),a.find(e).toArray()))}),n.each(["on","one","off"],function(e,t){Qe(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var i=n(this.tables().nodes());return i[t].apply(i,e),this})}),Qe("clear()",function(){return this.iterator("table",function(e){A(e)})}),Qe("settings()",function(){return new Ke(this.context,this.context)}),Qe("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Qe("data()",function(){return this.iterator("table",function(e){return ht(e.aoData,"_aData")}).flatten()}),Qe("destroy()",function(t){return t=t||!1,this.iterator("table",function(i){var a,s=i.nTableWrapper.parentNode,o=i.oClasses,r=i.nTable,l=i.nTBody,c=i.nTHead,u=i.nTFoot,d=n(r),h=n(l),p=n(i.nTableWrapper),f=n.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0,Be(i,"aoDestroyCallback","destroy",[i]),t||new Ke(i).columns().visible(!0),p.unbind(".DT").find(":not(tbody *)").unbind(".DT"),n(e).unbind(".DT-"+i.sInstance),r!=c.parentNode&&(d.children("thead").detach(),d.append(c)),u&&r!=u.parentNode&&(d.children("tfoot").detach(),d.append(u)),d.detach(),p.detach(),i.aaSorting=[],i.aaSortingFixed=[],Ie(i),n(f).removeClass(i.asStripeClasses.join(" ")),n("th, td",c).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),i.bJUI&&(n("th span."+o.sSortIcon+", td span."+o.sSortIcon,c).detach(),n("th, td",c).each(function(){var e=n("div."+o.sSortJUIWrapper,this);n(this).append(e.contents()),e.detach()})),!t&&s&&s.insertBefore(r,i.nTableReinsertBefore),h.children().detach(),h.append(f),d.css("width",i.sDestroyWidth).removeClass(o.sTable),a=i.asDestroyStripes.length,a&&h.children().each(function(e){n(this).addClass(i.asDestroyStripes[e%a])});var m=n.inArray(i,Xe.settings);-1!==m&&Xe.settings.splice(m,1)})}),n.each(["column","row","cell"],function(e,t){Qe(t+"s().every()",function(e){return this.iterator(t,function(i,n,a){e.call(new Ke(i)[t](n,a))})})}),Xe.version="1.10.6",Xe.settings=[],Xe.models={},Xe.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Xe.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Xe.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Xe.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:n.extend({},Xe.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},a(Xe.defaults),Xe.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(Xe.defaults.column),Xe.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==qe(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==qe(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,i=t+e,n=this.aiDisplay.length,a=this.oFeatures,s=a.bPaginate;return a.bServerSide?s===!1||-1===e?t+n:Math.min(t+e,this._iRecordsDisplay):!s||i>n||-1===e?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Xe.ext=Ge={buttons:{},classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Xe.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Xe.version},n.extend(Ge,{afnFiltering:Ge.search,aTypes:Ge.type.detect,ofnSearch:Ge.type.search,oSort:Ge.type.order,afnSortData:Ge.order,aoFeatures:Ge.feature,oApi:Ge.internal,oStdClasses:Ge.classes,oPagination:Ge.pager}),n.extend(Xe.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var t=e+"ui-state-default",i=e+"css_right ui-icon ui-icon-",a=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";n.extend(Xe.ext.oJUIClasses,Xe.ext.classes,{sPageButton:"fg-button ui-button "+t,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:t+" sorting_asc",sSortDesc:t+" sorting_desc",sSortable:t+" sorting",sSortableAsc:t+" sorting_asc_disabled",sSortableDesc:t+" sorting_desc_disabled",sSortableNone:t+" sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+t,sScrollFoot:"dataTables_scrollFoot "+t,sHeaderTH:t,sFooterTH:t,sJUIHeader:a+" ui-corner-tl ui-corner-tr",sJUIFooter:a+" ui-corner-bl ui-corner-br"})}();var Yt=Xe.ext.pager;n.extend(Yt,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Ue(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ue(e,t),"next","last"]},_numbers:Ue,numbers_length:7}),n.extend(!0,Xe.ext.renderer,{pageButton:{_:function(e,i,a,s,o,r){var l,c,u,d=e.oClasses,h=e.oLanguage.oPaginate,p=0,f=function(t,i){var s,u,m,g,v=function(t){he(e,t.data.action,!0)};for(s=0,u=i.length;u>s;s++)if(g=i[s],n.isArray(g)){var y=n("<"+(g.DT_el||"div")+"/>").appendTo(t);f(y,g)}else{switch(l="",c="",g){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=h.sFirst,c=g+(o>0?"":" "+d.sPageButtonDisabled);break;case"previous":l=h.sPrevious,c=g+(o>0?"":" "+d.sPageButtonDisabled);break;case"next":l=h.sNext,c=g+(r-1>o?"":" "+d.sPageButtonDisabled);break;case"last":l=h.sLast,c=g+(r-1>o?"":" "+d.sPageButtonDisabled);break;default:l=g+1,c=o===g?d.sPageButtonActive:""}l&&(m=n("<a>",{"class":d.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":p,tabindex:e.iTabIndex,id:0===a&&"string"==typeof g?e.sTableId+"_"+g:null}).html(l).appendTo(t),Fe(m,{action:g},v),p++)}};try{u=n(t.activeElement).data("dt-idx")}catch(m){}f(n(i).empty(),s),u&&n(i).find("[data-dt-idx="+u+"]").focus()}}}),n.extend(Xe.ext.type.detect,[function(e,t){var i=t.oLanguage.sDecimal;return ct(e,i)?"num"+i:null},function(e){if(e&&!(e instanceof Date)&&(!it.test(e)||!nt.test(e)))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||ot(e)?"date":null},function(e,t){var i=t.oLanguage.sDecimal;return ct(e,i,!0)?"num-fmt"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return dt(e,i)?"html-num"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return dt(e,i,!0)?"html-num-fmt"+i:null},function(e){return ot(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),n.extend(Xe.ext.type.search,{html:function(e){return ot(e)?e:"string"==typeof e?e.replace(et," ").replace(tt,""):""},string:function(e){return ot(e)?e:"string"==typeof e?e.replace(et," "):e}});var Vt=function(e,t,i,n){return 0===e||e&&"-"!==e?(t&&(e=lt(e,t)),e.replace&&(i&&(e=e.replace(i,"")),n&&(e=e.replace(n,""))),1*e):-(1/0)};return n.extend(Ge.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return ot(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return ot(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0}}),Ye(""),n.extend(!0,Xe.ext.renderer,{header:{_:function(e,t,i,a){n(e.nTable).on("order.dt.DT",function(n,s,o,r){if(e===s){var l=i.idx;t.removeClass(i.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==r[l]?a.sSortAsc:"desc"==r[l]?a.sSortDesc:i.sSortingClass)}})},jqueryui:function(e,t,i,a){n("<div/>").addClass(a.sSortJUIWrapper).append(t.contents()).append(n("<span/>").addClass(a.sSortIcon+" "+i.sSortingClassJUI)).appendTo(t),n(e.nTable).on("order.dt.DT",function(n,s,o,r){if(e===s){var l=i.idx;t.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==r[l]?a.sSortAsc:"desc"==r[l]?a.sSortDesc:i.sSortingClass),t.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==r[l]?a.sSortJUIAsc:"desc"==r[l]?a.sSortJUIDesc:i.sSortingClassJUI)}})}}}),Xe.render={number:function(e,t,i,n){return{display:function(a){if("number"!=typeof a&&"string"!=typeof a)return a;var s=0>a?"-":"";a=Math.abs(parseFloat(a));var o=parseInt(a,10),r=i?t+(a-o).toFixed(i).substring(2):"";return s+(n||"")+o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+r}}}},n.extend(Xe.ext.internal,{_fnExternApiFunc:Ve,_fnBuildAjax:W,_fnAjaxUpdate:q,_fnAjaxParameters:U,_fnAjaxUpdateDraw:Y,_fnAjaxDataSrc:V,_fnAddColumn:d,_fnColumnOptions:h,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:a,_fnCamelToHungarian:s,_fnLanguageCompat:o,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:_,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:C,_fnGetCellData:T,_fnSetCellData:S,_fnSplitObjNotation:k,_fnGetObjectDataFn:E,_fnSetObjectDataFn:D,_fnGetDataMaster:P,_fnClearTable:A,_fnDeleteIndex:I,_fnInvalidate:M,_fnGetRowElements:N,_fnCreateTr:j,_fnBuildHead:R,_fnDrawHead:L,_fnDraw:$,_fnReDraw:F,_fnAddOptionsHtml:z,_fnDetectHeader:B,_fnGetUniqueThs:H,_fnFeatureHtmlFilter:X,_fnFilterComplete:G,_fnFilterCustom:K,_fnFilterColumn:Q,_fnFilter:J,_fnFilterCreateSearch:Z,_fnEscapeRegex:ee,_fnFilterData:te,_fnFeatureHtmlInfo:ae,_fnUpdateInfo:se,_fnInfoMacros:oe,_fnInitialise:re,_fnInitComplete:le,_fnLengthChange:ce,_fnFeatureHtmlLength:ue,_fnFeatureHtmlPaginate:de,_fnPageChange:he,_fnFeatureHtmlProcessing:pe,_fnProcessingDisplay:fe,_fnFeatureHtmlTable:me,_fnScrollDraw:ge,_fnApplyToChildren:ve,_fnCalculateColumnWidths:ye,_fnThrottle:be,_fnConvertToWidth:we,_fnScrollingWidthAdjust:_e,_fnGetWidestNode:xe,_fnGetMaxLenString:Ce,_fnStringToCss:Te,_fnScrollBarWidth:Se,_fnSortFlatten:ke,_fnSort:Ee,_fnSortAria:De,_fnSortListener:Pe,_fnSortAttachListener:Ae,_fnSortingClasses:Ie,_fnSortData:Me,_fnSaveState:Ne,_fnLoadState:je,_fnSettingsFromNode:Oe,_fnLog:Re,_fnMap:Le,_fnBindAction:Fe,_fnCallbackReg:ze,_fnCallbackFire:Be,_fnLengthOverflow:He,_fnRenderer:We,_fnDataSource:qe,_fnRowAttributes:O,_fnCalculateEnd:function(){}}),n.fn.dataTable=Xe,n.fn.dataTableSettings=Xe.settings,n.fn.dataTableExt=Xe.ext,n.fn.DataTable=function(e){return n(this).dataTable(e).api()},n.each(Xe,function(e,t){n.fn.DataTable[e]=t}),n.fn.dataTable})}(window,document),function(){var e=function(e,t){"use strict";e.extend(!0,t.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(t.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),t.ext.renderer.pageButton.bootstrap=function(i,n,a,s,o,r){var l,c,u=new t.Api(i),d=i.oClasses,h=i.oLanguage.oPaginate,p=function(t,n){var s,f,m,g,v=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||u.page(t.data.action).draw(!1)};for(s=0,f=n.length;f>s;s++)if(g=n[s],e.isArray(g))p(t,g);else{switch(l="",c="",g){case"ellipsis":l="&hellip;",c="disabled";break;case"first":l=h.sFirst,c=g+(o>0?"":" disabled");break;case"previous":l=h.sPrevious,c=g+(o>0?"":" disabled");break;case"next":l=h.sNext,c=g+(r-1>o?"":" disabled");break;case"last":l=h.sLast,c=g+(r-1>o?"":" disabled");break;default:l=g+1,c=o===g?"active":""}l&&(m=e("<li>",{"class":d.sPageButton+" "+c,"aria-controls":i.sTableId,tabindex:i.iTabIndex,id:0===a&&"string"==typeof g?i.sTableId+"_"+g:null}).append(e("<a>",{href:"#"}).html(l)).appendTo(t),i.oApi._fnBindAction(m,{action:g},v))}};p(e(n).empty().html('<ul class="pagination"/>').children("ul"),s)},t.TableTools&&(e.extend(!0,t.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),e.extend(!0,t.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],e):"object"==typeof exports?e(require("jquery"),require("datatables")):jQuery&&e(jQuery,jQuery.fn.dataTable)}(window,document);var TableTools;!function(e,t,i){var n=function(n,a){"use strict";var s={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=t.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(new RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var n=this.clients[e];n&&n.receiveEvent(t,i)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!==e.style.width&&(t.width=e.style.width.replace("px","")),""!==e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=s.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,s.register(this.id,this),e&&this.glue(e)}};return s.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(e,i){this.domElement=s.$(e);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1);var a=s.getDOMObjectPosition(this.domElement);this.div=t.createElement("div");
var o=this.div.style;o.position="absolute",o.left="0px",o.top="0px",o.width=a.width+"px",o.height=a.height+"px",o.zIndex=n,"undefined"!=typeof i&&""!==i&&(this.div.title=i),0!==a.width&&0!==a.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(a.width,a.height).replace(/&/g,"&amp;"))},positionElement:function(){var e=s.getDOMObjectPosition(this.domElement),t=this.div.style;if(t.position="absolute",t.width=e.width+"px",t.height=e.height+"px",0!==e.width&&0!==e.height){this.sized=!0;var i=this.div.childNodes[0];i.width=e.width,i.height=e.height}},getHTML:function(e,t){var i="",n="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var a=location.href.match(/^https/i)?"https://":"http://";i+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+a+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+s.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+s.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=t.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(i){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=s.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=s.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=""+t.left+"px",i.top=""+t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setCharSet:function(e){this.charSet=e,this.ready&&this.movie.setCharSet(e)},setBomInc:function(e){this.incBom=e,this.ready&&this.movie.setBomInc(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(i,n){var a;switch(i=i.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=t.getElementById(this.movieId),!this.movie)return a=this,void setTimeout(function(){a.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return a=this,setTimeout(function(){a.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[i])for(var s=0,o=this.handlers[i].length;o>s;s++){var r=this.handlers[i][s];"function"==typeof r?r(this,n):"object"==typeof r&&2==r.length?r[0][r[1]](this,n):"string"==typeof r&&e[r](this,n)}}},e.ZeroClipboard_TableTools=s,function(e,t,n){TableTools=function(t,i){!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'");var n=e.fn.dataTable.Api?new e.fn.dataTable.Api(t).settings()[0]:t.fnSettings();return this.s={that:this,dt:n,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=e.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&e.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},"undefined"==typeof i&&(i={}),TableTools._aInstances.push(this),this._fnConstruct(i),this},TableTools.prototype={fnGetSelected:function(e){var t,i,n=[],a=this.s.dt.aoData,s=this.s.dt.aiDisplay;if(e)for(t=0,i=s.length;i>t;t++)a[s[t]]._DTTT_selected&&n.push(a[s[t]].nTr);else for(t=0,i=a.length;i>t;t++)a[t]._DTTT_selected&&n.push(a[t].nTr);return n},fnGetSelectedData:function(){var e,t,i=[],n=this.s.dt.aoData;for(e=0,t=n.length;t>e;e++)n[e]._DTTT_selected&&i.push(this.s.dt.oInstance.fnGetData(e));return i},fnGetSelectedIndexes:function(e){var t,i,n=[],a=this.s.dt.aoData,s=this.s.dt.aiDisplay;if(e)for(t=0,i=s.length;i>t;t++)a[s[t]]._DTTT_selected&&n.push(s[t]);else for(t=0,i=a.length;i>t;t++)a[t]._DTTT_selected&&n.push(t);return n},fnIsSelected:function(e){var t=this.s.dt.oInstance.fnGetPosition(e);return this.s.dt.aoData[t]._DTTT_selected===!0},fnSelectAll:function(e){this._fnRowSelect(e?this.s.dt.aiDisplay:this.s.dt.aoData)},fnSelectNone:function(e){this._fnRowDeselect(this.fnGetSelectedIndexes(e))},fnSelect:function(e){"single"==this.s.select.type?(this.fnSelectNone(),this._fnRowSelect(e)):this._fnRowSelect(e)},fnDeselect:function(e){this._fnRowDeselect(e)},fnGetTitle:function(e){var t="";if("undefined"!=typeof e.sTitle&&""!==e.sTitle)t=e.sTitle;else{var i=n.getElementsByTagName("title");i.length>0&&(t=i[0].innerHTML)}return"\xa1".toString().length<4?t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):t.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(e){var t,i,n=this.s.dt.aoColumns,a=this._fnColumnTargets(e.mColumns),s=[],o=0,r=0;for(t=0,i=a.length;i>t;t++)a[t]&&(o=n[t].nTh.offsetWidth,r+=o,s.push(o));for(t=0,i=s.length;i>t;t++)s[t]=s[t]/r;return s.join("	")},fnGetTableData:function(e){return this.s.dt?this._fnGetDataTablesData(e):void 0},fnSetText:function(e,t){this._fnFlashSetText(e,t)},fnResizeButtons:function(){for(var e in s.clients)if(e){var t=s.clients[e];"undefined"!=typeof t.domElement&&t.domElement.parentNode&&t.positionElement()}},fnResizeRequired:function(){for(var e in s.clients)if(e){var t=s.clients[e];if("undefined"!=typeof t.domElement&&t.domElement.parentNode==this.dom.container&&t.sized===!1)return!0}return!1},fnPrint:function(e,t){t===i&&(t={}),e===i||e?this._fnPrintStart(t):this._fnPrintEnd()},fnInfo:function(t,i){var n=e("<div/>").addClass(this.classes.print.info).html(t).appendTo("body");setTimeout(function(){n.fadeOut("normal",function(){n.remove()})},i)},fnContainer:function(){return this.dom.container},_fnConstruct:function(t){var i=this;this._fnCustomiseSettings(t),this.dom.container=n.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,"none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){e(i.s.dt.nTBody).off("click.DTTT_Select",i.s.custom.sRowSelector).off("mousedown.DTTT_Select","tr").off("mouseup.DTTT_Select","tr"),e(i.dom.container).empty();var t=e.inArray(i,TableTools._aInstances);-1!==t&&TableTools._aInstances.splice(t,1)}})},_fnCustomiseSettings:function(t){"undefined"==typeof this.s.dt._TableToolsInit&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=e.extend({},TableTools.DEFAULTS,t),this.s.swfPath=this.s.custom.sSwfPath,"undefined"!=typeof s&&(s.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,i){for(var n,a=0,s=t.length;s>a;a++){if("string"==typeof t[a]){if("undefined"==typeof TableTools.BUTTONS[t[a]]){alert("TableTools: Warning - unknown button type: "+t[a]);continue}n=e.extend({},TableTools.BUTTONS[t[a]],!0)}else{if("undefined"==typeof TableTools.BUTTONS[t[a].sExtends]){alert("TableTools: Warning - unknown button type: "+t[a].sExtends);continue}var o=e.extend({},TableTools.BUTTONS[t[a].sExtends],!0);n=e.extend(o,t[a],!0)}var r=this._fnCreateButton(n,e(i).hasClass(this.classes.collection.container));r&&i.appendChild(r)}},_fnCreateButton:function(t,i){var n=this._fnButtonBase(t,i);if(t.sAction.match(/flash/)){if(!this._fnHasFlash())return!1;this._fnFlashConfig(n,t)}else"text"==t.sAction?this._fnTextConfig(n,t):"div"==t.sAction?this._fnTextConfig(n,t):"collection"==t.sAction&&(this._fnTextConfig(n,t),this._fnCollectionConfig(n,t));return-1!==this.s.dt.iTabIndex&&e(n).attr("tabindex",this.s.dt.iTabIndex).attr("aria-controls",this.s.dt.sTableId).on("keyup.DTTT",function(t){13===t.keyCode&&(t.stopPropagation(),e(this).trigger("click"))}).on("mousedown.DTTT",function(e){t.sAction.match(/flash/)||e.preventDefault()}),n},_fnButtonBase:function(e,t){var i,a,s;t?(i=e.sTag&&"default"!==e.sTag?e.sTag:this.s.tags.collection.button,a=e.sLinerTag&&"default"!==e.sLinerTag?e.sLiner:this.s.tags.collection.liner,s=this.classes.collection.buttons.normal):(i=e.sTag&&"default"!==e.sTag?e.sTag:this.s.tags.button,a=e.sLinerTag&&"default"!==e.sLinerTag?e.sLiner:this.s.tags.liner,s=this.classes.buttons.normal);var o=n.createElement(i),r=n.createElement(a),l=this._fnGetMasterSettings();return o.className=s+" "+e.sButtonClass,o.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+l.buttonCounter),o.appendChild(r),r.innerHTML=e.sButtonText,l.buttonCounter++,o},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var e=TableTools._aInstances,t=0,i=e.length;i>t;t++)if(this.dom.table==e[t].s.dt.nTable)return e[t].s},_fnCollectionConfig:function(e,t){var i=n.createElement(this.s.tags.collection.container);i.style.display="none",i.className=this.classes.collection.container,t._collection=i,n.body.appendChild(i),this._fnButtonDefinations(t.aButtons,i)},_fnCollectionShow:function(i,a){var s=this,o=e(i).offset(),r=a._collection,l=o.left,c=o.top+e(i).outerHeight(),u=e(t).height(),d=e(n).height(),h=e(t).width(),p=e(n).width();r.style.position="absolute",r.style.left=l+"px",r.style.top=c+"px",r.style.display="block",e(r).css("opacity",0);var f=n.createElement("div");f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.height=(u>d?u:d)+"px",f.style.width=(h>p?h:p)+"px",f.className=this.classes.collection.background,e(f).css("opacity",0),n.body.appendChild(f),n.body.appendChild(r);var m=e(r).outerWidth(),g=e(r).outerHeight();l+m>p&&(r.style.left=p-m+"px"),c+g>d&&(r.style.top=c-g-e(i).outerHeight()+"px"),this.dom.collection.collection=r,this.dom.collection.background=f,setTimeout(function(){e(r).animate({opacity:1},500),e(f).animate({opacity:.25},500)},10),this.fnResizeButtons(),e(f).click(function(){s._fnCollectionHide.call(s,null,null)})},_fnCollectionHide:function(t,i){null!==i&&"collection"==i.sExtends||null!==this.dom.collection.collection&&(e(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),e(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var t=this,i=this.s.dt;this.s.dt.aoOpenRows;e(i.nTable).addClass(this.classes.select.table),"os"===this.s.select.type&&(e(i.nTBody).on("mousedown.DTTT_Select","tr",function(t){t.shiftKey&&e(i.nTBody).css("-moz-user-select","none").one("selectstart.DTTT_Select","tr",function(){return!1})}),e(i.nTBody).on("mouseup.DTTT_Select","tr",function(){e(i.nTBody).css("-moz-user-select","")})),e(i.nTBody).on("click.DTTT_Select",this.s.custom.sRowSelector,function(n){var a="tr"===this.nodeName.toLowerCase()?this:e(this).parents("tr")[0],s=t.s.select,o=t.s.dt.oInstance.fnGetPosition(a);if(a.parentNode==i.nTBody&&null!==i.oInstance.fnGetData(a)){if("os"==s.type)if(n.ctrlKey||n.metaKey)t.fnIsSelected(a)?t._fnRowDeselect(a,n):t._fnRowSelect(a,n);else if(n.shiftKey){var r=t.s.dt.aiDisplay.slice(),l=e.inArray(s.lastRow,r),c=e.inArray(o,r);if(0===t.fnGetSelected().length||-1===l)r.splice(e.inArray(o,r)+1,r.length);else{if(l>c){var u=c;c=l,l=u}r.splice(c+1,r.length),r.splice(0,l)}t.fnIsSelected(a)?(r.splice(e.inArray(o,r),1),t._fnRowDeselect(r,n)):t._fnRowSelect(r,n)}else t.fnIsSelected(a)&&1===t.fnGetSelected().length?t._fnRowDeselect(a,n):(t.fnSelectNone(),t._fnRowSelect(a,n));else t.fnIsSelected(a)?t._fnRowDeselect(a,n):"single"==s.type?(t.fnSelectNone(),t._fnRowSelect(a,n)):"multi"==s.type&&t._fnRowSelect(a,n);s.lastRow=o}}),i.oApi._fnCallbackReg(i,"aoRowCreatedCallback",function(n,a,s){i.aoData[s]._DTTT_selected&&e(n).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,i){var n,a,s=this,o=this._fnSelectData(t),r=(0===o.length?null:o[0].nTr,[]);for(n=0,a=o.length;a>n;n++)o[n].nTr&&r.push(o[n].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,i,r,!0)){for(n=0,a=o.length;a>n;n++)o[n]._DTTT_selected=!0,o[n].nTr&&e(o[n].nTr).addClass(s.classes.select.row);null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,r),TableTools._fnEventDispatch(this,"select",r,!0)}},_fnRowDeselect:function(t,i){var n,a,s=this,o=this._fnSelectData(t),r=(0===o.length?null:o[0].nTr,[]);for(n=0,a=o.length;a>n;n++)o[n].nTr&&r.push(o[n].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,i,r,!1)){for(n=0,a=o.length;a>n;n++)o[n]._DTTT_selected=!1,o[n].nTr&&e(o[n].nTr).removeClass(s.classes.select.row);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,r),TableTools._fnEventDispatch(this,"select",r,!1)}},_fnSelectData:function(e){var t,i,n,a=[];if(e.nodeName)t=this.s.dt.oInstance.fnGetPosition(e),a.push(this.s.dt.aoData[t]);else{if("undefined"!=typeof e.length){for(i=0,n=e.length;n>i;i++)e[i].nodeName?(t=this.s.dt.oInstance.fnGetPosition(e[i]),a.push(this.s.dt.aoData[t])):"number"==typeof e[i]?a.push(this.s.dt.aoData[e[i]]):a.push(e[i]);return a}"number"==typeof e?a.push(this.s.dt.aoData[e]):a.push(e)}return a},_fnTextConfig:function(t,i){var n=this;null!==i.fnInit&&i.fnInit.call(this,t,i),""!==i.sToolTip&&(t.title=i.sToolTip),e(t).hover(function(){null!==i.fnMouseover&&i.fnMouseover.call(this,t,i,null)},function(){null!==i.fnMouseout&&i.fnMouseout.call(this,t,i,null)}),null!==i.fnSelect&&TableTools._fnEventListen(this,"select",function(e){i.fnSelect.call(n,t,i,e)}),e(t).click(function(e){null!==i.fnClick&&i.fnClick.call(n,t,i,null,e),null!==i.fnComplete&&i.fnComplete.call(n,t,i,null,null),n._fnCollectionHide(t,i)})},_fnHasFlash:function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==i&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},_fnFlashConfig:function(e,t){var i=this,n=new s.Client;null!==t.fnInit&&t.fnInit.call(this,e,t),n.setHandCursor(!0),"flash_save"==t.sAction?(n.setAction("save"),n.setCharSet("utf16le"==t.sCharSet?"UTF16LE":"UTF8"),n.setBomInc(t.bBomInc),n.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):"flash_pdf"==t.sAction?(n.setAction("pdf"),n.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):n.setAction("copy"),n.addEventListener("mouseOver",function(){null!==t.fnMouseover&&t.fnMouseover.call(i,e,t,n)}),n.addEventListener("mouseOut",function(){null!==t.fnMouseout&&t.fnMouseout.call(i,e,t,n)}),n.addEventListener("mouseDown",function(){null!==t.fnClick&&t.fnClick.call(i,e,t,n)}),n.addEventListener("complete",function(a,s){null!==t.fnComplete&&t.fnComplete.call(i,e,t,n,s),i._fnCollectionHide(e,t)}),null!==t.fnSelect&&TableTools._fnEventListen(this,"select",function(n){t.fnSelect.call(i,e,t,n)}),this._fnFlashGlue(n,e,t.sToolTip)},_fnFlashGlue:function(e,t,i){var a=this,s=t.getAttribute("id");n.getElementById(s)?e.glue(t,i):setTimeout(function(){a._fnFlashGlue(e,t,i)},100)},_fnFlashSetText:function(e,t){var i=this._fnChunkData(t,8192);e.clearText();for(var n=0,a=i.length;a>n;n++)e.appendText(i[n])},_fnColumnTargets:function(t){var i,n,a=[],s=this.s.dt,o=s.aoColumns,r=o.length;if("function"==typeof t){var l=t.call(this,s);for(i=0,n=r;n>i;i++)a.push(-1!==e.inArray(i,l))}else if("object"==typeof t){for(i=0,n=r;n>i;i++)a.push(!1);for(i=0,n=t.length;n>i;i++)a[t[i]]=!0}else if("visible"==t)for(i=0,n=r;n>i;i++)a.push(!!o[i].bVisible);else if("hidden"==t)for(i=0,n=r;n>i;i++)a.push(!o[i].bVisible);else if("sortable"==t)for(i=0,n=r;n>i;i++)a.push(!!o[i].bSortable);else for(i=0,n=r;n>i;i++)a.push(!0);return a},_fnNewline:function(e){return"auto"==e.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":e.sNewLine},_fnGetDataTablesData:function(t){var i,n,s,o,r,l,c,u=[],d="",h=this.s.dt,p=new RegExp(t.sFieldBoundary,"g"),f=this._fnColumnTargets(t.mColumns),m="undefined"!=typeof t.bSelectedOnly?t.bSelectedOnly:!1;if(t.bHeader){for(r=[],i=0,n=h.aoColumns.length;n>i;i++)f[i]&&(d=h.aoColumns[i].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),d=this._fnHtmlDecode(d),r.push(this._fnBoundData(d,t.sFieldBoundary,p)));u.push(r.join(t.sFieldSeperator))}m=!0;var g,v=this.fnGetSelectedIndexes();for(m="none"!==this.s.select.type&&m&&0!==v.length,g=m?v:a.Api?new a.Api(h).rows(t.oSelectorOpts).indexes().flatten().toArray():h.oInstance.$("tr",t.oSelectorOpts).map(function(e,t){return h.oInstance.fnGetPosition(t)}).get(),s=0,o=g.length;o>s;s++){for(c=h.aoData[g[s]].nTr,r=[],i=0,n=h.aoColumns.length;n>i;i++)if(f[i]){var y=h.oApi._fnGetCellData(h,g[s],i,"display");t.fnCellRender?d=t.fnCellRender(y,i,c,g[s])+"":"string"==typeof y?(d=y.replace(/\n/g," "),d=d.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),d=d.replace(/<.*?>/g,"")):d=y+"",d=d.replace(/^\s+/,"").replace(/\s+$/,""),d=this._fnHtmlDecode(d),r.push(this._fnBoundData(d,t.sFieldBoundary,p))}u.push(r.join(t.sFieldSeperator)),t.bOpenRows&&(l=e.grep(h.aoOpenRows,function(e){return e.nParent===c}),1===l.length&&(d=this._fnBoundData(e("td",l[0].nTr).html(),t.sFieldBoundary,p),u.push(d)))}if(t.bFooter&&null!==h.nTFoot){for(r=[],i=0,n=h.aoColumns.length;n>i;i++)f[i]&&null!==h.aoColumns[i].nTf&&(d=h.aoColumns[i].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),d=this._fnHtmlDecode(d),r.push(this._fnBoundData(d,t.sFieldBoundary,p)));u.push(r.join(t.sFieldSeperator))}var b=u.join(this._fnNewline(t));return b},_fnBoundData:function(e,t,i){return""===t?e:t+e.replace(i,t+t)+t},_fnChunkData:function(e,t){for(var i=[],n=e.length,a=0;n>a;a+=t)n>a+t?i.push(e.substring(a,a+t)):i.push(e.substring(a,n));return i},_fnHtmlDecode:function(e){if(-1===e.indexOf("&"))return e;var t=n.createElement("div");return e.replace(/&([^\s]*?);/g,function(e,i){return"#"===e.substr(1,1)?String.fromCharCode(Number(i.substr(1))):(t.innerHTML=e,t.childNodes[0].nodeValue)})},_fnPrintStart:function(i){var a=this,s=this.s.dt;this._fnPrintHideNodes(s.nTable),this.s.print.saveStart=s._iDisplayStart,this.s.print.saveLength=s._iDisplayLength,i.bShowAll&&(s._iDisplayStart=0,s._iDisplayLength=-1,s.oApi._fnCalculateEnd&&s.oApi._fnCalculateEnd(s),s.oApi._fnDraw(s)),""===s.oScroll.sX&&""===s.oScroll.sY||(this._fnPrintScrollStart(s),e(this.s.dt.nTable).bind("draw.DTTT_Print",function(){a._fnPrintScrollStart(s)}));var o=s.aanFeatures;for(var r in o)if("i"!=r&&"t"!=r&&1==r.length)for(var l=0,c=o[r].length;c>l;l++)this.dom.print.hidden.push({node:o[r][l],display:"block"}),o[r][l].style.display="none";e(n.body).addClass(this.classes.print.body),""!==i.sInfo&&this.fnInfo(i.sInfo,3e3),i.sMessage&&e("<div/>").addClass(this.classes.print.message).html(i.sMessage).prependTo("body"),this.s.print.saveScroll=e(t).scrollTop(),t.scrollTo(0,0),e(n).bind("keydown.DTTT",function(e){27==e.keyCode&&(e.preventDefault(),a._fnPrintEnd.call(a,e))})},_fnPrintEnd:function(){var i=this.s.dt,a=this.s.print;this.dom.print;this._fnPrintShowNodes(),""===i.oScroll.sX&&""===i.oScroll.sY||(e(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd()),t.scrollTo(0,a.saveScroll),e("div."+this.classes.print.message).remove(),e(n.body).removeClass("DTTT_Print"),i._iDisplayStart=a.saveStart,i._iDisplayLength=a.saveLength,i.oApi._fnCalculateEnd&&i.oApi._fnCalculateEnd(i),i.oApi._fnDraw(i),e(n).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t,i,n=this.s.dt,a=n.nScrollHead.getElementsByTagName("div")[0],s=(a.getElementsByTagName("table")[0],n.nTable.parentNode);t=n.nTable.getElementsByTagName("thead"),t.length>0&&n.nTable.removeChild(t[0]),null!==n.nTFoot&&(i=n.nTable.getElementsByTagName("tfoot"),i.length>0&&n.nTable.removeChild(i[0])),t=n.nTHead.cloneNode(!0),n.nTable.insertBefore(t,n.nTable.childNodes[0]),null!==n.nTFoot&&(i=n.nTFoot.cloneNode(!0),n.nTable.insertBefore(i,n.nTable.childNodes[1])),""!==n.oScroll.sX&&(n.nTable.style.width=e(n.nTable).outerWidth()+"px",s.style.width=e(n.nTable).outerWidth()+"px",s.style.overflow="visible"),""!==n.oScroll.sY&&(s.style.height=e(n.nTable).outerHeight()+"px",s.style.overflow="visible")},_fnPrintScrollEnd:function(){var e=this.s.dt,t=e.nTable.parentNode;""!==e.oScroll.sX&&(t.style.width=e.oApi._fnStringToCss(e.oScroll.sX),t.style.overflow="auto"),""!==e.oScroll.sY&&(t.style.height=e.oApi._fnStringToCss(e.oScroll.sY),t.style.overflow="auto")},_fnPrintShowNodes:function(){for(var e=this.dom.print.hidden,t=0,i=e.length;i>t;t++)e[t].node.style.display=e[t].display;e.splice(0,e.length)},_fnPrintHideNodes:function(t){for(var i=this.dom.print.hidden,n=t.parentNode,a=n.childNodes,s=0,o=a.length;o>s;s++)if(a[s]!=t&&1==a[s].nodeType){var r=e(a[s]).css("display");"none"!=r&&(i.push({node:a[s],display:r}),a[s].style.display="none")}"BODY"!=n.nodeName.toUpperCase()&&this._fnPrintHideNodes(n)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var e=[],t=0,i=TableTools._aInstances.length;i>t;t++)TableTools._aInstances[t].s.master&&e.push(TableTools._aInstances[t]);return e},TableTools.fnGetInstance=function(e){"object"!=typeof e&&(e=n.getElementById(e));for(var t=0,i=TableTools._aInstances.length;i>t;t++)if(TableTools._aInstances[t].s.master&&TableTools._aInstances[t].dom.table==e)return TableTools._aInstances[t];return null},TableTools._fnEventListen=function(e,t,i){TableTools._aListeners.push({that:e,type:t,fn:i})},TableTools._fnEventDispatch=function(e,t,i,n){for(var a=TableTools._aListeners,s=0,o=a.length;o>s;s++)e.dom.table==a[s].that.dom.table&&a[s].type==t&&a[s].fn(i,n)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"	",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,oSelectorOpts:i,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(e,t,i){this.fnSetText(i,this.fnGetTableData(t))}}),xls:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(e,t,i){this.fnSetText(i,this.fnGetTableData(t))}}),copy:e.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(e,t,i){this.fnSetText(i,this.fnGetTableData(t))},fnComplete:function(e,t,i,n){var a=n.split("\n").length;t.bHeader&&a--,null!==this.s.dt.nTFoot&&t.bFooter&&a--;var s=1==a?"":"s";this.fnInfo("<h6>Table copied</h6><p>Copied "+a+" row"+s+" to the clipboard.</p>",1500)}}),pdf:e.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(e,t,i){this.fnSetText(i,"title:"+this.fnGetTitle(t)+"\nmessage:"+t.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(t)+"\norientation:"+t.sPdfOrientation+"\nsize:"+t.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(t))}}),print:e.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(e,t){this.fnPrint(!0,t)}}),text:e.extend({},TableTools.buttonBase),select:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){0!==this.fnGetSelected().length?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),select_single:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){var i=this.fnGetSelected().length;1==i?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),select_all:e.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(t){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?e(t).addClass(this.classes.buttons.disabled):e(t).removeClass(this.classes.buttons.disabled)}}),select_none:e.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(t){0!==this.fnGetSelected().length?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),ajax:e.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,i){var n=this.fnGetTableData(i);e.ajax({url:i.sAjaxUrl,data:[{name:"tableData",value:n}],success:i.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:e.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:e.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(e,t){this._fnCollectionShow(e,t)}})},TableTools.buttons=TableTools.BUTTONS,TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"../swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sRowSelector:"tr",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.defaults=TableTools.DEFAULTS,TableTools.prototype.CLASS="TableTools",TableTools.version="2.2.4",e.fn.dataTable.Api&&e.fn.dataTable.Api.register("tabletools()",function(){var e=null;return this.context.length>0&&(e=TableTools.fnGetInstance(this.context[0].nTable)),e}),"function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.9.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,i=t?t.tableTools||t.oTableTools||{}:{};return new TableTools(e.oInstance,i).dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download"),e.fn.DataTable.TableTools=TableTools}(jQuery,e,t),"function"==typeof n.fn.dataTable&&"function"==typeof n.fn.dataTableExt.fnVersionCheck&&n.fn.dataTableExt.fnVersionCheck("1.9.0")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t="undefined"!=typeof e.oInit.oTableTools?e.oInit.oTableTools:{},i=new TableTools(e.oInstance,t);return TableTools._aInstances.push(i),i.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),n.fn.dataTable.TableTools=TableTools,n.fn.DataTable.TableTools=TableTools,TableTools};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.TableTools&&n(jQuery,jQuery.fn.dataTable)}(window,document),window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i?i.parentNode.insertBefore(t,i):document.head.appendChild(t),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,n=0,a=[],s=function(){clearTimeout(n),n=setTimeout(function(){for(var t=0,i=a.length;i>t;t++){var n=a[t].mql,s=a[t].listeners||[],o=e(n.media).matches;if(o!==n.matches){n.matches=o;for(var r=0,l=s.length;l>r;r++)s[r].call(window,n)}}},30)};window.matchMedia=function(n){var o=e(n),r=[],l=0;return o.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",s,!0)),0===l&&(l=a.push({mql:o,listeners:r})),r.push(e))},o.removeListener=function(e){for(var t=0,i=r.length;i>t;t++)r[t]===e&&r.splice(t,1)},o}}(),$(document).ready(function(){function e(e,t){var i=document.querySelector(e).value.length;document.querySelector(t).innerHTML=i}if(document.getElementById("place-table")){var t=$("#place-table").DataTable({pageLength:50});tableTools=new $.fn.dataTable.TableTools(t,{buttons:["copy","csv","xls","pdf"]}),$(tableTools.fnContainer()).insertBefore("table#place-table"),$("#place-table thead th").each(function(){var e=$(this).text();$(this).html('<input type="text" placeholder="Search '+e+'" />')}),t.columns().every(function(){var e=this;$("input",this.header()).on("keyup change",function(){e.search()!==this.value&&e.search(this.value).draw()})})}if(document.getElementById("orders-table")){var t=$("#orders-table").DataTable({pageLength:50,order:[[1,"desc"]]});tableTools=new $.fn.dataTable.TableTools(t,{buttons:["copy","csv","xls","pdf"]}),$(tableTools.fnContainer()).insertBefore("table#orders-table"),$("#orders-table thead th").each(function(){var e=$(this).text();$(this).html('<input type="text" placeholder="Search '+e+'" />')}),t.columns().every(function(){var e=this;$("input",this.header()).on("keyup change",function(){e.search()!==this.value&&e.search(this.value).draw();
})})}$("#post-table").DataTable({pageLength:50}),$("#parent-table").DataTable({bPaginate:!1}),$("#subcategory-table").DataTable({pageLength:50}),$("#user-table").DataTable({pageLength:50}),$("#transactions-table").DataTable({pageLength:50}),$("#leaderboard-table").DataTable({pageLength:50,order:[[1,"desc"]]}),$("#user-place-table").DataTable({pageLength:25,order:[[4,"desc"]]}),$("#photo-table").DataTable({paging:!1}),$("#video-table").DataTable({paging:!1}),$("#game-table").DataTable({paging:!1}),$("#fun-fact-table").DataTable({paging:!1}),$("#discount-table").DataTable({paging:!1,ordering:!1}),document.querySelector(".form_datetime")&&$(".form_datetime").datepicker({autoclose:!0,todayBtn:!0,pickerPosition:"bottom-left",format:"dd-mm-yyyy"}),document.querySelector("#place_meta_description")&&(e("#place_meta_description","#shortDescriptionCharCount"),e("#place_description","#descriptionCharCount"),$("#place_meta_description").on("keyup",function(){e("#place_meta_description","#shortDescriptionCharCount")}),setTimeout(function(){var e=$(".wysihtml5-sandbox").contents().find("body")[0];$(e).on("keyup",function(){var t=e.innerHTML.length;document.querySelector("#descriptionCharCount").innerHTML=t})},1e3)),document.querySelector("#attraction_meta_description")&&(e("#attraction_meta_description","#shortDescriptionCharCount"),e("#attraction_description","#descriptionCharCount"),$("#attraction_meta_description").on("keyup",function(){e("#attraction_meta_description","#shortDescriptionCharCount")}),setTimeout(function(){var e=$(".wysihtml5-sandbox").contents().find("body")[0];$(e).on("keyup",function(){var t=e.innerHTML.length;document.querySelector("#descriptionCharCount").innerHTML=t})},1e3)),$("#region_description").on("keyup",function(){e("#region_description","#shortDescriptionCharCount")}),document.querySelector("#seo-title")&&(e("#seo-title","#seo-title-count"),e("#meta-description","#meta-description-count"),$("#seo-title").on("keyup",function(){e("#seo-title","#seo-title-count")}),$("#meta-description").on("keyup",function(){e("#meta-description","#meta-description-count")})),document.querySelector(".confirm-user-button")&&$(".confirm-user-button").on("click",function(e){var t=$(this).parent("span"),i=$(this).data("user-id"),n={};n.user_id=i,console.log($(t)),e.preventDefault(),$.ajax({url:"/users/confirm",type:"POST",dataType:"json",data:n,success:function(){$(t).html("Confirmed")}})})}),function(e,t,i,n){function a(t,i){this.options=e.extend(!0,{},s,i),i&&i.types&&(this.options.types=i.types),this.input=t,this.$input=e(t),this._defaults=s,this._name="geocomplete",this.init()}var s={bounds:!0,country:null,map:!1,details:!1,detailsAttribute:"name",detailsScope:null,autoselect:!0,location:!1,mapOptions:{zoom:14,scrollwheel:!1,mapTypeId:"roadmap"},markerOptions:{draggable:!1},maxZoom:16,types:["geocode"],blur:!1,geocodeAfterResult:!1,restoreValueAfterBlur:!1},o="street_address route intersection political country administrative_area_level_1 administrative_area_level_2 administrative_area_level_3 colloquial_area locality sublocality neighborhood premise subpremise postal_code natural_feature airport park point_of_interest post_box street_number floor room lat lng viewport location formatted_address location_type bounds".split(" "),r="id place_id url website vicinity reference name rating international_phone_number icon formatted_phone_number".split(" ");e.extend(a.prototype,{init:function(){this.initMap(),this.initMarker(),this.initGeocoder(),this.initDetails(),this.initLocation()},initMap:function(){if(this.options.map){if("function"==typeof this.options.map.setCenter)return void(this.map=this.options.map);this.map=new google.maps.Map(e(this.options.map)[0],this.options.mapOptions),google.maps.event.addListener(this.map,"click",e.proxy(this.mapClicked,this)),google.maps.event.addListener(this.map,"dragend",e.proxy(this.mapDragged,this)),google.maps.event.addListener(this.map,"idle",e.proxy(this.mapIdle,this)),google.maps.event.addListener(this.map,"zoom_changed",e.proxy(this.mapZoomed,this))}},initMarker:function(){if(this.map){var t=e.extend(this.options.markerOptions,{map:this.map});t.disabled||(this.marker=new google.maps.Marker(t),google.maps.event.addListener(this.marker,"dragend",e.proxy(this.markerDragged,this)))}},initGeocoder:function(){var t={types:this.options.types,bounds:this.options.bounds===!0?null:this.options.bounds,componentRestrictions:this.options.componentRestrictions};this.options.country&&(t.componentRestrictions={country:this.options.country}),this.autocomplete=new google.maps.places.Autocomplete(this.input,t),this.geocoder=new google.maps.Geocoder,this.map&&this.options.bounds===!0&&this.autocomplete.bindTo("bounds",this.map),google.maps.event.addListener(this.autocomplete,"place_changed",e.proxy(this.placeChanged,this)),this.$input.on("keypress."+this._name,function(e){return 13===e.keyCode?!1:void 0}),this.options.geocodeAfterResult===!0&&this.$input.bind("keypress."+this._name,e.proxy(function(){9!=event.keyCode&&this.selected===!0&&(this.selected=!1)},this)),this.$input.bind("geocode."+this._name,e.proxy(function(){this.find()},this)),this.$input.bind("geocode:result."+this._name,e.proxy(function(){this.lastInputVal=this.$input.val()},this)),this.options.blur===!0&&this.$input.on("blur."+this._name,e.proxy(function(){this.options.geocodeAfterResult===!0&&this.selected===!0||(this.options.restoreValueAfterBlur===!0&&this.selected===!0?setTimeout(e.proxy(this.restoreLastValue,this),0):this.find())},this))},initDetails:function(){function t(e){a[e]=i.find("["+n+"="+e+"]")}if(this.options.details){if(this.options.detailsScope)var i=e(this.input).parents(this.options.detailsScope).find(this.options.details);else var i=e(this.options.details);var n=this.options.detailsAttribute,a={};e.each(o,function(e,i){t(i),t(i+"_short")}),e.each(r,function(e,i){t(i)}),this.$details=i,this.details=a}},initLocation:function(){var e,t=this.options.location;if(t){if("string"==typeof t)return void this.find(t);t instanceof Array&&(e=new google.maps.LatLng(t[0],t[1])),t instanceof google.maps.LatLng&&(e=t),e&&(this.map&&this.map.setCenter(e),this.marker&&this.marker.setPosition(e))}},destroy:function(){this.map&&(google.maps.event.clearInstanceListeners(this.map),google.maps.event.clearInstanceListeners(this.marker)),this.autocomplete.unbindAll(),google.maps.event.clearInstanceListeners(this.autocomplete),google.maps.event.clearInstanceListeners(this.input),this.$input.removeData(),this.$input.off(this._name),this.$input.unbind("."+this._name)},find:function(e){this.geocode({address:e||this.$input.val()})},geocode:function(t){t.address&&(this.options.bounds&&!t.bounds&&(this.options.bounds===!0?t.bounds=this.map&&this.map.getBounds():t.bounds=this.options.bounds),this.options.country&&(t.region=this.options.country),this.geocoder.geocode(t,e.proxy(this.handleGeocode,this)))},selectFirstResult:function(){var t="";e(".pac-item-selected")[0]&&(t="-selected");var i=e(".pac-container:visible .pac-item"+t+":first span:nth-child(2)").text(),n=e(".pac-container:visible .pac-item"+t+":first span:nth-child(3)").text(),a=i;return n&&(a+=" - "+n),this.$input.val(a),a},restoreLastValue:function(){this.lastInputVal&&this.$input.val(this.lastInputVal)},handleGeocode:function(e,t){if(t===google.maps.GeocoderStatus.OK){var i=e[0];this.$input.val(i.formatted_address),this.update(i),e.length>1&&this.trigger("geocode:multiple",e)}else this.trigger("geocode:error",t)},trigger:function(e,t){this.$input.trigger(e,[t])},center:function(e){e.viewport?(this.map.fitBounds(e.viewport),this.map.getZoom()>this.options.maxZoom&&this.map.setZoom(this.options.maxZoom)):(this.map.setZoom(this.options.maxZoom),this.map.setCenter(e.location)),this.marker&&(this.marker.setPosition(e.location),this.marker.setAnimation(this.options.markerOptions.animation))},update:function(e){this.map&&this.center(e.geometry),this.$details&&this.fillDetails(e),this.trigger("geocode:result",e)},fillDetails:function(t){var i={},n=t.geometry,a=n.viewport,s=n.bounds;e.each(t.address_components,function(t,n){n.types[0];e.each(n.types,function(e,t){i[t]=n.long_name,i[t+"_short"]=n.short_name})}),e.each(r,function(e,n){i[n]=t[n]}),e.extend(i,{formatted_address:t.formatted_address,location_type:n.location_type||"PLACES",viewport:a,bounds:s,location:n.location,lat:n.location.lat(),lng:n.location.lng()}),e.each(this.details,e.proxy(function(e,t){var n=i[e];this.setDetail(t,n)},this)),this.data=i},setDetail:function(e,t){t===n?t="":"function"==typeof t.toUrlValue&&(t=t.toUrlValue()),e.is(":input")?e.val(t):e.text(t)},markerDragged:function(e){this.trigger("geocode:dragged",e.latLng)},mapClicked:function(e){this.trigger("geocode:click",e.latLng)},mapDragged:function(){this.trigger("geocode:mapdragged",this.map.getCenter())},mapIdle:function(){this.trigger("geocode:idle",this.map.getCenter())},mapZoomed:function(){this.trigger("geocode:zoom",this.map.getZoom())},resetMarker:function(){this.marker.setPosition(this.data.location),this.setDetail(this.details.lat,this.data.location.lat()),this.setDetail(this.details.lng,this.data.location.lng())},placeChanged:function(){var e=this.autocomplete.getPlace();if(this.selected=!0,e.geometry)this.update(e);else if(this.options.autoselect){var t=this.selectFirstResult();this.find(t)}}}),e.fn.geocomplete=function(t){var i="plugin_geocomplete";if("string"==typeof t){var n=e(this).data(i)||e(this).geocomplete().data(i),s=n[t];return"function"==typeof s?(s.apply(n,Array.prototype.slice.call(arguments,1)),e(this)):(2==arguments.length&&(s=arguments[1]),s)}return this.each(function(){var n=e.data(this,i);n||(n=new a(this,t),e.data(this,i,n))})}}(jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function i(e){return r.raw?e:decodeURIComponent(e)}function n(e){return t(r.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(o," ")),r.json?JSON.parse(e):e}catch(t){}}function s(t,i){var n=r.raw?t:a(t);return e.isFunction(i)?i(n):n}var o=/\+/g,r=e.cookie=function(a,o,l){if(arguments.length>1&&!e.isFunction(o)){if(l=e.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[t(a),"=",n(o),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=a?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;f>p;p++){var m=h[p].split("="),g=i(m.shift()),v=m.join("=");if(a&&a===g){d=s(v,o);break}a||void 0===(v=s(v))||(d[g]=v)}return d};r.defaults={},e.removeCookie=function(t,i){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},i,{expires:-1})),!e.cookie(t))}}),$(function(){$(".star-place").each(function(){$(this).raty({score:function(){return $(this).attr("data-rating")},click:function(e){var t=this;null==e&&(e=0),$.post("/rate",{score:e,dimension:$(this).attr("data-dimension"),id:$(this).attr("data-id"),klass:$(this).attr("data-classname")},function(i){i&&"true"==$(t).attr("data-disable-after-rate")&&$(t).raty("set",{readOnly:!0,score:e})})}})})}),$(function(){function e(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#image-preview").show().attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}function t(e,t,i){if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){i.show();var n=e.target.result;t.attr("src",n)},n.readAsDataURL(e.files[0])}$(e).parent().hide();var a=i.height(),s=t.height(),o=(s-a)/2;t.css("margin-top",o/2)}$("#user-photo-upload").fileupload({dataType:"json",add:function(e,t){if($("#icon-upload").hide(),$("#user-photo-upload-button").find("button").length<1&&(t.context=$('<button class="btn btn-primary"/>').text("Upload").appendTo($("#user-photo-upload-button")).click(function(){t.context=$("<p/>").text("Uploading...").replaceAll($(this)),t.submit()})),$("#upload-title").text("Click image to change"),t.files&&t.files[0]){var i=new FileReader;i.onload=function(e){$("#image-preview").show().attr("src",e.target.result)},i.readAsDataURL(t.files[0])}},send:function(){$("#upload-title").text("Click or drag below"),$("#icon-upload").show(),$("#userPhotoModal").modal("hide"),$("#image-preview").attr("src","#").hide(),$("#user-photo-upload-button").html(""),$("#user_photo_caption").val("");var e="Thanks for your photo! We'll let you know when others can see it too.";$(".alert-wrapper").html('<div class="alert alert-info fade in"><button class="close" data-dismiss="alert">\xd7</button>'+e+"</div>")},done:function(){}}),$("#user-profile-photo-upload").fileupload({dataType:"json",add:function(e,t){if(t.context=$('<button class="btn btn-primary"/>').text("Upload").appendTo($("#user-photo-upload-button")).click(function(){t.context=$("<p/>").text("Uploading...").replaceAll($(this)),t.submit()}),t.files&&t.files[0]){var i=new FileReader;i.onload=function(e){$("#image-preview").show().attr("src",e.target.result)},i.readAsDataURL(t.files[0])}},send:function(e,t){var i=new FileReader;i.onload=function(e){function i(e,t){var i=e.height(),n=t.height(),a=(n-i)/2;t.css("margin-top",-(a/2))}uploadedImage=t.result,imageToAdd='<div class="col-md-3 photo-wrapper"><div class="my-photos"><img class="my-photo" style="max-width:400px" src="'+e.target.result+'"></div><p style="text-align:center">Refresh the page to delete or edit this photo</p></div><div class="col-md-1"></div>',$(imageToAdd).insertBefore($(".photo-wrapper")[0]),$.each($(".my-photo"),function(e,t){i($(t).parent(),$(t))})},i.readAsDataURL(t.files[0]),$("#userPhotoModal").modal("hide"),$("#image-preview").attr("src","#").hide(),$("#user-photo-upload-button").html("");var n="Thanks for your photo! We'll let you know when others can see it too.";$(".alert-wrapper").html('<div class="alert alert-info fade in"><button class="close" data-dismiss="alert">\xd7</button>'+n+"</div>")},done:function(e,t){t.context.text("Upload finished.")}}),$("#user_photo_path").change(function(){e(this)}),$("#story_user_photos_attributes_0_path").change(function(){t(this,$("#story-image-1"),$("#story-image-1-container"))}),$("#story_user_photos_attributes_1_path").change(function(){t(this,$("#story-image-2"),$("#story-image-2-container"))}),$("#story_user_photos_attributes_2_path").change(function(){t(this,$("#story-image-3"),$("#story-image-3-container"))})}),!function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,i,n){function a(o,r){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return a(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t){function i(e,t){for(var i in t)e.setAttribute(i,t[i])}function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function a(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,s){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");"function"==typeof t&&(s=t,t={}),t=t||{},s=s||function(){},r.type=t.type||"text/javascript",r.charset=t.charset||"utf8",r.async="async"in t?!!t.async:!0,r.src=e,t.attrs&&i(r,t.attrs),t.text&&(r.text=""+t.text);var l="onload"in r?n:a;l(r,s),r.onload||n(r,s),o.appendChild(r)}},{}],2:[function(e,t){"use strict";function i(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),i=document.getElementsByTagName("script"),n=!1,a=0,s=i.length;s>a;a++)if(i[a].src&&t.test(i[a].src)){n=!0;break}return n}t.exports=i},{}],3:[function(e,t){"use strict";function i(t){var i=e(1),a="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",s="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(s):window.console.log&&window.console.log(s));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),window.ALGOLIA_SUPPORTS_DOCWRITE===!0?(document.write('<script src="'+a+'"></script>'),n("document.write")()):i(a,n("DOMElement"))}catch(o){i(a,n("DOMElement"))}}function n(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=i},{1:1}],4:[function(e,t){"use strict";function i(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=i},{}],5:[function(e){"use strict";function t(t){var i=e(2),n=e(3),a=e(4);i(t)?n(t):a()}t("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearch=e()}}(function(){var e;return function t(e,i,n){function a(o,r){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return a(i?i:t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,r,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(a=arguments.length,r=new Array(a-1),l=1;a>l;l++)r[l-1]=arguments[l];i.apply(this,r)}else if(s(i)){for(a=arguments.length,r=new Array(a-1),l=1;a>l;l++)r[l-1]=arguments[l];for(c=i.slice(),a=c.length,l=0;a>l;l++)c[l].apply(this,r)}return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var a;a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,a,o,r;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],o=i.length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(r=o;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){a=r;break}if(0>a)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t){function i(){c=!1,o.length?l=o.concat(l):u=-1,l.length&&n()}function n(){if(!c){var e=setTimeout(i);c=!0;for(var t=l.length;t;){for(o=l,l=[];++u<t;)o&&o[u].run();u=-1,t=l.length}o=null,c=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var o,r=t.exports={},l=[],c=!1,u=-1;r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new a(e,t)),1!==l.length||c||setTimeout(n,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=s,r.addListener=s,r.once=s,r.off=s,r.removeListener=s,r.removeAllListeners=s,r.emit=s,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],3:[function(e,t){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,a,s){t=t||"&",a=a||"=";var o={};if("string"!=typeof e||0===e.length)return o;var r=/\+/g;e=e.split(t);var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;c>u;++u){var d,h,p,f,m=e[u].replace(r,"%20"),g=m.indexOf(a);g>=0?(d=m.substr(0,g),h=m.substr(g+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),i(o,p)?n(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t){"use strict";function i(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,o,r){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?i(s(e),function(s){var r=encodeURIComponent(n(s))+o;return a(e[s])?i(e[s],function(e){return r+encodeURIComponent(n(e))}).join(t):r+encodeURIComponent(n(e[s]))}).join(t):r?encodeURIComponent(n(r))+o+encodeURIComponent(n(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},{}],5:[function(e,t,i){"use strict";i.decode=i.parse=e(3),i.encode=i.stringify=e(4)},{3:3,4:4}],6:[function(e,t,i){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function a(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var a=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(a++,"%c"===e&&(s=a))}),e.splice(s,0,n),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(t){}}function r(){var e;try{e=i.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}i=t.exports=e(7),i.log=s,i.formatArgs=a,i.save=o,i.load=r,i.useColors=n,i.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(e){return JSON.stringify(e)},i.enable(r())},{7:7}],7:[function(e,t,i){function n(){return i.colors[u++%i.colors.length]}function a(e){function t(){}function a(){var e=a,t=+new Date,s=t-(c||t);e.diff=s,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=i.useColors()),null==e.color&&e.useColors&&(e.color=n());var o=Array.prototype.slice.call(arguments);o[0]=i.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var r=0;o[0]=o[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;r++;var a=i.formatters[n];if("function"==typeof a){var s=o[r];t=a.call(e,s),o.splice(r,1),r--}return t}),"function"==typeof i.formatArgs&&(o=i.formatArgs.apply(e,o));var l=a.log||i.log||console.log.bind(console);l.apply(e,o)}t.enabled=!1,a.enabled=!0;var s=i.enabled(e)?a:t;return s.namespace=e,s}function s(e){i.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,a=0;n>a;a++)t[a]&&(e=t[a].replace(/\*/g,".*?"),"-"===e[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$")))}function o(){i.enable("")}function r(e){var t,n;for(t=0,n=i.skips.length;n>t;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;n>t;t++)if(i.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}i=t.exports=a,i.coerce=l,i.disable=o,i.enable=s,i.enabled=r,i.humanize=e(8),i.names=[],i.skips=[],i.formatters={};var c,u=0},{8:8}],8:[function(e,t){function i(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*u;case"days":case"day":case"d":return i*c;case"hours":case"hour":case"hrs":case"hr":case"h":return i*l;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i}}}}function n(e){return e>=c?Math.round(e/c)+"d":e>=l?Math.round(e/l)+"h":e>=r?Math.round(e/r)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}function a(e){return s(e,c,"day")||s(e,l,"hour")||s(e,r,"minute")||s(e,o,"second")||e+" ms"}function s(e,t,i){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var o=1e3,r=60*o,l=60*r,c=24*l,u=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?i(e):t["long"]?a(e):n(e)}},{}],9:[function(t,i){(function(n,a){(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function l(e){Y=e}function c(e){K=e}function u(){return function(){n.nextTick(m)}}function d(){return function(){U(m)}}function h(){var e=0,t=new Z(m),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function f(){return function(){setTimeout(m,1)}}function m(){for(var e=0;G>e;e+=2){var t=ie[e],i=ie[e+1];t(i),ie[e]=void 0,ie[e+1]=void 0}G=0}function g(){try{var e=t,i=e("vertx");return U=i.runOnLoop||i.runOnContext,d()}catch(n){return f()}}function v(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function w(e){try{return e.then}catch(t){return oe.error=t,oe}}function _(e,t,i,n){try{e.call(t,i,n)}catch(a){return a}}function x(e,t,i){K(function(e){var n=!1,a=_(i,t,function(i){n||(n=!0,t!==i?S(e,i):E(e,i))},function(t){n||(n=!0,D(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&a&&(n=!0,D(e,a))},e)}function C(e,t){t._state===ae?E(e,t._result):t._state===se?D(e,t._result):P(t,void 0,function(t){S(e,t)},function(t){D(e,t)})}function T(e,t){if(t.constructor===e.constructor)C(e,t);else{var i=w(t);i===oe?D(e,oe.error):void 0===i?E(e,t):o(i)?x(e,t,i):E(e,t)}}function S(e,t){e===t?D(e,y()):s(t)?T(e,t):E(e,t)}function k(e){e._onerror&&e._onerror(e._result),A(e)}function E(e,t){e._state===ne&&(e._result=t,e._state=ae,0!==e._subscribers.length&&K(A,e))}function D(e,t){e._state===ne&&(e._state=se,e._result=t,K(k,e))}function P(e,t,i,n){var a=e._subscribers,s=a.length;e._onerror=null,a[s]=t,a[s+ae]=i,a[s+se]=n,0===s&&e._state&&K(A,e)}function A(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n,a,s=e._result,o=0;o<t.length;o+=3)n=t[o],a=t[o+i],n?N(i,n,a,s):a(s);e._subscribers.length=0}}function I(){this.error=null}function M(e,t){try{return e(t)}catch(i){return re.error=i,re}}function N(e,t,i,n){var a,s,r,l,c=o(i);if(c){if(a=M(i,n),a===re?(l=!0,s=a.error,a=null):r=!0,t===a)return void D(t,b())}else a=n,r=!0;t._state!==ne||(c&&r?S(t,a):l?D(t,s):e===ae?E(t,a):e===se&&D(t,a))}function j(e,t){try{t(function(t){S(e,t)},function(t){D(e,t)})}catch(i){D(e,i)}}function O(e,t){var i=this;i._instanceConstructor=e,i.promise=new e(v),i._validateInput(t)?(i._input=t,i.length=t.length,i._remaining=t.length,i._init(),0===i.length?E(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&E(i.promise,i._result))):D(i.promise,i._validationError())}function R(e){return new le(this,e).promise}function L(e){function t(e){S(a,e)}function i(e){D(a,e)}var n=this,a=new n(v);if(!X(e))return D(a,new TypeError("You must pass an array to race.")),a;for(var s=e.length,o=0;a._state===ne&&s>o;o++)P(n.resolve(e[o]),void 0,t,i);return a}function $(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(v);return S(i,e),i}function F(e){var t=this,i=new t(v);return D(i,e),i}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this._id=pe++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==e&&(o(e)||z(),this instanceof H||B(),j(this,e))}function W(){var e;if("undefined"!=typeof a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=e.Promise;(!i||"[object Promise]"!==Object.prototype.toString.call(i.resolve())||i.cast)&&(e.Promise=fe)}var q;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var U,Y,V,X=q,G=0,K=({}.toString,function(e,t){ie[G]=e,ie[G+1]=t,G+=2,2===G&&(Y?Y(m):V())}),Q="undefined"!=typeof window?window:void 0,J=Q||{},Z=J.MutationObserver||J.WebKitMutationObserver,ee="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3);
V=ee?u():Z?h():te?p():void 0===Q&&"function"==typeof t?g():f();var ne=void 0,ae=1,se=2,oe=new I,re=new I;O.prototype._validateInput=function(e){return X(e)},O.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},O.prototype._init=function(){this._result=new Array(this.length)};var le=O;O.prototype._enumerate=function(){for(var e=this,t=e.length,i=e.promise,n=e._input,a=0;i._state===ne&&t>a;a++)e._eachEntry(n[a],a)},O.prototype._eachEntry=function(e,t){var i=this,n=i._instanceConstructor;r(e)?e.constructor===n&&e._state!==ne?(e._onerror=null,i._settledAt(e._state,t,e._result)):i._willSettleAt(n.resolve(e),t):(i._remaining--,i._result[t]=e)},O.prototype._settledAt=function(e,t,i){var n=this,a=n.promise;a._state===ne&&(n._remaining--,e===se?D(a,i):n._result[t]=i),0===n._remaining&&E(a,n._result)},O.prototype._willSettleAt=function(e,t){var i=this;P(e,void 0,function(e){i._settledAt(ae,t,e)},function(e){i._settledAt(se,t,e)})};var ce=R,ue=L,de=$,he=F,pe=0,fe=H;H.all=ce,H.race=ue,H.resolve=de,H.reject=he,H._setScheduler=l,H._setAsap=c,H._asap=K,H.prototype={constructor:H,then:function(e,t){var i=this,n=i._state;if(n===ae&&!e||n===se&&!t)return this;var a=new this.constructor(v),s=i._result;if(n){var o=arguments[n-1];K(function(){N(n,a,o,s)})}else P(i,a,e,t);return a},"catch":function(e){return this.then(null,e)}};var me=W,ge={Promise:fe,polyfill:me};"function"==typeof e&&e.amd?e(function(){return ge}):"undefined"!=typeof i&&i.exports?i.exports=ge:"undefined"!=typeof this&&(this.ES6Promise=ge),me()}).call(this)}).call(this,t(2),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],10:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],11:[function(e,t){var i=e(14),n=e(18),a=e(30),s=a(i,n);t.exports=s},{14:14,18:18,30:30}],12:[function(e,t){function i(e,t){if("function"!=typeof e)throw new TypeError(n);return t=a(void 0===t?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,s=a(i.length-t,0),o=Array(s);++n<s;)o[n]=i[t+n];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,i[0],o);case 2:return e.call(this,i[0],i[1],o)}var r=Array(t+1);for(n=-1;++n<t;)r[n]=i[n];return r[t]=o,e.apply(this,r)}}var n="Expected a function",a=Math.max;t.exports=i},{}],13:[function(e,t){function i(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}t.exports=i},{}],14:[function(e,t){function i(e,t){for(var i=-1,n=e.length;++i<n&&t(e[i],i,e)!==!1;);return e}t.exports=i},{}],15:[function(e,t){function i(e,t){return null==t?e:n(t,a(t),e)}var n=e(17),a=e(53);t.exports=i},{17:17,53:53}],16:[function(e,t){function i(e,t,p,f,m,g,y){var b;if(p&&(b=m?p(e,f,m):p(e)),void 0!==b)return b;if(!d(e))return e;var _=u(e);if(_){if(b=r(e),!t)return n(e,b)}else{var x=L.call(e),C=x==v;if(x!=w&&x!=h&&(!C||m))return O[x]?l(e,x,t):m?e:{};if(b=c(C?{}:e),!t)return s(b,e)}g||(g=[]),y||(y=[]);for(var T=g.length;T--;)if(g[T]==e)return y[T];return g.push(e),y.push(b),(_?a:o)(e,function(n,a){b[a]=i(n,t,p,a,e,g,y)}),b}var n=e(13),a=e(14),s=e(15),o=e(21),r=e(33),l=e(34),c=e(35),u=e(46),d=e(49),h="[object Arguments]",p="[object Array]",f="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Function]",y="[object Map]",b="[object Number]",w="[object Object]",_="[object RegExp]",x="[object Set]",C="[object String]",T="[object WeakMap]",S="[object ArrayBuffer]",k="[object Float32Array]",E="[object Float64Array]",D="[object Int8Array]",P="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",O={};O[h]=O[p]=O[S]=O[f]=O[m]=O[k]=O[E]=O[D]=O[P]=O[A]=O[b]=O[w]=O[_]=O[C]=O[I]=O[M]=O[N]=O[j]=!0,O[g]=O[v]=O[y]=O[x]=O[T]=!1;var R=Object.prototype,L=R.toString;t.exports=i},{13:13,14:14,15:15,21:21,33:33,34:34,35:35,46:46,49:49}],17:[function(e,t){function i(e,t,i){i||(i={});for(var n=-1,a=t.length;++n<a;){var s=t[n];i[s]=e[s]}return i}t.exports=i},{}],18:[function(e,t){var i=e(21),n=e(28),a=n(i);t.exports=a},{21:21,28:28}],19:[function(e,t){var i=e(29),n=i();t.exports=n},{29:29}],20:[function(e,t){function i(e,t){return n(e,t,a)}var n=e(19),a=e(54);t.exports=i},{19:19,54:54}],21:[function(e,t){function i(e,t){return n(e,t,a)}var n=e(19),a=e(53);t.exports=i},{19:19,53:53}],22:[function(e,t){function i(e,t,d,h,p){if(!r(e))return e;var f=o(t)&&(s(t)||c(t)),m=f?void 0:u(t);return n(m||t,function(n,s){if(m&&(s=n,n=t[s]),l(n))h||(h=[]),p||(p=[]),a(e,t,s,i,d,h,p);else{var o=e[s],r=d?d(o,n,s,e,t):void 0,c=void 0===r;c&&(r=n),void 0===r&&(!f||s in e)||!c&&(r===r?r===o:o!==o)||(e[s]=r)}}),e}var n=e(14),a=e(23),s=e(46),o=e(36),r=e(49),l=e(40),c=e(51),u=e(53);t.exports=i},{14:14,23:23,36:36,40:40,46:46,49:49,51:51,53:53}],23:[function(e,t){function i(e,t,i,u,d,h,p){for(var f=h.length,m=t[i];f--;)if(h[f]==m)return void(e[i]=p[f]);var g=e[i],v=d?d(g,m,i,e,t):void 0,y=void 0===v;y&&(v=m,o(m)&&(s(m)||l(m))?v=s(g)?g:o(g)?n(g):[]:r(m)||a(m)?v=a(g)?c(g):r(g)?g:{}:y=!1),h.push(m),p.push(v),y?e[i]=u(v,m,d,h,p):(v===v?v!==g:g===g)&&(e[i]=v)}var n=e(13),a=e(45),s=e(46),o=e(36),r=e(50),l=e(51),c=e(52);t.exports=i},{13:13,36:36,45:45,46:46,50:50,51:51,52:52}],24:[function(e,t){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i},{}],25:[function(e,t){function i(e,t,i){if("function"!=typeof e)return n;if(void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,a){return e.call(t,i,n,a)};case 4:return function(i,n,a,s){return e.call(t,i,n,a,s)};case 5:return function(i,n,a,s,o){return e.call(t,i,n,a,s,o)}}return function(){return e.apply(t,arguments)}}var n=e(56);t.exports=i},{56:56}],26:[function(e,t){(function(e){function i(e){var t=new n(e.byteLength),i=new a(t);return i.set(new a(e)),t}var n=e.ArrayBuffer,a=e.Uint8Array;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t){function i(e){return s(function(t,i){var s=-1,o=null==t?0:i.length,r=o>2?i[o-2]:void 0,l=o>2?i[2]:void 0,c=o>1?i[o-1]:void 0;for("function"==typeof r?(r=n(r,c,5),o-=2):(r="function"==typeof c?c:void 0,o-=r?1:0),l&&a(i[0],i[1],l)&&(r=3>o?void 0:r,o=1);++s<o;){var u=i[s];u&&e(t,u,r)}return t})}var n=e(25),a=e(38),s=e(12);t.exports=i},{12:12,25:25,38:38}],28:[function(e,t){function i(e,t){return function(i,o){var r=i?n(i):0;if(!a(r))return e(i,o);for(var l=t?r:-1,c=s(i);(t?l--:++l<r)&&o(c[l],l,c)!==!1;);return i}}var n=e(31),a=e(39),s=e(42);t.exports=i},{31:31,39:39,42:42}],29:[function(e,t){function i(e){return function(t,i,a){for(var s=n(t),o=a(t),r=o.length,l=e?r:-1;e?l--:++l<r;){var c=o[l];if(i(s[c],c,s)===!1)break}return t}}var n=e(42);t.exports=i},{42:42}],30:[function(e,t){function i(e,t){return function(i,s,o){return"function"==typeof s&&void 0===o&&a(i)?e(i,s):t(i,n(s,o,3))}}var n=e(25),a=e(46);t.exports=i},{25:25,46:46}],31:[function(e,t){var i=e(24),n=i("length");t.exports=n},{24:24}],32:[function(e,t){function i(e,t){var i=null==e?void 0:e[t];return n(i)?i:void 0}var n=e(48);t.exports=i},{48:48}],33:[function(e,t){function i(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&a.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var n=Object.prototype,a=n.hasOwnProperty;t.exports=i},{}],34:[function(e,t){function i(e,t,i){var w=e.constructor;switch(t){case c:return n(e);case a:case s:return new w(+e);case u:case d:case h:case p:case f:case m:case g:case v:case y:var _=e.buffer;return new w(i?n(_):_,e.byteOffset,e.length);case o:case l:return new w(e);case r:var x=new w(e.source,b.exec(e));x.lastIndex=e.lastIndex}return x}var n=e(26),a="[object Boolean]",s="[object Date]",o="[object Number]",r="[object RegExp]",l="[object String]",c="[object ArrayBuffer]",u="[object Float32Array]",d="[object Float64Array]",h="[object Int8Array]",p="[object Int16Array]",f="[object Int32Array]",m="[object Uint8Array]",g="[object Uint8ClampedArray]",v="[object Uint16Array]",y="[object Uint32Array]",b=/\w*$/;t.exports=i},{26:26}],35:[function(e,t){function i(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}t.exports=i},{}],36:[function(e,t){function i(e){return null!=e&&a(n(e))}var n=e(31),a=e(39);t.exports=i},{31:31,39:39}],37:[function(e,t){function i(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?a:t,e>-1&&e%1==0&&t>e}var n=/^\d+$/,a=9007199254740991;t.exports=i},{}],38:[function(e,t){function i(e,t,i){if(!s(i))return!1;var o=typeof t;if("number"==o?n(i)&&a(t,i.length):"string"==o&&t in i){var r=i[t];return e===e?e===r:r!==r}return!1}var n=e(36),a=e(37),s=e(49);t.exports=i},{36:36,37:37,49:49}],39:[function(e,t){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;t.exports=i},{}],40:[function(e,t){function i(e){return!!e&&"object"==typeof e}t.exports=i},{}],41:[function(e,t){function i(e){for(var t=r(e),i=t.length,l=i&&e.length,u=!!l&&o(l)&&(a(e)||n(e)),d=-1,h=[];++d<i;){var p=t[d];(u&&s(p,l)||c.call(e,p))&&h.push(p)}return h}var n=e(45),a=e(46),s=e(37),o=e(39),r=e(54),l=Object.prototype,c=l.hasOwnProperty;t.exports=i},{37:37,39:39,45:45,46:46,54:54}],42:[function(e,t){function i(e){return n(e)?e:Object(e)}var n=e(49);t.exports=i},{49:49}],43:[function(e,t){function i(e,t,i,o){return t&&"boolean"!=typeof t&&s(e,t,i)?t=!1:"function"==typeof t&&(o=i,i=t,t=!1),"function"==typeof i?n(e,t,a(i,o,3)):n(e,t)}var n=e(16),a=e(25),s=e(38);t.exports=i},{16:16,25:25,38:38}],44:[function(e,t){function i(e,t,i){return"function"==typeof t?n(e,!0,a(t,i,3)):n(e,!0)}var n=e(16),a=e(25);t.exports=i},{16:16,25:25}],45:[function(e,t){function i(e){return a(e)&&n(e)&&o.call(e,"callee")&&!r.call(e,"callee")}var n=e(36),a=e(40),s=Object.prototype,o=s.hasOwnProperty,r=s.propertyIsEnumerable;t.exports=i},{36:36,40:40}],46:[function(e,t){var i=e(32),n=e(39),a=e(40),s="[object Array]",o=Object.prototype,r=o.toString,l=i(Array,"isArray"),c=l||function(e){return a(e)&&n(e.length)&&r.call(e)==s};t.exports=c},{32:32,39:39,40:40}],47:[function(e,t){function i(e){return n(e)&&o.call(e)==a}var n=e(49),a="[object Function]",s=Object.prototype,o=s.toString;t.exports=i},{49:49}],48:[function(e,t){function i(e){return null==e?!1:n(e)?c.test(r.call(e)):a(e)&&s.test(e)}var n=e(47),a=e(40),s=/^\[object .+?Constructor\]$/,o=Object.prototype,r=Function.prototype.toString,l=o.hasOwnProperty,c=RegExp("^"+r.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{40:40,47:47}],49:[function(e,t){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=i},{}],50:[function(e,t){function i(e){var t;if(!s(e)||c.call(e)!=o||a(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return n(e,function(e,t){i=t}),void 0===i||l.call(e,i)}var n=e(20),a=e(45),s=e(40),o="[object Object]",r=Object.prototype,l=r.hasOwnProperty,c=r.toString;t.exports=i},{20:20,40:40,45:45}],51:[function(e,t){function i(e){return a(e)&&n(e.length)&&!!D[A.call(e)]}var n=e(39),a=e(40),s="[object Arguments]",o="[object Array]",r="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",f="[object RegExp]",m="[object Set]",g="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",D={};D[b]=D[w]=D[_]=D[x]=D[C]=D[T]=D[S]=D[k]=D[E]=!0,D[s]=D[o]=D[y]=D[r]=D[l]=D[c]=D[u]=D[d]=D[h]=D[p]=D[f]=D[m]=D[g]=D[v]=!1;var P=Object.prototype,A=P.toString;t.exports=i},{39:39,40:40}],52:[function(e,t){function i(e){return n(e,a(e))}var n=e(17),a=e(54);t.exports=i},{17:17,54:54}],53:[function(e,t){var i=e(32),n=e(36),a=e(49),s=e(41),o=i(Object,"keys"),r=o?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n(e)?s(e):a(e)?o(e):[]}:s;t.exports=r},{32:32,36:36,41:41,49:49}],54:[function(e,t){function i(e){if(null==e)return[];r(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(a(e)||n(e))&&t||0;for(var i=e.constructor,l=-1,u="function"==typeof i&&i.prototype===e,d=Array(t),h=t>0;++l<t;)d[l]=l+"";for(var p in e)h&&s(p,t)||"constructor"==p&&(u||!c.call(e,p))||d.push(p);return d}var n=e(45),a=e(46),s=e(37),o=e(39),r=e(49),l=Object.prototype,c=l.hasOwnProperty;t.exports=i},{37:37,39:39,45:45,46:46,49:49}],55:[function(e,t){var i=e(22),n=e(27),a=n(i);t.exports=a},{22:22,27:27}],56:[function(e,t){function i(e){return e}t.exports=i},{}],57:[function(e,t){"use strict";function i(t,i,s){var o=e(6)("algoliasearch"),r=e(43),l=e(46),c="Usage: algoliasearch(applicationID, apiKey, opts)";if(!t)throw new h.AlgoliaSearchError("Please provide an application ID. "+c);if(!i)throw new h.AlgoliaSearchError("Please provide an API key. "+c);this.applicationID=t,this.apiKey=i;var u=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]},this.hostIndex={read:0,write:0},s=s||{};var d=s.protocol||"https:",p=void 0===s.timeout?2e3:s.timeout;if(/:$/.test(d)||(d+=":"),"http:"!==s.protocol&&"https:"!==s.protocol)throw new h.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+s.protocol+"`)");s.hosts?l(s.hosts)?(this.hosts.read=r(s.hosts),this.hosts.write=r(s.hosts)):(this.hosts.read=r(s.hosts.read),this.hosts.write=r(s.hosts.write)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(u),this.hosts.write=[this.applicationID+".algolia.net"].concat(u)),this.hosts.read=n(this.hosts.read,a(d)),this.hosts.write=n(this.hosts.write,a(d)),this.requestTimeout=p,this.extraHeaders=[],this.cache={},this._ua=s._ua,this._useCache=void 0===s._useCache?!0:s._useCache,this._setTimeout=s._setTimeout,o("init done, %j",this)}function n(e,t){for(var i=[],n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e){return function(t){return e+"//"+t.toLowerCase()}}function s(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new h.AlgoliaSearchError(e)}function o(e,t){var i=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+i}function r(e,t){t(e,0)}function l(e,t){function i(){return n||(console.log(t),n=!0),e.apply(this,arguments)}var n=!1;return i}function c(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var i=JSON.stringify(e);return Array.prototype.toJSON=t,i}function u(e){return function(t,i,n){if("function"==typeof t&&"object"==typeof i||"object"==typeof n)throw new h.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof t?(n=t,t=""):(1===arguments.length||"function"==typeof i)&&(n=i,i=void 0),"object"==typeof t&&null!==t?(i=t,t=void 0):(void 0===t||null===t)&&(t="");var a="";return void 0!==t&&(a+=e+"="+encodeURIComponent(t)),void 0!==i&&(a=this.as._getSearchParams(i,a)),this._search(a,n)}}t.exports=i;var d=d||void 0;d&&d.env,1;var h=e(63);i.prototype={deleteIndex:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},moveIndex:function(e,t,i){var n={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:i})},copyIndex:function(e,t,i){var n={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:i})},getLogs:function(e,t,i){return 0===arguments.length||"function"==typeof e?(i=e,e=0,t=10):(1===arguments.length||"function"==typeof t)&&(i=t,t=10),this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+t,hostType:"read",callback:i})},listIndexes:function(e,t){var i="";return void 0===e||"function"==typeof e?t=e:i="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+i,hostType:"read",callback:t})},initIndex:function(e){return new this.Index(this,e)},listUserKeys:function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,i,n){var a=e(46),s="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!a(t))throw new Error(s);(1===arguments.length||"function"==typeof i)&&(n=i,i=null);var o={acl:t};return i&&(o.validity=i.validity,o.maxQueriesPerIPPerHour=i.maxQueriesPerIPPerHour,o.maxHitsPerQuery=i.maxHitsPerQuery,o.indexes=i.indexes,o.description=i.description,i.queryParameters&&(o.queryParameters=this._getSearchParams(i.queryParameters,"")),o.referers=i.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:o,hostType:"write",callback:n})},addUserKeyWithValidity:l(function(e,t,i){return this.addUserKey(e,t,i)},o("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(t,i,n,a){var s=e(46),o="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!s(i))throw new Error(o);(2===arguments.length||"function"==typeof n)&&(a=n,n=null);var r={acl:i};return n&&(r.validity=n.validity,r.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,r.maxHitsPerQuery=n.maxHitsPerQuery,r.indexes=n.indexes,r.description=n.description,n.queryParameters&&(r.queryParameters=this._getSearchParams(n.queryParameters,"")),r.referers=n.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:r,hostType:"write",callback:a})},setSecurityTags:function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],i=0;i<e.length;++i)if("[object Array]"===Object.prototype.toString.call(e[i])){for(var n=[],a=0;a<e[i].length;++a)n.push(e[i][a]);t.push("("+n.join(",")+")")}else t.push(e[i]);e=t.join(",")}this.securityTags=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:l(function(){this._batch=[]},o("client.startQueriesBatch()","client.search()")),addQueryInBatch:l(function(e,t,i){this._batch.push({indexName:e,query:t,params:i})},o("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:l(function(e){return this.search(this._batch,e)},o("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(e){e&&(this.requestTimeout=parseInt(e,10))},search:function(t,i){var a=e(46),s="Usage: client.search(arrayOfQueries[, callback])";if(!a(t))throw new Error(s);var o=this,r={requests:n(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:o._getSearchParams(e.params,t)}})};return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:r,hostType:"read",callback:i})},batch:function(t,i){var n=e(46),a="Usage: client.batch(operations[, callback])";if(!n(t))throw new Error(a);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:i})},destroy:s,enableRateLimitForward:s,disableRateLimitForward:s,useSecuredAPIKey:s,disableSecuredAPIKey:s,generateSecuredApiKey:s,Index:function(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}},setExtraHeader:function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},addAlgoliaAgent:function(e){this._ua+=";"+e},_sendQueriesBatch:function(e,t){function i(){for(var t="",i=0;i<e.requests.length;++i){var n="/1/indexes/"+encodeURIComponent(e.requests[i].indexName)+"?"+e.requests[i].params;t+=i+"="+encodeURIComponent(n)+"&"}return t}return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:i()}},callback:t})},_jsonRequest:function(t){function i(e,r){function p(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;a("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers),d&&d.env.DEBUG&&-1!==d.env.DEBUG.indexOf("debugBody")&&a("body: %j",e.body);var i=200===t||201===t,n=!i&&4!==Math.floor(t/100)&&1!==Math.floor(t/100);if(o._useCache&&i&&s&&(s[g]=e.responseText),i)return e.body;if(n)return l+=1,m();var r=new h.AlgoliaSearchError(e.body&&e.body.message);return o._promise.reject(r)}function f(n){return a("error: %s, stack: %s",n.message,n.stack),n instanceof h.AlgoliaSearchError||(n=new h.Unknown(n&&n.message,n)),l+=1,n instanceof h.Unknown||n instanceof h.UnparsableJSON||l>=o.hosts[t.hostType].length&&(u||!t.fallback||!o._request.fallback)?o._promise.reject(n):(o.hostIndex[t.hostType]=++o.hostIndex[t.hostType]%o.hosts[t.hostType].length,n instanceof h.RequestTimeout?m():(o._request.fallback&&!o.useFallback&&(o.useFallback=!0),i(e,r)))}function m(){return o.hostIndex[t.hostType]=++o.hostIndex[t.hostType]%o.hosts[t.hostType].length,r.timeout=o.requestTimeout*(l+1),i(e,r)}var g;if(o._useCache&&(g=t.url),o._useCache&&n&&(g+="_body_"+r.body),o._useCache&&s&&void 0!==s[g])return a("serving response from cache"),o._promise.resolve(JSON.parse(s[g]));if(l>=o.hosts[t.hostType].length||o.useFallback&&!u)return t.fallback&&o._request.fallback&&!u?(a("switching to fallback"),l=0,r.method=t.fallback.method,r.url=t.fallback.url,r.jsonBody=t.fallback.body,r.jsonBody&&(r.body=c(r.jsonBody)),r.timeout=o.requestTimeout*(l+1),o.hostIndex[t.hostType]=0,u=!0,i(o._request.fallback,r)):(a("could not get any response"),o._promise.reject(new h.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+o.applicationID)));var v=o.hosts[t.hostType][o.hostIndex[t.hostType]]+r.url,y={body:n,jsonBody:t.body,method:r.method,headers:o._computeRequestHeaders(),timeout:r.timeout,debug:a};return a("method: %s, url: %s, headers: %j, timeout: %d",y.method,v,y.headers,y.timeout),e===o._request.fallback&&a("using fallback"),e.call(o,v,y).then(p,f)}var n,a=e(6)("algoliasearch:"+t.url),s=t.cache,o=this,l=0,u=!1;void 0!==t.body&&(n=c(t.body)),a("request start");var p=o.useFallback&&t.fallback,f=p?t.fallback:t,m=i(p?o._request.fallback:o._request,{url:f.url,method:f.method,body:n,jsonBody:t.body,timeout:o.requestTimeout*(l+1)});return t.callback?void m.then(function(e){r(function(){t.callback(null,e)},o._setTimeout||setTimeout)},function(e){r(function(){t.callback(e)},o._setTimeout||setTimeout)}):m},_getSearchParams:function(e,t){if(this._isUndefined(e)||null===e)return t;for(var i in e)null!==i&&void 0!==e[i]&&e.hasOwnProperty(i)&&(t+=""===t?"":"&",t+=i+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[i])?c(e[i]):e[i]));return t},_isUndefined:function(e){return void 0===e},_computeRequestHeaders:function(){var t=e(11),i={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,"x-algolia-agent":this._ua};return this.userToken&&(i["x-algolia-usertoken"]=this.userToken),this.securityTags&&(i["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&t(this.extraHeaders,function(e){i[e.name]=e.value}),i}},i.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(e,t,i){var n=this;return(1===arguments.length||"function"==typeof t)&&(i=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:i})},addObjects:function(t,i){var n=e(46),a="Usage: index.addObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(a);for(var s=this,o={requests:[]},r=0;r<t.length;++r){var l={action:"addObject",body:t[r]};o.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:o,hostType:"write",callback:i})},getObject:function(e,t,i){var n=this;(1===arguments.length||"function"==typeof t)&&(i=t,t=void 0);var a="";if(void 0!==t){a="?attributes=";for(var s=0;s<t.length;++s)0!==s&&(a+=","),a+=t[s]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e)+a,hostType:"read",callback:i})},getObjects:function(t,i,a){var s=e(46),o="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!s(t))throw new Error(o);var r=this;(1===arguments.length||"function"==typeof i)&&(a=i,i=void 0);var l={requests:n(t,function(e){var t={indexName:r.indexName,objectID:e};return i&&(t.attributesToRetrieve=i.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:l,callback:a})},partialUpdateObject:function(e,t){var i=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial",body:e,hostType:"write",callback:t})},partialUpdateObjects:function(t,i){var n=e(46),a="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(a);for(var s=this,o={requests:[]},r=0;r<t.length;++r){var l={action:"partialUpdateObject",objectID:t[r].objectID,body:t[r]};o.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:o,hostType:"write",callback:i})},saveObject:function(e,t){var i=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},saveObjects:function(t,i){var n=e(46),a="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(a);for(var s=this,o={requests:[]},r=0;r<t.length;++r){var l={action:"updateObject",objectID:t[r].objectID,body:t[r]};o.requests.push(l)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:o,hostType:"write",callback:i})},deleteObject:function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var i=new h.AlgoliaSearchError("Cannot delete an object without an objectID");return t=e,"function"==typeof t?t(i):this.as._promise.reject(i)}var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},deleteObjects:function(t,i){var a=e(46),s="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!a(t))throw new Error(s);var o=this,r={requests:n(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/batch",body:r,hostType:"write",callback:i})},deleteByQuery:function(t,i,a){function s(e){if(0===e.nbHits)return e;var t=n(e.hits,function(e){return e.objectID});return h.deleteObjects(t).then(o).then(l)}function o(e){return h.waitTask(e.taskID)}function l(){return h.deleteByQuery(t,i)}function c(){r(function(){a(null)},p._setTimeout||setTimeout)}function u(e){r(function(){a(e)},p._setTimeout||setTimeout)}var d=e(43),h=this,p=h.as;1===arguments.length||"function"==typeof i?(a=i,i={}):i=d(i),i.attributesToRetrieve="objectID",i.hitsPerPage=1e3,i.distinct=!1,this.clearCache();var f=this.search(t,i).then(s);return a?void f.then(c,u):f},search:u("query"),similarSearch:u("similarQuery"),browse:function(t,i,n){var a,s,o=e(55),r=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(a=0,n=arguments[0],t=void 0):"number"==typeof arguments[0]?(a=arguments[0],"number"==typeof arguments[1]?s=arguments[1]:"function"==typeof arguments[1]&&(n=arguments[1],s=void 0),t=void 0,i=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(n=arguments[1]),i=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(n=arguments[1],i=void 0),i=o({},i||{},{page:a,hitsPerPage:s,query:t});var l=this.as._getSearchParams(i,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/browse?"+l,hostType:"read",callback:n})},browseFrom:function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},browseAll:function(t,i){function n(e){if(!r._stopped){var t;t=void 0!==e?"cursor="+encodeURIComponent(e):u,l._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/browse?"+t,hostType:"read",callback:a})}}function a(e,t){return r._stopped?void 0:e?void r._error(e):(r._result(t),void 0===t.cursor?void r._end():void n(t.cursor))}"object"==typeof t&&(i=t,t=void 0);var s=e(55),o=e(58),r=new o,l=this.as,c=this,u=l._getSearchParams(s({},i||{},{query:t}),"");return n(),r},ttAdapter:function(e){var t=this;return function(i,n,a){var s;s="function"==typeof a?a:n,t.search(i,e,function(e,t){return e?void s(e):void s(t.hits)})}},waitTask:function(e,t){function i(){return u._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/task/"+e}).then(function(e){l++;var t=s*l*l;return t>o&&(t=o),"published"!==e.status?u._promise.delay(t).then(i):e})}function n(e){r(function(){t(null,e)},u._setTimeout||setTimeout)}function a(e){r(function(){t(e)},u._setTimeout||setTimeout)}var s=100,o=5e3,l=0,c=this,u=c.as,d=i();return t?void d.then(n,a):d},clearIndex:function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},getSettings:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings",hostType:"read",callback:e})},setSettings:function(e,t){var i=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/settings",hostType:"write",body:e,callback:t})},listUserKeys:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){var i=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){var i=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,i,n){var a=e(46),s="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!a(t))throw new Error(s);(1===arguments.length||"function"==typeof i)&&(n=i,i=null);var o={acl:t};return i&&(o.validity=i.validity,o.maxQueriesPerIPPerHour=i.maxQueriesPerIPPerHour,o.maxHitsPerQuery=i.maxHitsPerQuery,o.description=i.description,i.queryParameters&&(o.queryParameters=this.as._getSearchParams(i.queryParameters,"")),o.referers=i.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:o,hostType:"write",callback:n})},addUserKeyWithValidity:l(function(e,t,i){return this.addUserKey(e,t,i)},o("index.addUserKeyWithValidity()","index.addUserKey()")),updateUserKey:function(t,i,n,a){var s=e(46),o="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!s(i))throw new Error(o);(2===arguments.length||"function"==typeof n)&&(a=n,n=null);var r={acl:i};return n&&(r.validity=n.validity,r.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,r.maxHitsPerQuery=n.maxHitsPerQuery,r.description=n.description,n.queryParameters&&(r.queryParameters=this.as._getSearchParams(n.queryParameters,"")),r.referers=n.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:r,hostType:"write",callback:a})},_search:function(e,t){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:t})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}},{11:11,43:43,46:46,55:55,58:58,6:6,63:63}],58:[function(e,t){"use strict";
function i(){}t.exports=i;var n=e(10),a=e(1).EventEmitter;n(i,a),i.prototype.stop=function(){this._stopped=!0,this._clean()},i.prototype._end=function(){this.emit("end"),this._clean()},i.prototype._error=function(e){this.emit("error",e),this._clean()},i.prototype._result=function(e){this.emit("result",e)},i.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{1:1,10:10}],59:[function(e,t){"use strict";function i(t,a,s){var o=e(44),r=e(60);return s=o(s||{}),void 0===s.protocol&&(s.protocol=r()),s._ua=s._ua||i.ua,new n(t,a,s)}function n(){o.apply(this,arguments)}t.exports=i;var a=e(10),s=window.Promise||e(9).Promise,o=e(57),r=e(63),l=e(61),c=e(62);i.version=e(64),i.ua="Algolia for vanilla JavaScript "+i.version,window.__algolia={debug:e(6),algoliasearch:i};var u={hasXMLHttpRequest:"XMLHttpRequest"in window,hasXDomainRequest:"XDomainRequest"in window,cors:"withCredentials"in new XMLHttpRequest,timeout:"timeout"in new XMLHttpRequest};a(n,o),n.prototype._request=function(e,t){return new s(function(i,n){function a(){if(!d){u.timeout||clearTimeout(c);var e;try{e={body:JSON.parse(p.responseText),responseText:p.responseText,statusCode:p.status,headers:p.getAllResponseHeaders&&p.getAllResponseHeaders()||{}}}catch(t){e=new r.UnparsableJSON({more:p.responseText})}e instanceof r.UnparsableJSON?n(e):i(e)}}function s(e){d||(u.timeout||clearTimeout(c),n(new r.Network({more:e})))}function o(){u.timeout||(d=!0,p.abort()),n(new r.RequestTimeout)}if(!u.cors&&!u.hasXDomainRequest)return void n(new r.Network("CORS not supported"));e=l(e,t.headers);var c,d,h=t.body,p=u.cors?new XMLHttpRequest:new XDomainRequest;p instanceof XMLHttpRequest?p.open(t.method,e,!0):p.open(t.method,e),u.cors&&(h&&("POST"===t.method?p.setRequestHeader("content-type","application/x-www-form-urlencoded"):p.setRequestHeader("content-type","application/json")),p.setRequestHeader("accept","application/json")),p.onprogress=function(){},p.onload=a,p.onerror=s,u.timeout?(p.timeout=t.timeout,p.ontimeout=o):c=setTimeout(o,t.timeout),p.send(h)})},n.prototype._request.fallback=function(e,t){return e=l(e,t.headers),new s(function(i,n){c(e,t,function(e,t){return e?void n(e):void i(t)})})},n.prototype._promise={reject:function(e){return s.reject(e)},resolve:function(e){return s.resolve(e)},delay:function(e){return new s(function(t){setTimeout(t,e)})}}},{10:10,44:44,57:57,6:6,60:60,61:61,62:62,63:63,64:64,9:9}],60:[function(e,t){"use strict";function i(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=i},{}],61:[function(e,t){"use strict";function i(e,t){return e+=/\?/.test(e)?"&":"?",e+n.encode(t)}t.exports=i;var n=e(5)},{5:5}],62:[function(e,t){"use strict";function i(e,t,i){function s(){t.debug("JSONP: success"),m||d||(m=!0,u||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),r(),i(new n.JSONPScriptFail)))}function o(){("loaded"===this.readyState||"complete"===this.readyState)&&s()}function r(){clearTimeout(g),p.onload=null,p.onreadystatechange=null,p.onerror=null,h.removeChild(p);try{delete window[f],delete window[f+"_loaded"]}catch(e){window[f]=null,window[f+"_loaded"]=null}}function l(){t.debug("JSONP: Script timeout"),d=!0,r(),i(new n.RequestTimeout)}function c(){t.debug("JSONP: Script error"),m||d||(r(),i(new n.JSONPScriptError))}if("GET"!==t.method)return void i(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var u=!1,d=!1;a+=1;var h=document.getElementsByTagName("head")[0],p=document.createElement("script"),f="algoliaJSONP_"+a,m=!1;window[f]=function(e){try{delete window[f]}catch(t){window[f]=void 0}d||(u=!0,r(),i(null,{body:e}))},e+="&callback="+f,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var g=setTimeout(l,t.timeout);p.onreadystatechange=o,p.onload=s,p.onerror=c,p.async=!0,p.defer=!0,p.src=e,h.appendChild(p)}t.exports=i;var n=e(63),a=0},{63:63}],63:[function(e,t){"use strict";function i(t,i){var n=e(11),a=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):a.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name=this.constructor.name,this.message=t||"Unknown error",i&&n(i,function(e,t){a[t]=e})}function n(e,t){function n(){var n=Array.prototype.slice.call(arguments,0);"string"!=typeof n[0]&&n.unshift(t),i.apply(this,n),this.name="AlgoliaSearch"+e+"Error"}return a(n,i),n}var a=e(10);a(i,Error),t.exports={AlgoliaSearchError:i,UnparsableJSON:n("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:n("RequestTimeout","Request timedout before getting a response"),Network:n("Network","Network issue, see err.more for details"),JSONPScriptFail:n("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:n("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:n("Unknown","Unknown error occured")}},{10:10,11:11}],64:[function(e,t){"use strict";t.exports="3.9.2"},{}]},{},[59])(59)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearchHelper=e()}}(function(){return function e(t,i,n){function a(o,r){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return a(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t){"use strict";function i(e,t,i){return new n(e,t,i)}var n=e("./src/algoliasearch.helper"),a=e("./src/SearchParameters"),s=e("./src/SearchResults");i.version=e("./src/version.js"),i.AlgoliaSearchHelper=n,i.SearchParameters=a,i.SearchResults=s,i.url=e("./src/url"),t.exports=i},{"./src/SearchParameters":171,"./src/SearchResults":174,"./src/algoliasearch.helper":175,"./src/url":179,"./src/version.js":180}],2:[function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,r,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(a=arguments.length,r=new Array(a-1),l=1;a>l;l++)r[l-1]=arguments[l];i.apply(this,r)}else if(s(i)){for(a=arguments.length,r=new Array(a-1),l=1;a>l;l++)r[l-1]=arguments[l];for(c=i.slice(),a=c.length,l=0;a>l;l++)c[l].apply(this,r)}return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var a;a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,a,o,r;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],o=i.length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(r=o;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){a=r;break}if(0>a)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],3:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],4:[function(e,t){function i(){c=!1,o.length?l=o.concat(l):u=-1,l.length&&n()}function n(){if(!c){var e=setTimeout(i);c=!0;for(var t=l.length;t;){for(o=l,l=[];++u<t;)o&&o[u].run();u=-1,t=l.length}o=null,c=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var o,r=t.exports={},l=[],c=!1,u=-1;r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new a(e,t)),1!==l.length||c||setTimeout(n,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=s,r.addListener=s,r.once=s,r.off=s,r.removeListener=s,r.removeAllListeners=s,r.emit=s,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],5:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],6:[function(e,t,i){(function(t,n){function a(e,t){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(t)?n.showHidden=t:t&&i._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),l(n,e,n.depth)}function s(e,t){var i=a.styles[t];return i?"["+a.colors[i][0]+"m"+e+"["+a.colors[i][1]+"m":e}function o(e){return e}function r(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function l(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==i.inspect&&(!t.constructor||t.constructor.prototype!==t)){var a=t.inspect(n,e);return b(a)||(a=l(e,a,n)),a}var s=c(e,t);if(s)return s;var o=Object.keys(t),m=r(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),S(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(t);if(0===o.length){if(k(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(T(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return u(t)}var v="",y=!1,w=["{","}"];if(f(t)&&(y=!0,w=["[","]"]),k(t)){var _=t.name?": "+t.name:"";v=" [Function"+_+"]"}if(x(t)&&(v=" "+RegExp.prototype.toString.call(t)),T(t)&&(v=" "+Date.prototype.toUTCString.call(t)),S(t)&&(v=" "+u(t)),0===o.length&&(!y||0==t.length))return w[0]+v+w[1];if(0>n)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var C;return C=y?d(e,t,n,m,o):o.map(function(i){return h(e,t,n,m,i,y)}),e.seen.pop(),p(C,v,w)}function c(e,t){if(_(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,i,n,a){for(var s=[],o=0,r=t.length;r>o;++o)I(t,String(o))?s.push(h(e,t,i,n,String(o),!0)):s.push("");return a.forEach(function(a){a.match(/^\d+$/)||s.push(h(e,t,i,n,a,!0))}),s}function h(e,t,i,n,a,s){var o,r,c;if(c=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},c.get?r=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(r=e.stylize("[Setter]","special")),I(n,a)||(o="["+a+"]"),r||(e.seen.indexOf(c.value)<0?(r=g(i)?l(e,c.value,null):l(e,c.value,i-1),r.indexOf("\n")>-1&&(r=s?r.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+r.split("\n").map(function(e){return"   "+e}).join("\n"))):r=e.stylize("[Circular]","special")),_(o)){if(s&&a.match(/^\d+$/))return r;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+r}function p(e,t,i){var n=0,a=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function f(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function _(e){return void 0===e}function x(e){return C(e)&&"[object RegExp]"===D(e)}function C(e){return"object"==typeof e&&null!==e}function T(e){return C(e)&&"[object Date]"===D(e)}function S(e){return C(e)&&("[object Error]"===D(e)||e instanceof Error)}function k(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function D(e){return Object.prototype.toString.call(e)}function P(e){return 10>e?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;i.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(a(arguments[i]));return t.join(" ")}for(var i=1,n=arguments,s=n.length,o=String(e).replace(M,function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return e}}),r=n[i];s>i;r=n[++i])o+=g(r)||!C(r)?" "+r:" "+a(r);return o},i.deprecate=function(e,a){function s(){if(!o){if(t.throwDeprecation)throw new Error(a);t.traceDeprecation?console.trace(a):console.error(a),o=!0}return e.apply(this,arguments)}if(_(n.process))return function(){return i.deprecate(e,a).apply(this,arguments)};if(t.noDeprecation===!0)return e;var o=!1;return s};var N,j={};i.debuglog=function(e){if(_(N)&&(N=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!j[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var n=t.pid;j[e]=function(){var t=i.format.apply(i,arguments);console.error("%s %d: %s",e,n,t)}}else j[e]=function(){};return j[e]},i.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=f,i.isBoolean=m,i.isNull=g,i.isNullOrUndefined=v,i.isNumber=y,i.isString=b,i.isSymbol=w,i.isUndefined=_,i.isRegExp=x,i.isObject=C,i.isDate=T,i.isError=S,i.isFunction=k,i.isPrimitive=E,i.isBuffer=e("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",A(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(e,t){if(!t||!C(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":5,_process:4,inherits:3}],7:[function(e,t){function i(e){for(var t=-1,i=e?e.length:0,n=-1,a=[];++t<i;){var s=e[t];s&&(a[++n]=s)}return a}t.exports=i},{}],8:[function(e,t){var i=e("../internal/createFindIndex"),n=i();t.exports=n},{"../internal/createFindIndex":93}],9:[function(e,t){function i(e,t,i){var o=e?e.length:0;if(!o)return-1;if("number"==typeof i)i=0>i?s(o+i,0):i;else if(i){var r=a(e,t);return o>r&&(t===t?t===e[r]:e[r]!==e[r])?r:-1}return n(e,t,i||0)}var n=e("../internal/baseIndexOf"),a=e("../internal/binaryIndex"),s=Math.max;t.exports=i},{"../internal/baseIndexOf":55,"../internal/binaryIndex":75}],10:[function(e,t){var i=e("../internal/baseIndexOf"),n=e("../internal/cacheIndexOf"),a=e("../internal/createCache"),s=e("../internal/isArrayLike"),o=e("../function/restParam"),r=o(function(e){for(var t=e.length,o=t,r=Array(f),l=i,c=!0,u=[];o--;){var d=e[o]=s(d=e[o])?d:[];r[o]=c&&d.length>=120?a(o&&d):null}var h=e[0],p=-1,f=h?h.length:0,m=r[0];e:for(;++p<f;)if(d=h[p],(m?n(m,d):l(u,d,0))<0){for(var o=t;--o;){var g=r[o];if((g?n(g,d):l(e[o],d,0))<0)continue e}m&&m.push(d),u.push(d)}return u});t.exports=r},{"../function/restParam":26,"../internal/baseIndexOf":55,"../internal/cacheIndexOf":78,"../internal/createCache":89,"../internal/isArrayLike":111}],11:[function(e,t){function i(e){var t=e?e.length:0;return t?e[t-1]:void 0}t.exports=i},{}],12:[function(e,t){function i(e){if(r(e)&&!o(e)&&!(e instanceof n)){if(e instanceof a)return e;if(u.call(e,"__chain__")&&u.call(e,"__wrapped__"))return l(e)}return new a(e)}var n=e("../internal/LazyWrapper"),a=e("../internal/LodashWrapper"),s=e("../internal/baseLodash"),o=e("../lang/isArray"),r=e("../internal/isObjectLike"),l=e("../internal/wrapperClone"),c=Object.prototype,u=c.hasOwnProperty;i.prototype=s.prototype,t.exports=i},{"../internal/LazyWrapper":27,"../internal/LodashWrapper":28,"../internal/baseLodash":59,"../internal/isObjectLike":117,"../internal/wrapperClone":134,"../lang/isArray":136}],13:[function(e,t){function i(e,t,i){var r=o(e)?n:s;return t=a(t,i,3),r(e,t)}var n=e("../internal/arrayFilter"),a=e("../internal/baseCallback"),s=e("../internal/baseFilter"),o=e("../lang/isArray");t.exports=i},{"../internal/arrayFilter":32,"../internal/baseCallback":41,"../internal/baseFilter":47,"../lang/isArray":136}],14:[function(e,t){var i=e("../internal/baseEach"),n=e("../internal/createFind"),a=n(i);t.exports=a},{"../internal/baseEach":46,"../internal/createFind":92}],15:[function(e,t){var i=e("../internal/arrayEach"),n=e("../internal/baseEach"),a=e("../internal/createForEach"),s=a(i,n);t.exports=s},{"../internal/arrayEach":31,"../internal/baseEach":46,"../internal/createForEach":94}],16:[function(e,t){function i(e,t,i,d){var h=e?a(e):0;return r(h)||(e=c(e),h=e.length),i="number"!=typeof i||d&&o(t,i,d)?0:0>i?u(h+i,0):i||0,"string"==typeof e||!s(e)&&l(e)?h>=i&&e.indexOf(t,i)>-1:!!h&&n(e,t,i)>-1}var n=e("../internal/baseIndexOf"),a=e("../internal/getLength"),s=e("../lang/isArray"),o=e("../internal/isIterateeCall"),r=e("../internal/isLength"),l=e("../lang/isString"),c=e("../object/values"),u=Math.max;t.exports=i},{"../internal/baseIndexOf":55,"../internal/getLength":107,"../internal/isIterateeCall":113,"../internal/isLength":116,"../lang/isArray":136,"../lang/isString":143,"../object/values":160}],17:[function(e,t){function i(e,t,i){var r=o(e)?n:s;return t=a(t,i,3),r(e,t)}var n=e("../internal/arrayMap"),a=e("../internal/baseCallback"),s=e("../internal/baseMap"),o=e("../lang/isArray");t.exports=i},{"../internal/arrayMap":33,"../internal/baseCallback":41,"../internal/baseMap":60,"../lang/isArray":136}],18:[function(e,t){function i(e,t){return n(e,a(t))}var n=e("./map"),a=e("../utility/property");t.exports=i},{"../utility/property":164,"./map":17}],19:[function(e,t){var i=e("../internal/arrayReduce"),n=e("../internal/baseEach"),a=e("../internal/createReduce"),s=a(i,n);t.exports=s},{"../internal/arrayReduce":35,"../internal/baseEach":46,"../internal/createReduce":100}],20:[function(e,t){function i(e,t,i,o){return null==e?[]:(o&&s(t,i,o)&&(i=void 0),a(t)||(t=null==t?[]:[t]),a(i)||(i=null==i?[]:[i]),n(e,t,i))}var n=e("../internal/baseSortByOrder"),a=e("../lang/isArray"),s=e("../internal/isIterateeCall");t.exports=i},{"../internal/baseSortByOrder":71,"../internal/isIterateeCall":113,"../lang/isArray":136}],21:[function(e,t){t.exports=e("../math/sum")},{"../math/sum":147}],22:[function(e,t){var i=e("../internal/getNative"),n=i(Date,"now"),a=n||function(){return(new Date).getTime()};t.exports=a},{"../internal/getNative":109}],23:[function(e,t){var i=e("../internal/createWrapper"),n=e("../internal/replaceHolders"),a=e("./restParam"),s=1,o=32,r=a(function(e,t,a){var l=s;if(a.length){var c=n(a,r.placeholder);l|=o}return i(e,l,t,a,c)});r.placeholder={},t.exports=r},{"../internal/createWrapper":101,"../internal/replaceHolders":126,"./restParam":26}],24:[function(e,t){var i=e("../internal/createPartial"),n=32,a=i(n);a.placeholder={},t.exports=a},{"../internal/createPartial":98}],25:[function(e,t){var i=e("../internal/createPartial"),n=64,a=i(n);a.placeholder={},t.exports=a},{"../internal/createPartial":98}],26:[function(e,t){function i(e,t){if("function"!=typeof e)throw new TypeError(n);return t=a(void 0===t?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,s=a(i.length-t,0),o=Array(s);++n<s;)o[n]=i[t+n];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,i[0],o);case 2:return e.call(this,i[0],i[1],o)}var r=Array(t+1);for(n=-1;++n<t;)r[n]=i[n];return r[t]=o,e.apply(this,r)}}var n="Expected a function",a=Math.max;t.exports=i},{}],27:[function(e,t){function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}var n=e("./baseCreate"),a=e("./baseLodash"),s=Number.POSITIVE_INFINITY;i.prototype=n(a.prototype),i.prototype.constructor=i,t.exports=i},{"./baseCreate":44,"./baseLodash":59}],28:[function(e,t){function i(e,t,i){this.__wrapped__=e,this.__actions__=i||[],this.__chain__=!!t}var n=e("./baseCreate"),a=e("./baseLodash");i.prototype=n(a.prototype),i.prototype.constructor=i,t.exports=i},{"./baseCreate":44,"./baseLodash":59}],29:[function(e,t){(function(i){function n(e){var t=e?e.length:0;for(this.data={hash:r(null),set:new o};t--;)this.push(e[t])}var a=e("./cachePush"),s=e("./getNative"),o=s(i,"Set"),r=s(Object,"create");n.prototype.push=a,t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":79,"./getNative":109}],30:[function(e,t){function i(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}t.exports=i},{}],31:[function(e,t){function i(e,t){for(var i=-1,n=e.length;++i<n&&t(e[i],i,e)!==!1;);return e}t.exports=i},{}],32:[function(e,t){function i(e,t){for(var i=-1,n=e.length,a=-1,s=[];++i<n;){var o=e[i];t(o,i,e)&&(s[++a]=o)}return s}t.exports=i},{}],33:[function(e,t){function i(e,t){for(var i=-1,n=e.length,a=Array(n);++i<n;)a[i]=t(e[i],i,e);return a}t.exports=i},{}],34:[function(e,t){function i(e,t){for(var i=-1,n=t.length,a=e.length;++i<n;)e[a+i]=t[i];return e}t.exports=i},{}],35:[function(e,t){function i(e,t,i,n){var a=-1,s=e.length;for(n&&s&&(i=e[++a]);++a<s;)i=t(i,e[a],a,e);return i}t.exports=i},{}],36:[function(e,t){function i(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}t.exports=i},{}],37:[function(e,t){function i(e,t){for(var i=e.length,n=0;i--;)n+=+t(e[i])||0;return n}t.exports=i},{}],38:[function(e,t){function i(e,t){return void 0===e?t:e}t.exports=i},{}],39:[function(e,t){function i(e,t,i){for(var a=-1,s=n(t),o=s.length;++a<o;){var r=s[a],l=e[r],c=i(l,t[r],r,e,t);(c===c?c===l:l!==l)&&(void 0!==l||r in e)||(e[r]=c)}return e}var n=e("../object/keys");t.exports=i},{"../object/keys":152}],40:[function(e,t){function i(e,t){return null==t?e:n(t,a(t),e)}var n=e("./baseCopy"),a=e("../object/keys");t.exports=i},{"../object/keys":152,"./baseCopy":43}],41:[function(e,t){function i(e,t,i){var l=typeof e;return"function"==l?void 0===t?e:s(e,t,i):null==e?o:"object"==l?n(e):void 0===t?r(e):a(e,t)}var n=e("./baseMatches"),a=e("./baseMatchesProperty"),s=e("./bindCallback"),o=e("../utility/identity"),r=e("../utility/property");t.exports=i},{"../utility/identity":162,"../utility/property":164,"./baseMatches":61,"./baseMatchesProperty":62,"./bindCallback":77}],42:[function(e,t){function i(e,t){if(e!==t){var i=null===e,n=void 0===e,a=e===e,s=null===t,o=void 0===t,r=t===t;if(e>t&&!s||!a||i&&!o&&r||n&&r)return 1;if(t>e&&!i||!r||s&&!n&&a||o&&a)return-1}return 0}t.exports=i},{}],43:[function(e,t){function i(e,t,i){i||(i={});for(var n=-1,a=t.length;++n<a;){var s=t[n];i[s]=e[s]}return i}t.exports=i},{}],44:[function(e,t){var i=e("../lang/isObject"),n=function(){function e(){}return function(t){if(i(t)){e.prototype=t;var n=new e;e.prototype=void 0}return n||{}}}();t.exports=n},{"../lang/isObject":141}],45:[function(e,t){function i(e,t){var i=e?e.length:0,r=[];if(!i)return r;var l=-1,c=n,u=!0,d=u&&t.length>=o?s(t):null,h=t.length;d&&(c=a,u=!1,t=d);e:for(;++l<i;){var p=e[l];if(u&&p===p){for(var f=h;f--;)if(t[f]===p)continue e;r.push(p)}else c(t,p,0)<0&&r.push(p)}return r}var n=e("./baseIndexOf"),a=e("./cacheIndexOf"),s=e("./createCache"),o=200;t.exports=i},{"./baseIndexOf":55,"./cacheIndexOf":78,"./createCache":89}],46:[function(e,t){var i=e("./baseForOwn"),n=e("./createBaseEach"),a=n(i);t.exports=a},{"./baseForOwn":53,"./createBaseEach":86}],47:[function(e,t){function i(e,t){var i=[];return n(e,function(e,n,a){t(e,n,a)&&i.push(e)}),i}var n=e("./baseEach");t.exports=i},{"./baseEach":46}],48:[function(e,t){function i(e,t,i,n){var a;return i(e,function(e,i,s){return t(e,i,s)?(a=n?i:e,!1):void 0}),a}t.exports=i},{}],49:[function(e,t){function i(e,t,i){for(var n=e.length,a=i?n:-1;i?a--:++a<n;)if(t(e[a],a,e))return a;return-1}t.exports=i},{}],50:[function(e,t){function i(e,t,l,c){c||(c=[]);for(var u=-1,d=e.length;++u<d;){var h=e[u];r(h)&&o(h)&&(l||s(h)||a(h))?t?i(h,t,l,c):n(c,h):l||(c[c.length]=h)}return c}var n=e("./arrayPush"),a=e("../lang/isArguments"),s=e("../lang/isArray"),o=e("./isArrayLike"),r=e("./isObjectLike");t.exports=i},{"../lang/isArguments":135,"../lang/isArray":136,"./arrayPush":34,"./isArrayLike":111,"./isObjectLike":117}],51:[function(e,t){var i=e("./createBaseFor"),n=i();t.exports=n},{"./createBaseFor":87}],52:[function(e,t){function i(e,t){return n(e,t,a)}var n=e("./baseFor"),a=e("../object/keysIn");t.exports=i},{"../object/keysIn":153,"./baseFor":51}],53:[function(e,t){function i(e,t){return n(e,t,a)}var n=e("./baseFor"),a=e("../object/keys");t.exports=i},{"../object/keys":152,"./baseFor":51}],54:[function(e,t){function i(e,t,i){if(null!=e){void 0!==i&&i in n(e)&&(t=[i]);for(var a=0,s=t.length;null!=e&&s>a;)e=e[t[a++]];return a&&a==s?e:void 0}}var n=e("./toObject");t.exports=i},{"./toObject":130}],55:[function(e,t){function i(e,t,i){if(t!==t)return n(e,i);for(var a=i-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var n=e("./indexOfNaN");t.exports=i},{"./indexOfNaN":110}],56:[function(e,t){function i(e,t,o,r,l,c){return e===t?!0:null==e||null==t||!a(e)&&!s(t)?e!==e&&t!==t:n(e,t,i,o,r,l,c)}var n=e("./baseIsEqualDeep"),a=e("../lang/isObject"),s=e("./isObjectLike");t.exports=i},{"../lang/isObject":141,"./baseIsEqualDeep":57,"./isObjectLike":117}],57:[function(e,t){function i(e,t,i,d,f,m,g){var v=o(e),y=o(t),b=c,w=c;v||(b=p.call(e),b==l?b=u:b!=u&&(v=r(e))),y||(w=p.call(t),w==l?w=u:w!=u&&(y=r(t)));var _=b==u,x=w==u,C=b==w;if(C&&!v&&!_)return a(e,t,b);if(!f){var T=_&&h.call(e,"__wrapped__"),S=x&&h.call(t,"__wrapped__");if(T||S)return i(T?e.value():e,S?t.value():t,d,f,m,g)}if(!C)return!1;m||(m=[]),g||(g=[]);for(var k=m.length;k--;)if(m[k]==e)return g[k]==t;m.push(e),g.push(t);var E=(v?n:s)(e,t,i,d,f,m,g);return m.pop(),g.pop(),E}var n=e("./equalArrays"),a=e("./equalByTag"),s=e("./equalObjects"),o=e("../lang/isArray"),r=e("../lang/isTypedArray"),l="[object Arguments]",c="[object Array]",u="[object Object]",d=Object.prototype,h=d.hasOwnProperty,p=d.toString;t.exports=i},{"../lang/isArray":136,"../lang/isTypedArray":144,"./equalArrays":102,"./equalByTag":103,"./equalObjects":104}],58:[function(e,t){function i(e,t,i){var s=t.length,o=s,r=!i;if(null==e)return!o;for(e=a(e);s--;){var l=t[s];if(r&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){l=t[s];var c=l[0],u=e[c],d=l[1];if(r&&l[2]){if(void 0===u&&!(c in e))return!1}else{var h=i?i(u,d,c):void 0;if(!(void 0===h?n(d,u,i,!0):h))return!1}}return!0}var n=e("./baseIsEqual"),a=e("./toObject");t.exports=i},{"./baseIsEqual":56,"./toObject":130}],59:[function(e,t){function i(){}t.exports=i},{}],60:[function(e,t){function i(e,t){var i=-1,s=a(e)?Array(e.length):[];return n(e,function(e,n,a){s[++i]=t(e,n,a)}),s}var n=e("./baseEach"),a=e("./isArrayLike");t.exports=i},{"./baseEach":46,"./isArrayLike":111}],61:[function(e,t){function i(e){var t=a(e);if(1==t.length&&t[0][2]){var i=t[0][0],o=t[0][1];return function(e){return null==e?!1:e[i]===o&&(void 0!==o||i in s(e))}}return function(e){return n(e,t)}}var n=e("./baseIsMatch"),a=e("./getMatchData"),s=e("./toObject");t.exports=i},{"./baseIsMatch":58,"./getMatchData":108,"./toObject":130}],62:[function(e,t){function i(e,t){var i=o(e),h=r(e)&&l(t),p=e+"";return e=d(e),function(o){if(null==o)return!1;var r=p;if(o=u(o),(i||!h)&&!(r in o)){if(o=1==e.length?o:n(o,s(e,0,-1)),null==o)return!1;r=c(e),o=u(o)}return o[r]===t?void 0!==t||r in o:a(t,o[r],void 0,!0)}}var n=e("./baseGet"),a=e("./baseIsEqual"),s=e("./baseSlice"),o=e("../lang/isArray"),r=e("./isKey"),l=e("./isStrictComparable"),c=e("../array/last"),u=e("./toObject"),d=e("./toPath");t.exports=i},{"../array/last":11,"../lang/isArray":136,"./baseGet":54,"./baseIsEqual":56,"./baseSlice":69,"./isKey":114,"./isStrictComparable":119,"./toObject":130,"./toPath":131}],63:[function(e,t){function i(e,t,d,h,p){if(!r(e))return e;var f=o(t)&&(s(t)||c(t)),m=f?void 0:u(t);return n(m||t,function(n,s){if(m&&(s=n,n=t[s]),l(n))h||(h=[]),p||(p=[]),a(e,t,s,i,d,h,p);else{var o=e[s],r=d?d(o,n,s,e,t):void 0,c=void 0===r;c&&(r=n),void 0===r&&(!f||s in e)||!c&&(r===r?r===o:o!==o)||(e[s]=r)}}),e}var n=e("./arrayEach"),a=e("./baseMergeDeep"),s=e("../lang/isArray"),o=e("./isArrayLike"),r=e("../lang/isObject"),l=e("./isObjectLike"),c=e("../lang/isTypedArray"),u=e("../object/keys");t.exports=i},{"../lang/isArray":136,"../lang/isObject":141,"../lang/isTypedArray":144,"../object/keys":152,"./arrayEach":31,"./baseMergeDeep":64,"./isArrayLike":111,"./isObjectLike":117}],64:[function(e,t){function i(e,t,i,u,d,h,p){for(var f=h.length,m=t[i];f--;)if(h[f]==m)return void(e[i]=p[f]);var g=e[i],v=d?d(g,m,i,e,t):void 0,y=void 0===v;y&&(v=m,o(m)&&(s(m)||l(m))?v=s(g)?g:o(g)?n(g):[]:r(m)||a(m)?v=a(g)?c(g):r(g)?g:{}:y=!1),h.push(m),p.push(v),y?e[i]=u(v,m,d,h,p):(v===v?v!==g:g===g)&&(e[i]=v)}var n=e("./arrayCopy"),a=e("../lang/isArguments"),s=e("../lang/isArray"),o=e("./isArrayLike"),r=e("../lang/isPlainObject"),l=e("../lang/isTypedArray"),c=e("../lang/toPlainObject");t.exports=i},{"../lang/isArguments":135,"../lang/isArray":136,"../lang/isPlainObject":142,"../lang/isTypedArray":144,"../lang/toPlainObject":146,"./arrayCopy":30,"./isArrayLike":111}],65:[function(e,t){function i(e){return function(t){return null==t?void 0:t[e]}}t.exports=i;
},{}],66:[function(e,t){function i(e){var t=e+"";return e=a(e),function(i){return n(i,e,t)}}var n=e("./baseGet"),a=e("./toPath");t.exports=i},{"./baseGet":54,"./toPath":131}],67:[function(e,t){function i(e,t,i,n,a){return a(e,function(e,a,s){i=n?(n=!1,e):t(i,e,a,s)}),i}t.exports=i},{}],68:[function(e,t){var i=e("../utility/identity"),n=e("./metaMap"),a=n?function(e,t){return n.set(e,t),e}:i;t.exports=a},{"../utility/identity":162,"./metaMap":121}],69:[function(e,t){function i(e,t,i){var n=-1,a=e.length;t=null==t?0:+t||0,0>t&&(t=-t>a?0:a+t),i=void 0===i||i>a?a:+i||0,0>i&&(i+=a),a=t>i?0:i-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}t.exports=i},{}],70:[function(e,t){function i(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}t.exports=i},{}],71:[function(e,t){function i(e,t,i){var l=-1;t=n(t,function(e){return a(e)});var c=s(e,function(e){var i=n(t,function(t){return t(e)});return{criteria:i,index:++l,value:e}});return o(c,function(e,t){return r(e,t,i)})}var n=e("./arrayMap"),a=e("./baseCallback"),s=e("./baseMap"),o=e("./baseSortBy"),r=e("./compareMultiple");t.exports=i},{"./arrayMap":33,"./baseCallback":41,"./baseMap":60,"./baseSortBy":70,"./compareMultiple":82}],72:[function(e,t){function i(e,t){var i=0;return n(e,function(e,n,a){i+=+t(e,n,a)||0}),i}var n=e("./baseEach");t.exports=i},{"./baseEach":46}],73:[function(e,t){function i(e){return null==e?"":e+""}t.exports=i},{}],74:[function(e,t){function i(e,t){for(var i=-1,n=t.length,a=Array(n);++i<n;)a[i]=e[t[i]];return a}t.exports=i},{}],75:[function(e,t){function i(e,t,i){var s=0,r=e?e.length:s;if("number"==typeof t&&t===t&&o>=r){for(;r>s;){var l=s+r>>>1,c=e[l];(i?t>=c:t>c)&&null!==c?s=l+1:r=l}return r}return n(e,t,a,i)}var n=e("./binaryIndexBy"),a=e("../utility/identity"),s=4294967295,o=s>>>1;t.exports=i},{"../utility/identity":162,"./binaryIndexBy":76}],76:[function(e,t){function i(e,t,i,s){t=i(t);for(var r=0,l=e?e.length:0,c=t!==t,u=null===t,d=void 0===t;l>r;){var h=n((r+l)/2),p=i(e[h]),f=void 0!==p,m=p===p;if(c)var g=m||s;else g=u?m&&f&&(s||null!=p):d?m&&(s||f):null==p?!1:s?t>=p:t>p;g?r=h+1:l=h}return a(l,o)}var n=Math.floor,a=Math.min,s=4294967295,o=s-1;t.exports=i},{}],77:[function(e,t){function i(e,t,i){if("function"!=typeof e)return n;if(void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,a){return e.call(t,i,n,a)};case 4:return function(i,n,a,s){return e.call(t,i,n,a,s)};case 5:return function(i,n,a,s,o){return e.call(t,i,n,a,s,o)}}return function(){return e.apply(t,arguments)}}var n=e("../utility/identity");t.exports=i},{"../utility/identity":162}],78:[function(e,t){function i(e,t){var i=e.data,a="string"==typeof t||n(t)?i.set.has(t):i.hash[t];return a?0:-1}var n=e("../lang/isObject");t.exports=i},{"../lang/isObject":141}],79:[function(e,t){function i(e){var t=this.data;"string"==typeof e||n(e)?t.set.add(e):t.hash[e]=!0}var n=e("../lang/isObject");t.exports=i},{"../lang/isObject":141}],80:[function(e,t){function i(e,t){for(var i=-1,n=e.length;++i<n&&t.indexOf(e.charAt(i))>-1;);return i}t.exports=i},{}],81:[function(e,t){function i(e,t){for(var i=e.length;i--&&t.indexOf(e.charAt(i))>-1;);return i}t.exports=i},{}],82:[function(e,t){function i(e,t,i){for(var a=-1,s=e.criteria,o=t.criteria,r=s.length,l=i.length;++a<r;){var c=n(s[a],o[a]);if(c){if(a>=l)return c;var u=i[a];return c*("asc"===u||u===!0?1:-1)}}return e.index-t.index}var n=e("./baseCompareAscending");t.exports=i},{"./baseCompareAscending":42}],83:[function(e,t){function i(e,t,i){for(var a=i.length,s=-1,o=n(e.length-a,0),r=-1,l=t.length,c=Array(l+o);++r<l;)c[r]=t[r];for(;++s<a;)c[i[s]]=e[s];for(;o--;)c[r++]=e[s++];return c}var n=Math.max;t.exports=i},{}],84:[function(e,t){function i(e,t,i){for(var a=-1,s=i.length,o=-1,r=n(e.length-s,0),l=-1,c=t.length,u=Array(r+c);++o<r;)u[o]=e[o];for(var d=o;++l<c;)u[d+l]=t[l];for(;++a<s;)u[d+i[a]]=e[o++];return u}var n=Math.max;t.exports=i},{}],85:[function(e,t){function i(e){return s(function(t,i){var s=-1,o=null==t?0:i.length,r=o>2?i[o-2]:void 0,l=o>2?i[2]:void 0,c=o>1?i[o-1]:void 0;for("function"==typeof r?(r=n(r,c,5),o-=2):(r="function"==typeof c?c:void 0,o-=r?1:0),l&&a(i[0],i[1],l)&&(r=3>o?void 0:r,o=1);++s<o;){var u=i[s];u&&e(t,u,r)}return t})}var n=e("./bindCallback"),a=e("./isIterateeCall"),s=e("../function/restParam");t.exports=i},{"../function/restParam":26,"./bindCallback":77,"./isIterateeCall":113}],86:[function(e,t){function i(e,t){return function(i,o){var r=i?n(i):0;if(!a(r))return e(i,o);for(var l=t?r:-1,c=s(i);(t?l--:++l<r)&&o(c[l],l,c)!==!1;);return i}}var n=e("./getLength"),a=e("./isLength"),s=e("./toObject");t.exports=i},{"./getLength":107,"./isLength":116,"./toObject":130}],87:[function(e,t){function i(e){return function(t,i,a){for(var s=n(t),o=a(t),r=o.length,l=e?r:-1;e?l--:++l<r;){var c=o[l];if(i(s[c],c,s)===!1)break}return t}}var n=e("./toObject");t.exports=i},{"./toObject":130}],88:[function(e,t){(function(i){function n(e,t){function n(){var a=this&&this!==i&&this instanceof n?s:e;return a.apply(t,arguments)}var s=a(e);return n}var a=e("./createCtorWrapper");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":90}],89:[function(e,t){(function(i){function n(e){return r&&o?new a(e):null}var a=e("./SetCache"),s=e("./getNative"),o=s(i,"Set"),r=s(Object,"create");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":29,"./getNative":109}],90:[function(e,t){function i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=n(e.prototype),s=e.apply(i,t);return a(s)?s:i}}var n=e("./baseCreate"),a=e("../lang/isObject");t.exports=i},{"../lang/isObject":141,"./baseCreate":44}],91:[function(e,t){function i(e,t){return n(function(i){var n=i[0];return null==n?n:(i.push(t),e.apply(void 0,i))})}var n=e("../function/restParam");t.exports=i},{"../function/restParam":26}],92:[function(e,t){function i(e,t){return function(i,r,l){if(r=n(r,l,3),o(i)){var c=s(i,r,t);return c>-1?i[c]:void 0}return a(i,r,e)}}var n=e("./baseCallback"),a=e("./baseFind"),s=e("./baseFindIndex"),o=e("../lang/isArray");t.exports=i},{"../lang/isArray":136,"./baseCallback":41,"./baseFind":48,"./baseFindIndex":49}],93:[function(e,t){function i(e){return function(t,i,s){return t&&t.length?(i=n(i,s,3),a(t,i,e)):-1}}var n=e("./baseCallback"),a=e("./baseFindIndex");t.exports=i},{"./baseCallback":41,"./baseFindIndex":49}],94:[function(e,t){function i(e,t){return function(i,s,o){return"function"==typeof s&&void 0===o&&a(i)?e(i,s):t(i,n(s,o,3))}}var n=e("./bindCallback"),a=e("../lang/isArray");t.exports=i},{"../lang/isArray":136,"./bindCallback":77}],95:[function(e,t){function i(e){return function(t,i,a){return("function"!=typeof i||void 0!==a)&&(i=n(i,a,3)),e(t,i)}}var n=e("./bindCallback");t.exports=i},{"./bindCallback":77}],96:[function(e,t){(function(i){function n(e,t,_,x,C,T,S,k,E,D){function P(){for(var f=arguments.length,m=f,g=Array(f);m--;)g[m]=arguments[m];if(x&&(g=s(g,x,C)),T&&(g=o(g,T,S)),N||O){var b=P.placeholder,L=u(g,b);if(f-=L.length,D>f){var $=k?a(k):void 0,F=w(D-f,0),z=N?L:void 0,B=N?void 0:L,H=N?g:void 0,W=N?void 0:g;t|=N?v:y,t&=~(N?y:v),j||(t&=~(h|p));var q=[e,t,_,H,z,W,B,$,E,F],U=n.apply(void 0,q);return l(e)&&d(U,q),U.placeholder=b,U}}var Y=I?_:this,V=M?Y[e]:e;return k&&(g=c(g,k)),A&&E<g.length&&(g.length=E),this&&this!==i&&this instanceof P&&(V=R||r(e)),V.apply(Y,g)}var A=t&b,I=t&h,M=t&p,N=t&m,j=t&f,O=t&g,R=M?void 0:r(e);return P}var a=e("./arrayCopy"),s=e("./composeArgs"),o=e("./composeArgsRight"),r=e("./createCtorWrapper"),l=e("./isLaziable"),c=e("./reorder"),u=e("./replaceHolders"),d=e("./setData"),h=1,p=2,f=4,m=8,g=16,v=32,y=64,b=128,w=Math.max;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arrayCopy":30,"./composeArgs":83,"./composeArgsRight":84,"./createCtorWrapper":90,"./isLaziable":115,"./reorder":125,"./replaceHolders":126,"./setData":127}],97:[function(e,t){function i(e){return function(t,i,s){var o={};return i=n(i,s,3),a(t,function(t,n,a){var s=i(t,n,a);n=e?s:n,t=e?t:s,o[n]=t}),o}}var n=e("./baseCallback"),a=e("./baseForOwn");t.exports=i},{"./baseCallback":41,"./baseForOwn":53}],98:[function(e,t){function i(e){var t=s(function(i,s){var o=a(s,t.placeholder);return n(i,e,void 0,s,o)});return t}var n=e("./createWrapper"),a=e("./replaceHolders"),s=e("../function/restParam");t.exports=i},{"../function/restParam":26,"./createWrapper":101,"./replaceHolders":126}],99:[function(e,t){(function(i){function n(e,t,n,o){function r(){for(var t=-1,a=arguments.length,s=-1,u=o.length,d=Array(u+a);++s<u;)d[s]=o[s];for(;a--;)d[s++]=arguments[++t];var h=this&&this!==i&&this instanceof r?c:e;return h.apply(l?n:this,d)}var l=t&s,c=a(e);return r}var a=e("./createCtorWrapper"),s=1;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./createCtorWrapper":90}],100:[function(e,t){function i(e,t){return function(i,o,r,l){var c=arguments.length<3;return"function"==typeof o&&void 0===l&&s(i)?e(i,o,r,c):a(i,n(o,l,4),r,c,t)}}var n=e("./baseCallback"),a=e("./baseReduce"),s=e("../lang/isArray");t.exports=i},{"../lang/isArray":136,"./baseCallback":41,"./baseReduce":67}],101:[function(e,t){function i(e,t,i,g,v,y,b,w){var _=t&d;if(!_&&"function"!=typeof e)throw new TypeError(f);var x=g?g.length:0;if(x||(t&=~(h|p),g=v=void 0),x-=v?v.length:0,t&p){var C=g,T=v;g=v=void 0}var S=_?void 0:r(e),k=[e,t,i,g,v,C,T,y,b,w];if(S&&(l(k,S),t=k[1],w=k[9]),k[9]=null==w?_?0:e.length:m(w-x,0)||0,t==u)var E=a(k[0],k[2]);else E=t!=h&&t!=(u|h)||k[4].length?s.apply(void 0,k):o.apply(void 0,k);var D=S?n:c;return D(E,k)}var n=e("./baseSetData"),a=e("./createBindWrapper"),s=e("./createHybridWrapper"),o=e("./createPartialWrapper"),r=e("./getData"),l=e("./mergeData"),c=e("./setData"),u=1,d=2,h=32,p=64,f="Expected a function",m=Math.max;t.exports=i},{"./baseSetData":68,"./createBindWrapper":88,"./createHybridWrapper":96,"./createPartialWrapper":99,"./getData":105,"./mergeData":120,"./setData":127}],102:[function(e,t){function i(e,t,i,a,s,o,r){var l=-1,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;for(;++l<c;){var d=e[l],h=t[l],p=a?a(s?h:d,s?d:h,l):void 0;if(void 0!==p){if(p)continue;return!1}if(s){if(!n(t,function(e){return d===e||i(d,e,a,s,o,r)}))return!1}else if(d!==h&&!i(d,h,a,s,o,r))return!1}return!0}var n=e("./arraySome");t.exports=i},{"./arraySome":36}],103:[function(e,t){function i(e,t,i){switch(i){case n:case a:return+e==+t;case s:return e.name==t.name&&e.message==t.message;case o:return e!=+e?t!=+t:e==+t;case r:case l:return e==t+""}return!1}var n="[object Boolean]",a="[object Date]",s="[object Error]",o="[object Number]",r="[object RegExp]",l="[object String]";t.exports=i},{}],104:[function(e,t){function i(e,t,i,a,o,r,l){var c=n(e),u=c.length,d=n(t),h=d.length;if(u!=h&&!o)return!1;for(var p=u;p--;){var f=c[p];if(!(o?f in t:s.call(t,f)))return!1}for(var m=o;++p<u;){f=c[p];var g=e[f],v=t[f],y=a?a(o?v:g,o?g:v,f):void 0;if(!(void 0===y?i(g,v,a,o,r,l):y))return!1;m||(m="constructor"==f)}if(!m){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1}return!0}var n=e("../object/keys"),a=Object.prototype,s=a.hasOwnProperty;t.exports=i},{"../object/keys":152}],105:[function(e,t){var i=e("./metaMap"),n=e("../utility/noop"),a=i?function(e){return i.get(e)}:n;t.exports=a},{"../utility/noop":163,"./metaMap":121}],106:[function(e,t){function i(e){for(var t=e.name+"",i=n[t],a=i?i.length:0;a--;){var s=i[a],o=s.func;if(null==o||o==e)return s.name}return t}var n=e("./realNames");t.exports=i},{"./realNames":124}],107:[function(e,t){var i=e("./baseProperty"),n=i("length");t.exports=n},{"./baseProperty":65}],108:[function(e,t){function i(e){for(var t=a(e),i=t.length;i--;)t[i][2]=n(t[i][1]);return t}var n=e("./isStrictComparable"),a=e("../object/pairs");t.exports=i},{"../object/pairs":158,"./isStrictComparable":119}],109:[function(e,t){function i(e,t){var i=null==e?void 0:e[t];return n(i)?i:void 0}var n=e("../lang/isNative");t.exports=i},{"../lang/isNative":139}],110:[function(e,t){function i(e,t,i){for(var n=e.length,a=t+(i?0:-1);i?a--:++a<n;){var s=e[a];if(s!==s)return a}return-1}t.exports=i},{}],111:[function(e,t){function i(e){return null!=e&&a(n(e))}var n=e("./getLength"),a=e("./isLength");t.exports=i},{"./getLength":107,"./isLength":116}],112:[function(e,t){function i(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?a:t,e>-1&&e%1==0&&t>e}var n=/^\d+$/,a=9007199254740991;t.exports=i},{}],113:[function(e,t){function i(e,t,i){if(!s(i))return!1;var o=typeof t;if("number"==o?n(i)&&a(t,i.length):"string"==o&&t in i){var r=i[t];return e===e?e===r:r!==r}return!1}var n=e("./isArrayLike"),a=e("./isIndex"),s=e("../lang/isObject");t.exports=i},{"../lang/isObject":141,"./isArrayLike":111,"./isIndex":112}],114:[function(e,t){function i(e,t){var i=typeof e;if("string"==i&&o.test(e)||"number"==i)return!0;if(n(e))return!1;var r=!s.test(e);return r||null!=t&&e in a(t)}var n=e("../lang/isArray"),a=e("./toObject"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=i},{"../lang/isArray":136,"./toObject":130}],115:[function(e,t){function i(e){var t=s(e),i=o[t];if("function"!=typeof i||!(t in n.prototype))return!1;if(e===i)return!0;var r=a(i);return!!r&&e===r[0]}var n=e("./LazyWrapper"),a=e("./getData"),s=e("./getFuncName"),o=e("../chain/lodash");t.exports=i},{"../chain/lodash":12,"./LazyWrapper":27,"./getData":105,"./getFuncName":106}],116:[function(e,t){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;t.exports=i},{}],117:[function(e,t){function i(e){return!!e&&"object"==typeof e}t.exports=i},{}],118:[function(e,t){function i(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}t.exports=i},{}],119:[function(e,t){function i(e){return e===e&&!n(e)}var n=e("../lang/isObject");t.exports=i},{"../lang/isObject":141}],120:[function(e,t){function i(e,t){var i=e[1],f=t[1],m=i|f,g=u>m,v=f==u&&i==c||f==u&&i==d&&e[7].length<=t[8]||f==(u|d)&&i==c;if(!g&&!v)return e;f&r&&(e[2]=t[2],m|=i&r?0:l);var y=t[3];if(y){var b=e[3];e[3]=b?a(b,y,t[4]):n(y),e[4]=b?o(e[3],h):n(t[4])}return y=t[5],y&&(b=e[5],e[5]=b?s(b,y,t[6]):n(y),e[6]=b?o(e[5],h):n(t[6])),y=t[7],y&&(e[7]=n(y)),f&u&&(e[8]=null==e[8]?t[8]:p(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var n=e("./arrayCopy"),a=e("./composeArgs"),s=e("./composeArgsRight"),o=e("./replaceHolders"),r=1,l=4,c=8,u=128,d=256,h="__lodash_placeholder__",p=Math.min;t.exports=i},{"./arrayCopy":30,"./composeArgs":83,"./composeArgsRight":84,"./replaceHolders":126}],121:[function(e,t){(function(i){var n=e("./getNative"),a=n(i,"WeakMap"),s=a&&new a;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getNative":109}],122:[function(e,t){function i(e,t){e=n(e);for(var i=-1,a=t.length,s={};++i<a;){var o=t[i];o in e&&(s[o]=e[o])}return s}var n=e("./toObject");t.exports=i},{"./toObject":130}],123:[function(e,t){function i(e,t){var i={};return n(e,function(e,n,a){t(e,n,a)&&(i[n]=e)}),i}var n=e("./baseForIn");t.exports=i},{"./baseForIn":52}],124:[function(e,t){var i={};t.exports=i},{}],125:[function(e,t){function i(e,t){for(var i=e.length,o=s(t.length,i),r=n(e);o--;){var l=t[o];e[o]=a(l,i)?r[l]:void 0}return e}var n=e("./arrayCopy"),a=e("./isIndex"),s=Math.min;t.exports=i},{"./arrayCopy":30,"./isIndex":112}],126:[function(e,t){function i(e,t){for(var i=-1,a=e.length,s=-1,o=[];++i<a;)e[i]===t&&(e[i]=n,o[++s]=i);return o}var n="__lodash_placeholder__";t.exports=i},{}],127:[function(e,t){var i=e("./baseSetData"),n=e("../date/now"),a=150,s=16,o=function(){var e=0,t=0;return function(o,r){var l=n(),c=s-(l-t);if(t=l,c>0){if(++e>=a)return o}else e=0;return i(o,r)}}();t.exports=o},{"../date/now":22,"./baseSetData":68}],128:[function(e,t){function i(e){for(var t=r(e),i=t.length,l=i&&e.length,u=!!l&&o(l)&&(a(e)||n(e)),d=-1,h=[];++d<i;){var p=t[d];(u&&s(p,l)||c.call(e,p))&&h.push(p)}return h}var n=e("../lang/isArguments"),a=e("../lang/isArray"),s=e("./isIndex"),o=e("./isLength"),r=e("../object/keysIn"),l=Object.prototype,c=l.hasOwnProperty;t.exports=i},{"../lang/isArguments":135,"../lang/isArray":136,"../object/keysIn":153,"./isIndex":112,"./isLength":116}],129:[function(e,t){function i(e){return null==e?[]:n(e)?a(e)?e:Object(e):s(e)}var n=e("./isArrayLike"),a=e("../lang/isObject"),s=e("../object/values");t.exports=i},{"../lang/isObject":141,"../object/values":160,"./isArrayLike":111}],130:[function(e,t){function i(e){return n(e)?e:Object(e)}var n=e("../lang/isObject");t.exports=i},{"../lang/isObject":141}],131:[function(e,t){function i(e){if(a(e))return e;var t=[];return n(e).replace(s,function(e,i,n,a){t.push(n?a.replace(o,"$1"):i||e)}),t}var n=e("./baseToString"),a=e("../lang/isArray"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,o=/\\(\\)?/g;t.exports=i},{"../lang/isArray":136,"./baseToString":73}],132:[function(e,t){function i(e){for(var t=-1,i=e.length;++t<i&&n(e.charCodeAt(t)););return t}var n=e("./isSpace");t.exports=i},{"./isSpace":118}],133:[function(e,t){function i(e){for(var t=e.length;t--&&n(e.charCodeAt(t)););return t}var n=e("./isSpace");t.exports=i},{"./isSpace":118}],134:[function(e,t){function i(e){return e instanceof n?e.clone():new a(e.__wrapped__,e.__chain__,s(e.__actions__))}var n=e("./LazyWrapper"),a=e("./LodashWrapper"),s=e("./arrayCopy");t.exports=i},{"./LazyWrapper":27,"./LodashWrapper":28,"./arrayCopy":30}],135:[function(e,t){function i(e){return a(e)&&n(e)&&o.call(e,"callee")&&!r.call(e,"callee")}var n=e("../internal/isArrayLike"),a=e("../internal/isObjectLike"),s=Object.prototype,o=s.hasOwnProperty,r=s.propertyIsEnumerable;t.exports=i},{"../internal/isArrayLike":111,"../internal/isObjectLike":117}],136:[function(e,t){var i=e("../internal/getNative"),n=e("../internal/isLength"),a=e("../internal/isObjectLike"),s="[object Array]",o=Object.prototype,r=o.toString,l=i(Array,"isArray"),c=l||function(e){return a(e)&&n(e.length)&&r.call(e)==s};t.exports=c},{"../internal/getNative":109,"../internal/isLength":116,"../internal/isObjectLike":117}],137:[function(e,t){function i(e){return null==e?!0:s(e)&&(a(e)||l(e)||n(e)||r(e)&&o(e.splice))?!e.length:!c(e).length}var n=e("./isArguments"),a=e("./isArray"),s=e("../internal/isArrayLike"),o=e("./isFunction"),r=e("../internal/isObjectLike"),l=e("./isString"),c=e("../object/keys");t.exports=i},{"../internal/isArrayLike":111,"../internal/isObjectLike":117,"../object/keys":152,"./isArguments":135,"./isArray":136,"./isFunction":138,"./isString":143}],138:[function(e,t){function i(e){return n(e)&&o.call(e)==a}var n=e("./isObject"),a="[object Function]",s=Object.prototype,o=s.toString;t.exports=i},{"./isObject":141}],139:[function(e,t){function i(e){return null==e?!1:n(e)?c.test(r.call(e)):a(e)&&s.test(e)}var n=e("./isFunction"),a=e("../internal/isObjectLike"),s=/^\[object .+?Constructor\]$/,o=Object.prototype,r=Function.prototype.toString,l=o.hasOwnProperty,c=RegExp("^"+r.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},{"../internal/isObjectLike":117,"./isFunction":138}],140:[function(e,t){function i(e){return"number"==typeof e||n(e)&&o.call(e)==a}var n=e("../internal/isObjectLike"),a="[object Number]",s=Object.prototype,o=s.toString;t.exports=i},{"../internal/isObjectLike":117}],141:[function(e,t){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=i},{}],142:[function(e,t){function i(e){var t;if(!s(e)||c.call(e)!=o||a(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return n(e,function(e,t){i=t}),void 0===i||l.call(e,i)}var n=e("../internal/baseForIn"),a=e("./isArguments"),s=e("../internal/isObjectLike"),o="[object Object]",r=Object.prototype,l=r.hasOwnProperty,c=r.toString;t.exports=i},{"../internal/baseForIn":52,"../internal/isObjectLike":117,"./isArguments":135}],143:[function(e,t){function i(e){return"string"==typeof e||n(e)&&o.call(e)==a}var n=e("../internal/isObjectLike"),a="[object String]",s=Object.prototype,o=s.toString;t.exports=i},{"../internal/isObjectLike":117}],144:[function(e,t){function i(e){return a(e)&&n(e.length)&&!!D[A.call(e)]}var n=e("../internal/isLength"),a=e("../internal/isObjectLike"),s="[object Arguments]",o="[object Array]",r="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",f="[object RegExp]",m="[object Set]",g="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",D={};D[b]=D[w]=D[_]=D[x]=D[C]=D[T]=D[S]=D[k]=D[E]=!0,D[s]=D[o]=D[y]=D[r]=D[l]=D[c]=D[u]=D[d]=D[h]=D[p]=D[f]=D[m]=D[g]=D[v]=!1;var P=Object.prototype,A=P.toString;t.exports=i},{"../internal/isLength":116,"../internal/isObjectLike":117}],145:[function(e,t){function i(e){return void 0===e}t.exports=i},{}],146:[function(e,t){function i(e){return n(e,a(e))}var n=e("../internal/baseCopy"),a=e("../object/keysIn");t.exports=i},{"../internal/baseCopy":43,"../object/keysIn":153}],147:[function(e,t){function i(e,t,i){return i&&r(e,t,i)&&(t=void 0),t=a(t,i,3),1==t.length?n(o(e)?e:l(e),t):s(e,t)}var n=e("../internal/arraySum"),a=e("../internal/baseCallback"),s=e("../internal/baseSum"),o=e("../lang/isArray"),r=e("../internal/isIterateeCall"),l=e("../internal/toIterable");t.exports=i},{"../internal/arraySum":37,"../internal/baseCallback":41,"../internal/baseSum":72,"../internal/isIterateeCall":113,"../internal/toIterable":129,"../lang/isArray":136}],148:[function(e,t){var i=e("../internal/assignWith"),n=e("../internal/baseAssign"),a=e("../internal/createAssigner"),s=a(function(e,t,a){return a?i(e,t,a):n(e,t)});t.exports=s},{"../internal/assignWith":39,"../internal/baseAssign":40,"../internal/createAssigner":85}],149:[function(e,t){var i=e("./assign"),n=e("../internal/assignDefaults"),a=e("../internal/createDefaults"),s=a(i,n);t.exports=s},{"../internal/assignDefaults":38,"../internal/createDefaults":91,"./assign":148}],150:[function(e,t){var i=e("../internal/baseForOwn"),n=e("../internal/createForOwn"),a=n(i);t.exports=a},{"../internal/baseForOwn":53,"../internal/createForOwn":95}],151:[function(e,t){function i(e,t,i){i&&n(e,t,i)&&(t=void 0);for(var s=-1,r=a(e),l=r.length,c={};++s<l;){var u=r[s],d=e[u];t?o.call(c,d)?c[d].push(u):c[d]=[u]:c[d]=u}return c}var n=e("../internal/isIterateeCall"),a=e("./keys"),s=Object.prototype,o=s.hasOwnProperty;t.exports=i},{"../internal/isIterateeCall":113,"./keys":152}],152:[function(e,t){var i=e("../internal/getNative"),n=e("../internal/isArrayLike"),a=e("../lang/isObject"),s=e("../internal/shimKeys"),o=i(Object,"keys"),r=o?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n(e)?s(e):a(e)?o(e):[]}:s;t.exports=r},{"../internal/getNative":109,"../internal/isArrayLike":111,"../internal/shimKeys":128,"../lang/isObject":141}],153:[function(e,t){function i(e){if(null==e)return[];r(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(a(e)||n(e))&&t||0;for(var i=e.constructor,l=-1,u="function"==typeof i&&i.prototype===e,d=Array(t),h=t>0;++l<t;)d[l]=l+"";for(var p in e)h&&s(p,t)||"constructor"==p&&(u||!c.call(e,p))||d.push(p);return d}var n=e("../lang/isArguments"),a=e("../lang/isArray"),s=e("../internal/isIndex"),o=e("../internal/isLength"),r=e("../lang/isObject"),l=Object.prototype,c=l.hasOwnProperty;t.exports=i},{"../internal/isIndex":112,"../internal/isLength":116,"../lang/isArguments":135,"../lang/isArray":136,"../lang/isObject":141}],154:[function(e,t){var i=e("../internal/createObjectMapper"),n=i(!0);t.exports=n},{"../internal/createObjectMapper":97}],155:[function(e,t){var i=e("../internal/createObjectMapper"),n=i();t.exports=n},{"../internal/createObjectMapper":97}],156:[function(e,t){var i=e("../internal/baseMerge"),n=e("../internal/createAssigner"),a=n(i);t.exports=a},{"../internal/baseMerge":63,"../internal/createAssigner":85}],157:[function(e,t){var i=e("../internal/arrayMap"),n=e("../internal/baseDifference"),a=e("../internal/baseFlatten"),s=e("../internal/bindCallback"),o=e("./keysIn"),r=e("../internal/pickByArray"),l=e("../internal/pickByCallback"),c=e("../function/restParam"),u=c(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=i(a(t),String);return r(e,n(o(e),t))}var c=s(t[0],t[1],3);return l(e,function(e,t,i){return!c(e,t,i)})});t.exports=u},{"../function/restParam":26,"../internal/arrayMap":33,"../internal/baseDifference":45,"../internal/baseFlatten":50,"../internal/bindCallback":77,"../internal/pickByArray":122,"../internal/pickByCallback":123,"./keysIn":153}],158:[function(e,t){function i(e){e=a(e);for(var t=-1,i=n(e),s=i.length,o=Array(s);++t<s;){var r=i[t];o[t]=[r,e[r]]}return o}var n=e("./keys"),a=e("../internal/toObject");t.exports=i},{"../internal/toObject":130,"./keys":152}],159:[function(e,t){var i=e("../internal/baseFlatten"),n=e("../internal/bindCallback"),a=e("../internal/pickByArray"),s=e("../internal/pickByCallback"),o=e("../function/restParam"),r=o(function(e,t){return null==e?{}:"function"==typeof t[0]?s(e,n(t[0],t[1],3)):a(e,i(t))});t.exports=r},{"../function/restParam":26,"../internal/baseFlatten":50,"../internal/bindCallback":77,"../internal/pickByArray":122,"../internal/pickByCallback":123}],160:[function(e,t){function i(e){return n(e,a(e))}var n=e("../internal/baseValues"),a=e("./keys");t.exports=i},{"../internal/baseValues":74,"./keys":152}],161:[function(e,t){function i(e,t,i){var c=e;return(e=n(e))?(i?o(c,t,i):null==t)?e.slice(r(e),l(e)+1):(t+="",e.slice(a(e,t),s(e,t)+1)):e}var n=e("../internal/baseToString"),a=e("../internal/charsLeftIndex"),s=e("../internal/charsRightIndex"),o=e("../internal/isIterateeCall"),r=e("../internal/trimmedLeftIndex"),l=e("../internal/trimmedRightIndex");t.exports=i},{"../internal/baseToString":73,"../internal/charsLeftIndex":80,"../internal/charsRightIndex":81,"../internal/isIterateeCall":113,"../internal/trimmedLeftIndex":132,"../internal/trimmedRightIndex":133}],162:[function(e,t){function i(e){return e}t.exports=i},{}],163:[function(e,t){function i(){}t.exports=i},{}],164:[function(e,t){function i(e){return s(e)?n(e):a(e)}var n=e("../internal/baseProperty"),a=e("../internal/basePropertyDeep"),s=e("../internal/isKey");t.exports=i},{"../internal/baseProperty":65,"../internal/basePropertyDeep":66,"../internal/isKey":114}],165:[function(e,t){var i=e("./stringify"),n=e("./parse");t.exports={stringify:i,parse:n}},{"./parse":166,"./stringify":167}],166:[function(e,t){var i=e("./utils"),n={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};n.parseValues=function(e,t){for(var n={},a=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),s=0,o=a.length;o>s;++s){var r=a[s],l=-1===r.indexOf("]=")?r.indexOf("="):r.indexOf("]=")+1;if(-1===l)n[i.decode(r)]="",t.strictNullHandling&&(n[i.decode(r)]=null);else{var c=i.decode(r.slice(0,l)),u=i.decode(r.slice(l+1));Object.prototype.hasOwnProperty.call(n,c)?n[c]=[].concat(n[c]).concat(u):n[c]=u}}return n},n.parseObject=function(e,t,i){if(!e.length)return t;var a,s=e.shift();if("[]"===s)a=[],a=a.concat(n.parseObject(e,t,i));else{a=i.plainObjects?Object.create(null):{};var o="["===s[0]&&"]"===s[s.length-1]?s.slice(1,s.length-1):s,r=parseInt(o,10),l=""+r;!isNaN(r)&&s!==o&&l===o&&r>=0&&i.parseArrays&&r<=i.arrayLimit?(a=[],a[r]=n.parseObject(e,t,i)):a[o]=n.parseObject(e,t,i)}return a},n.parseKeys=function(e,t,i){if(e){i.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var a=/^([^\[\]]*)/,s=/(\[[^\[\]]*\])/g,o=a.exec(e),r=[];if(o[1]){if(!i.plainObjects&&Object.prototype.hasOwnProperty(o[1])&&!i.allowPrototypes)return;r.push(o[1])}for(var l=0;null!==(o=s.exec(e))&&l<i.depth;)++l,(i.plainObjects||!Object.prototype.hasOwnProperty(o[1].replace(/\[|\]/g,""))||i.allowPrototypes)&&r.push(o[1]);return o&&r.push("["+e.slice(o.index)+"]"),n.parseObject(r,t,i)}},t.exports=function(e,t){if(t=t||{},t.delimiter="string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:n.delimiter,t.depth="number"==typeof t.depth?t.depth:n.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:n.arrayLimit,t.parseArrays=t.parseArrays!==!1,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:n.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:n.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:n.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:n.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:n.strictNullHandling,""===e||null===e||"undefined"==typeof e)return t.plainObjects?Object.create(null):{};for(var a="string"==typeof e?n.parseValues(e,t):e,s=t.plainObjects?Object.create(null):{},o=Object.keys(a),r=0,l=o.length;l>r;++r){var c=o[r],u=n.parseKeys(c,a[c],t);s=i.merge(s,u,t)}return i.compact(s)}},{"./utils":168}],167:[function(e,t){var i=e("./utils"),n={delimiter:"&",arrayPrefixGenerators:{brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},strictNullHandling:!1,skipNulls:!1,encode:!0};n.stringify=function(e,t,a,s,o,r,l,c){if("function"==typeof l)e=l(t,e);else if(i.isBuffer(e))e=e.toString();else if(e instanceof Date)e=e.toISOString();else if(null===e){if(s)return r?i.encode(t):t;e=""}if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return r?[i.encode(t)+"="+i.encode(e)]:[t+"="+e];var u=[];if("undefined"==typeof e)return u;var d;if(Array.isArray(l))d=l;else{var h=Object.keys(e);d=c?h.sort(c):h}for(var p=0,f=d.length;f>p;++p){var m=d[p];o&&null===e[m]||(u=Array.isArray(e)?u.concat(n.stringify(e[m],a(t,m),a,s,o,r,l)):u.concat(n.stringify(e[m],t+"["+m+"]",a,s,o,r,l)))}return u},t.exports=function(e,t){t=t||{};var i,a,s="undefined"==typeof t.delimiter?n.delimiter:t.delimiter,o="boolean"==typeof t.strictNullHandling?t.strictNullHandling:n.strictNullHandling,r="boolean"==typeof t.skipNulls?t.skipNulls:n.skipNulls,l="boolean"==typeof t.encode?t.encode:n.encode,c="function"==typeof t.sort?t.sort:null;"function"==typeof t.filter?(a=t.filter,e=a("",e)):Array.isArray(t.filter)&&(i=a=t.filter);var u=[];if("object"!=typeof e||null===e)return"";var d;d=t.arrayFormat in n.arrayPrefixGenerators?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":"indices";var h=n.arrayPrefixGenerators[d];i||(i=Object.keys(e)),c&&i.sort(c);for(var p=0,f=i.length;f>p;++p){var m=i[p];r&&null===e[m]||(u=u.concat(n.stringify(e[m],m,h,o,r,l,a,c)))}return u.join(s)}},{"./utils":168}],168:[function(e,t,i){var n={};n.hexTable=new Array(256);for(var a=0;256>a;++a)n.hexTable[a]="%"+((16>a?"0":"")+a.toString(16)).toUpperCase();i.arrayToObject=function(e,t){for(var i=t.plainObjects?Object.create(null):{},n=0,a=e.length;a>n;++n)"undefined"!=typeof e[n]&&(i[n]=e[n]);return i},i.merge=function(e,t,n){if(!t)return e;if("object"!=typeof t)return Array.isArray(e)?e.push(t):"object"==typeof e?e[t]=!0:e=[e,t],e;if("object"!=typeof e)return e=[e].concat(t);Array.isArray(e)&&!Array.isArray(t)&&(e=i.arrayToObject(e,n));for(var a=Object.keys(t),s=0,o=a.length;o>s;++s){var r=a[s],l=t[r];Object.prototype.hasOwnProperty.call(e,r)?e[r]=i.merge(e[r],l,n):e[r]=l}return e},i.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},i.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var t="",i=0,a=e.length;a>i;++i){var s=e.charCodeAt(i);45===s||46===s||95===s||126===s||s>=48&&57>=s||s>=65&&90>=s||s>=97&&122>=s?t+=e[i]:128>s?t+=n.hexTable[s]:2048>s?t+=n.hexTable[192|s>>6]+n.hexTable[128|63&s]:55296>s||s>=57344?t+=n.hexTable[224|s>>12]+n.hexTable[128|s>>6&63]+n.hexTable[128|63&s]:(++i,s=65536+((1023&s)<<10|1023&e.charCodeAt(i)),t+=n.hexTable[240|s>>18]+n.hexTable[128|s>>12&63]+n.hexTable[128|s>>6&63]+n.hexTable[128|63&s]);
}return t},i.compact=function(e,t){if("object"!=typeof e||null===e)return e;t=t||[];var n=t.indexOf(e);if(-1!==n)return t[n];if(t.push(e),Array.isArray(e)){for(var a=[],s=0,o=e.length;o>s;++s)"undefined"!=typeof e[s]&&a.push(e[s]);return a}var r=Object.keys(e);for(s=0,o=r.length;o>s;++s){var l=r[s];e[l]=i.compact(e[l],t)}return e},i.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},i.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},{}],169:[function(e,t){"use strict";var i=e("lodash/lang/isUndefined"),n=e("lodash/lang/isString"),a=e("lodash/lang/isFunction"),s=e("lodash/lang/isEmpty"),o=e("lodash/object/defaults"),r=e("lodash/collection/reduce"),l=e("lodash/collection/filter"),c=e("lodash/object/omit"),u={addRefinement:function(e,t,i){if(u.isRefined(e,t,i))return e;var n=""+i,a=e[t]?e[t].concat(n):[n],s={};return s[t]=a,o({},s,e)},removeRefinement:function(e,t,n){if(i(n))return u.clearRefinement(e,t);var a=""+n;return u.clearRefinement(e,function(e,i){return t===i&&a===e})},toggleRefinement:function(e,t,n){if(i(n))throw new Error("toggleRefinement should be used with a value");return u.isRefined(e,t,n)?u.removeRefinement(e,t,n):u.addRefinement(e,t,n)},clearRefinement:function(e,t,o){return i(t)?{}:n(t)?c(e,t):a(t)?r(e,function(e,i,n){var a=l(i,function(e){return!t(e,n,o)});return s(a)||(e[n]=a),e},{}):void 0},isRefined:function(t,n,a){var s=e("lodash/array/indexOf"),o=!!t[n]&&t[n].length>0;if(i(a)||!o)return o;var r=""+a;return-1!==s(t[n],r)}};t.exports=u},{"lodash/array/indexOf":9,"lodash/collection/filter":13,"lodash/collection/reduce":19,"lodash/lang/isEmpty":137,"lodash/lang/isFunction":138,"lodash/lang/isString":143,"lodash/lang/isUndefined":145,"lodash/object/defaults":149,"lodash/object/omit":157}],170:[function(e,t){"use strict";function i(e,t){var i={},l=a(t,function(e){return-1!==e.indexOf("attribute:")}),c=s(l,function(e){return e.split(":")[1]});-1===r(c,"*")?n(c,function(t){e.isConjunctiveFacet(t)&&e.isFacetRefined(t)&&(i.facetsRefinements||(i.facetsRefinements={}),i.facetsRefinements[t]=e.facetsRefinements[t]),e.isDisjunctiveFacet(t)&&e.isDisjunctiveFacetRefined(t)&&(i.disjunctiveFacetsRefinements||(i.disjunctiveFacetsRefinements={}),i.disjunctiveFacetsRefinements[t]=e.disjunctiveFacetsRefinements[t]);var n=e.getNumericRefinements(t);o(n)||(i.numericRefinements||(i.numericRefinements={}),i.numericRefinements[t]=e.numericRefinements[t])}):(o(e.numericRefinements)||(i.numericRefinements=e.numericRefinements),o(e.facetsRefinements)||(i.facetsRefinements=e.facetsRefinements),o(e.disjunctiveFacetsRefinements)||(i.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements),o(e.hierarchicalFacetsRefinements)||(i.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements));var u=a(t,function(e){return-1===e.indexOf("attribute:")});return n(u,function(t){i[t]=e[t]}),i}var n=e("lodash/collection/forEach"),a=e("lodash/collection/filter"),s=e("lodash/collection/map"),o=e("lodash/lang/isEmpty"),r=e("lodash/array/indexOf");t.exports=i},{"lodash/array/indexOf":9,"lodash/collection/filter":13,"lodash/collection/forEach":15,"lodash/collection/map":17,"lodash/lang/isEmpty":137}],171:[function(e,t){"use strict";function i(e){var t=e?i._parseNumbers(e):{};this.index=t.index||"",this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this.numericFilters=t.numericFilters,this.tagFilters=t.tagFilters,this.hitsPerPage=t.hitsPerPage,this.maxValuesPerFacet=t.maxValuesPerFacet,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.minProximity=t.minProximity,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.highlightPreTag=t.highlightPreTag,this.highlightPostTag=t.highlightPostTag,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.minimumAroundRadius=t.minimumAroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox,this.insidePolygon=t.insidePolygon,this.offset=t.offset,this.length=t.length,s(t,function(e,t){if(!this.hasOwnProperty(t)){var i="Unsupported SearchParameter: `"+t+"` (this will throw in the next version)";window?window.console&&window.console.error(i):console.error(i)}},this)}var n=e("lodash/object/keys"),a=e("lodash/array/intersection"),s=e("lodash/object/forOwn"),o=e("lodash/collection/forEach"),r=e("lodash/collection/filter"),l=e("lodash/collection/map"),c=e("lodash/collection/reduce"),u=e("lodash/object/omit"),d=e("lodash/array/indexOf"),h=e("lodash/lang/isArray"),p=e("lodash/lang/isEmpty"),f=e("lodash/lang/isUndefined"),m=e("lodash/lang/isString"),g=e("lodash/lang/isNumber"),v=e("lodash/lang/isFunction"),y=e("lodash/collection/find"),b=e("lodash/collection/pluck"),w=e("lodash/object/defaults"),_=e("lodash/object/merge"),x=e("../functions/deepFreeze"),C=e("./filterState"),T=e("./RefinementList");i.PARAMETERS=n(new i),i._parseNumbers=function(e){var t={},i=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(o(i,function(i){var n=e[i];m(n)&&(t[i]=parseFloat(e[i]))}),e.numericRefinements){var n={};o(e.numericRefinements,function(e,t){n[t]={},o(e,function(e,i){var a=l(e,function(e){return h(e)?l(e,function(e){return m(e)?parseFloat(e):e}):m(e)?parseFloat(e):e});n[t][i]=a})}),t.numericRefinements=n}return _({},e,t)},i.make=function(e){var t=new i(e);return x(t)},i.validate=function(e,t){var i=t||{},a=n(i),s=r(a,function(t){return!e.hasOwnProperty(t)});return 1===s.length?new Error("Property "+s[0]+" is not defined on SearchParameters (see http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)"):s.length>1?new Error("Properties "+s.join(" ")+" are not defined on SearchParameters (see http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)"):e.tagFilters&&i.tagRefinements&&i.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&i.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&i.numericRefinements&&!p(i.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):!p(e.numericRefinements)&&i.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},i.prototype={constructor:i,clearRefinements:function(e){var t=T.clearRefinement;return this.setQueryParameters({page:0,numericRefinements:this._clearNumericRefinements(e),facetsRefinements:t(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:t(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:t(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:t(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")})},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({page:0,tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e,page:0})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e,page:0})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e,page:0})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e,page:0})},addNumericRefinement:function(e,t,i){var n;if(g(i))n=i;else if(m(i))n=parseFloat(i);else{if(!h(i))throw new Error("The value should be a number, a parseable string or an array of those.");n=l(i,function(e){return m(e)?parseFloat(e):e})}if(this.isNumericRefined(e,t,n))return this;var a=_({},this.numericRefinements);return a[e]=_({},a[e]),a[e][t]?(a[e][t]=a[e][t].slice(),a[e][t].push(n)):a[e][t]=[n],this.setQueryParameters({page:0,numericRefinements:a})},getConjunctiveRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,i){return void 0!==i?this.isNumericRefined(e,t,i)?this.setQueryParameters({page:0,numericRefinements:this._clearNumericRefinements(function(n,a){return a===e&&n.op===t&&n.val===i})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({page:0,numericRefinements:this._clearNumericRefinements(function(i,n){return n===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({page:0,numericRefinements:this._clearNumericRefinements(function(t,i){return i===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){return f(e)?{}:m(e)?u(this.numericRefinements,e):v(e)?c(this.numericRefinements,function(t,i,n){var a={};return o(i,function(t,i){var s=[];o(t,function(t){var a=e({val:t,op:i},n,"numeric");a||s.push(t)}),p(s)||(a[i]=s)}),p(a)||(t[n]=a),t},{}):void 0},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return T.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({page:0,facetsRefinements:T.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return T.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({page:0,facetsExcludes:T.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return T.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({page:0,disjunctiveFacetsRefinements:T.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={page:0,tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return T.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({page:0,facetsRefinements:T.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return T.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({page:0,facetsExcludes:T.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return T.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({page:0,disjunctiveFacetsRefinements:T.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={page:0,tagRefinements:r(this.tagRefinements,function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({page:0,facetsRefinements:T.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({page:0,facetsExcludes:T.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({page:0,disjunctiveFacetsRefinements:T.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var i=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={},a=void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+i));return a?-1===t.indexOf(i)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(i))]:n[e]=[t],this.setQueryParameters({page:0,hierarchicalFacetsRefinements:w({},n,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return d(this.disjunctiveFacets,e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return d(this.facets,e)>-1},isFacetRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return T.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return T.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return T.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var i=this.getHierarchicalRefinement(e);return t?-1!==d(i,t):i.length>0},isNumericRefined:function(e,t,i){if(f(i)&&f(t))return!!this.numericRefinements[e];if(f(i))return this.numericRefinements[e]&&!f(this.numericRefinements[e][t]);var n=parseFloat(i);return this.numericRefinements[e]&&!f(this.numericRefinements[e][t])&&-1!==d(this.numericRefinements[e][t],n)},isTagRefined:function(e){return-1!==d(this.tagRefinements,e)},getRefinedDisjunctiveFacets:function(){var e=a(n(this.numericRefinements),this.disjunctiveFacets);return n(this.disjunctiveFacetsRefinements).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){return a(b(this.hierarchicalFacets,"name"),n(this.hierarchicalFacetsRefinements))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return r(this.disjunctiveFacets,function(t){return-1===d(e,t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={};return s(this,function(i,n){-1===d(e,n)&&void 0!==i&&(t[n]=i)}),t},getQueryParameter:function(e){if(!this.hasOwnProperty(e))throw new Error("Parameter '"+e+"' is not an attribute of SearchParameters (http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)");return this[e]},setQueryParameter:function(e,t){if(this[e]===t)return this;var i={};return i[e]=t,this.setQueryParameters(i)},setQueryParameters:function(e){var t=i.validate(this,e);if(t)throw t;var a=i._parseNumbers(e);return this.mutateMe(function(t){var i=n(e);return o(i,function(e){t[e]=a[e]}),t})},filter:function(e){return C(this,e)},mutateMe:function(e){var t=new this.constructor(this);return e(t,this),x(t)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},getHierarchicalFacetByName:function(e){return y(this.hierarchicalFacets,{name:e})}},t.exports=i},{"../functions/deepFreeze":176,"./RefinementList":169,"./filterState":170,"lodash/array/indexOf":9,"lodash/array/intersection":10,"lodash/collection/filter":13,"lodash/collection/find":14,"lodash/collection/forEach":15,"lodash/collection/map":17,"lodash/collection/pluck":18,"lodash/collection/reduce":19,"lodash/lang/isArray":136,"lodash/lang/isEmpty":137,"lodash/lang/isFunction":138,"lodash/lang/isNumber":140,"lodash/lang/isString":143,"lodash/lang/isUndefined":145,"lodash/object/defaults":149,"lodash/object/forOwn":150,"lodash/object/keys":152,"lodash/object/merge":156,"lodash/object/omit":157}],172:[function(e,t){"use strict";var i=e("lodash/object/invert"),n=e("lodash/object/keys"),a={advancedSyntax:"aS",allowTyposOnNumericTokens:"aTONT",analyticsTags:"aT",analytics:"a",aroundLatLngViaIP:"aLLVIP",aroundLatLng:"aLL",aroundPrecision:"aP",aroundRadius:"aR",attributesToHighlight:"aTH",attributesToRetrieve:"aTR",attributesToSnippet:"aTS",disjunctiveFacetsRefinements:"dFR",disjunctiveFacets:"dF",distinct:"d",facetsExcludes:"fE",facetsRefinements:"fR",facets:"f",getRankingInfo:"gRI",hierarchicalFacetsRefinements:"hFR",hierarchicalFacets:"hF",highlightPostTag:"hPoT",highlightPreTag:"hPrT",hitsPerPage:"hPP",ignorePlurals:"iP",index:"idx",insideBoundingBox:"iBB",insidePolygon:"iPg",length:"l",maxValuesPerFacet:"mVPF",minimumAroundRadius:"mAR",minProximity:"mP",minWordSizefor1Typo:"mWS1T",minWordSizefor2Typos:"mWS2T",numericFilters:"nF",numericRefinements:"nR",offset:"o",optionalWords:"oW",page:"p",queryType:"qT",query:"q",removeWordsIfNoResults:"rWINR",replaceSynonymsInHighlight:"rSIH",restrictSearchableAttributes:"rSA",synonyms:"s",tagFilters:"tF",tagRefinements:"tR",typoTolerance:"tT"},s=i(a);t.exports={ENCODED_PARAMETERS:n(s),decode:function(e){return s[e]},encode:function(e){return a[e]}}},{"lodash/object/invert":151,"lodash/object/keys":152}],173:[function(e,t){"use strict";function i(e){return function(t,i){var a=e.hierarchicalFacets[i],s=e.hierarchicalFacetsRefinements[a.name]&&e.hierarchicalFacetsRefinements[a.name][0]||"",o=e._getHierarchicalFacetSeparator(a),r=p(e._getHierarchicalFacetSortBy(a)),c=n(r,o,s);return l(t,c,{name:e.hierarchicalFacets[i].name,count:null,isRefined:!0,path:null,data:null})}}function n(e,t,i){return function(n,o,l){var u=n;if(l>0){var p=0;for(u=n;l>p;)u=u&&d(u.data,{isRefined:!0}),p++}if(u){var f=a(u.path,i,t);u.data=c(r(h(o.data,f),s(t,i)),e[0],e[1])}return n}}function a(e,t,i){return function(n,a){return-1===a.indexOf(i)||-1===a.indexOf(i)&&-1===t.indexOf(i)||0===t.indexOf(a+i)||0===a.indexOf(e+i)}}function s(e,t){return function(i,n){return{name:u(o(n.split(e))),path:n,count:i,isRefined:t===n||0===t.indexOf(n+e),data:null}}}t.exports=i;var o=e("lodash/array/last"),r=e("lodash/collection/map"),l=e("lodash/collection/reduce"),c=e("lodash/collection/sortByOrder"),u=e("lodash/string/trim"),d=e("lodash/collection/find"),h=e("lodash/object/pick"),p=e("../functions/formatSort")},{"../functions/formatSort":177,"lodash/array/last":11,"lodash/collection/find":14,"lodash/collection/map":17,"lodash/collection/reduce":19,"lodash/collection/sortByOrder":20,"lodash/object/pick":159,"lodash/string/trim":161}],174:[function(e,t){"use strict";function i(e){var t={};return u(e,function(e,i){t[e]=i}),t}function n(e,t,i){t&&t[i]&&(e.stats=t[i])}function a(e,t){return m(e,function(e){return g(e.attributes,t)})}function s(e,t){var s=t.results[0];this.query=s.query,this.hits=s.hits,this.index=s.index,this.hitsPerPage=s.hitsPerPage,this.nbHits=s.nbHits,this.nbPages=s.nbPages,this.page=s.page,this.processingTimeMS=f(t.results,"processingTimeMS"),this.disjunctiveFacets=[],this.hierarchicalFacets=v(e.hierarchicalFacets,function(){return[]}),this.facets=[];var o=e.getRefinedDisjunctiveFacets(),r=i(e.facets),l=i(e.disjunctiveFacets),c=1;u(s.facets,function(t,i){var o=a(e.hierarchicalFacets,i);if(o)this.hierarchicalFacets[p(e.hierarchicalFacets,{name:o.name})].push({attribute:i,data:t,exhaustive:s.exhaustiveFacetsCount});else{var c,u=-1!==h(e.disjunctiveFacets,i),d=-1!==h(e.facets,i);u&&(c=l[i],this.disjunctiveFacets[c]={name:i,data:t,exhaustive:s.exhaustiveFacetsCount},n(this.disjunctiveFacets[c],s.facets_stats,i)),d&&(c=r[i],this.facets[c]={name:i,data:t,exhaustive:s.exhaustiveFacetsCount},n(this.facets[c],s.facets_stats,i))}},this),u(o,function(i){var a=t.results[c],o=e.getHierarchicalFacetByName(i);u(a.facets,function(t,i){var r;if(o){r=p(e.hierarchicalFacets,{name:o.name});var c=p(this.hierarchicalFacets[r],{attribute:i});this.hierarchicalFacets[r][c].data=w({},this.hierarchicalFacets[r][c].data,t)}else{r=l[i];var d=s.facets&&s.facets[i]||{};this.disjunctiveFacets[r]={name:i,data:b({},t,d),exhaustive:a.exhaustiveFacetsCount},n(this.disjunctiveFacets[r],a.facets_stats,i),e.disjunctiveFacetsRefinements[i]&&u(e.disjunctiveFacetsRefinements[i],function(t){!this.disjunctiveFacets[r].data[t]&&h(e.disjunctiveFacetsRefinements[i],t)>-1&&(this.disjunctiveFacets[r].data[t]=0)},this)}},this),c++},this),u(e.getRefinedHierarchicalFacets(),function(i){var n=e.getHierarchicalFacetByName(i),a=e.getHierarchicalRefinement(i);if(!(0===a.length||a[0].split(e._getHierarchicalFacetSeparator(n)).length<2)){var s=t.results[c];u(s.facets,function(t,i){var s=p(e.hierarchicalFacets,{name:n.name}),o=p(this.hierarchicalFacets[s],{attribute:i});if(-1!==o){var r={};if(a.length>0){var l=a[0].split(e._getHierarchicalFacetSeparator(n))[0];r[l]=this.hierarchicalFacets[s][o].data[l]}this.hierarchicalFacets[s][o].data=b(r,t,this.hierarchicalFacets[s][o].data)}},this),c++}},this),u(e.facetsExcludes,function(e,t){var i=r[t];this.facets[i]={name:t,data:s.facets[t],exhaustive:s.exhaustiveFacetsCount},u(e,function(e){this.facets[i]=this.facets[i]||{name:t},this.facets[i].data=this.facets[i].data||{},this.facets[i].data[e]=0},this)},this),this.hierarchicalFacets=v(this.hierarchicalFacets,k(e)),this.facets=d(this.facets),this.disjunctiveFacets=d(this.disjunctiveFacets),this._state=e}function o(e,t){var i={name:t};if(e._state.isConjunctiveFacet(t)){var n=m(e.facets,i);return n?v(n.data,function(i,n){return{name:n,count:i,isRefined:e._state.isFacetRefined(t,n)}}):[]}if(e._state.isDisjunctiveFacet(t)){var a=m(e.disjunctiveFacets,i);return a?v(a.data,function(i,n){return{name:n,count:i,isRefined:e._state.isDisjunctiveFacetRefined(t,n)}}):[]}return e._state.isHierarchicalFacet(t)?m(e.hierarchicalFacets,i):void 0}function r(e,t){if(!t.data||0===t.data.length)return t;var i=v(t.data,C(r,e)),n=e(i),a=w({},t,{data:n});return a}function l(e,t){return t.sort(e)}function c(e,t){var i=m(e,{name:t});return i&&i.stats}var u=e("lodash/collection/forEach"),d=e("lodash/array/compact"),h=e("lodash/array/indexOf"),p=e("lodash/array/findIndex"),f=e("lodash/collection/sum"),m=e("lodash/collection/find"),g=e("lodash/collection/includes"),v=e("lodash/collection/map"),y=e("lodash/collection/sortByOrder"),b=e("lodash/object/defaults"),w=e("lodash/object/merge"),_=e("lodash/lang/isArray"),x=e("lodash/lang/isFunction"),C=e("lodash/function/partial"),T=e("lodash/function/partialRight"),S=e("../functions/formatSort"),k=e("./generate-hierarchical-tree");s.prototype.getFacetByName=function(e){var t={name:e};return m(this.facets,t)||m(this.disjunctiveFacets,t)||m(this.hierarchicalFacets,t)},s.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],s.prototype.getFacetValues=function(e,t){var i=o(this,e);if(!i)throw new Error(e+" is not a retrieved facet.");var n=b({},t,{sortBy:s.DEFAULT_SORT});if(_(n.sortBy)){var a=S(n.sortBy);return _(i)?y(i,a[0],a[1]):r(T(y,a[0],a[1]),i)}if(x(n.sortBy))return _(i)?i.sort(n.sortBy):r(C(l,n.sortBy),i);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},s.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return c(this.facets,e);if(this._state.isDisjunctiveFacet(e))return c(this.disjunctiveFacets,e);throw new Error(e+" is not present in `facets` or `disjunctiveFacets`")},t.exports=s},{"../functions/formatSort":177,"./generate-hierarchical-tree":173,"lodash/array/compact":7,"lodash/array/findIndex":8,"lodash/array/indexOf":9,"lodash/collection/find":14,"lodash/collection/forEach":15,"lodash/collection/includes":16,"lodash/collection/map":17,"lodash/collection/sortByOrder":20,"lodash/collection/sum":21,"lodash/function/partial":24,"lodash/function/partialRight":25,"lodash/lang/isArray":136,"lodash/lang/isFunction":138,"lodash/object/defaults":149,"lodash/object/merge":156}],175:[function(e,t){"use strict";function i(e,t,i){this.client=e;var a=i||{};a.index=t,this.state=n.make(a),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1}var n=e("./SearchParameters"),a=e("./SearchResults"),s=e("./requestBuilder"),o=e("util"),r=e("events"),l=e("lodash/collection/forEach"),c=e("lodash/collection/map"),u=e("lodash/function/bind"),d=e("lodash/lang/isEmpty"),h=e("lodash/string/trim"),p=e("./url");o.inherits(i,r.EventEmitter),i.prototype.search=function(){return this._search(),this},i.prototype.searchOnce=function(e,t){var i=this.state.setQueryParameters(e),n=s._getQueries(i.index,i);return t?this.client.search(n,function(e,n){t(e,new a(i,n),i)}):this.client.search(n).then(function(e){return{content:new a(i,e),state:i}})},i.prototype.setQuery=function(e){return this.state=this.state.setQuery(e),this._change(),this},i.prototype.clearRefinements=function(e){return this.state=this.state.clearRefinements(e),this._change(),this},i.prototype.clearTags=function(){return this.state=this.state.clearTags(),this._change(),this},i.prototype.addDisjunctiveFacetRefinement=function(e,t){return this.state=this.state.addDisjunctiveFacetRefinement(e,t),this._change(),this},i.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.addNumericRefinement=function(e,t,i){return this.state=this.state.addNumericRefinement(e,t,i),this._change(),this},i.prototype.addFacetRefinement=function(e,t){return this.state=this.state.addFacetRefinement(e,t),this._change(),this},i.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},i.prototype.addFacetExclusion=function(e,t){return this.state=this.state.addExcludeRefinement(e,t),this._change(),this},i.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},i.prototype.addTag=function(e){return this.state=this.state.addTagRefinement(e),this._change(),this},i.prototype.removeNumericRefinement=function(e,t,i){return this.state=this.state.removeNumericRefinement(e,t,i),this._change(),this},i.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this.state=this.state.removeDisjunctiveFacetRefinement(e,t),this._change(),this},i.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.removeFacetRefinement=function(e,t){return this.state=this.state.removeFacetRefinement(e,t),this._change(),this},i.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},i.prototype.removeFacetExclusion=function(e,t){return this.state=this.state.removeExcludeRefinement(e,t),this._change(),this},i.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},i.prototype.removeTag=function(e){return this.state=this.state.removeTagRefinement(e),this._change(),this},i.prototype.toggleFacetExclusion=function(e,t){return this.state=this.state.toggleExcludeFacetRefinement(e,t),this._change(),this},i.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},i.prototype.toggleRefinement=function(e,t){return this.state=this.state.toggleRefinement(e,t),this._change(),this},i.prototype.toggleRefine=function(){return this.toggleRefinement.apply(this,arguments)},i.prototype.toggleTag=function(e){return this.state=this.state.toggleTagRefinement(e),this._change(),this},i.prototype.nextPage=function(){return this.setCurrentPage(this.state.page+1)},i.prototype.previousPage=function(){return this.setCurrentPage(this.state.page-1)},i.prototype.setCurrentPage=function(e){if(0>e)throw new Error("Page requested below 0.");return this.state=this.state.setPage(e),this._change(),this},i.prototype.setIndex=function(e){return this.state=this.state.setIndex(e),this._change(),this},i.prototype.setQueryParameter=function(e,t){var i=this.state.setQueryParameter(e,t);return this.state===i?this:(this.state=i,this._change(),this)},i.prototype.setState=function(e){return this.state=new n(e),this._change(),this},i.prototype.getState=function(e){return void 0===e?this.state:this.state.filter(e)},i.prototype.getStateAsQueryString=function(e){var t=e&&e.filters||["query","attribute:*"],i=this.getState(t);return p.getQueryStringFromState(i,e)},i.getConfigurationFromQueryString=p.getStateFromQueryString,i.getForeignConfigurationInQueryString=p.getUnrecognizedParametersInQueryString,i.prototype.setStateFromQueryString=function(e,t){var i=t&&t.triggerChange||!1,n=p.getStateFromQueryString(e,t),a=this.state.setQueryParameters(n);i?this.setState(a):this.overrideStateWithoutTriggeringChangeEvent(a)},i.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new n(e),this},i.prototype.isRefined=function(e,t){if(this.state.isConjunctiveFacet(e))return this.state.isFacetRefined(e,t);if(this.state.isDisjunctiveFacet(e))return this.state.isDisjunctiveFacetRefined(e,t);throw new Error(e+" is not properly defined in this helper configuration(use the facets or disjunctiveFacets keys to configure it)")},i.prototype.hasRefinements=function(e){return d(this.state.getNumericRefinements(e))?this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1:!0},i.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t);
},i.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},i.prototype.hasTag=function(e){return this.state.isTagRefined(e)},i.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},i.prototype.getIndex=function(){return this.state.index},i.prototype.getCurrentPage=function(){return this.state.page},i.prototype.getTags=function(){return this.state.tagRefinements},i.prototype.getQueryParameter=function(e){return this.state.getQueryParameter(e)},i.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var i=this.state.getConjunctiveRefinements(e);l(i,function(e){t.push({value:e,type:"conjunctive"})});var n=this.state.getExcludeRefinements(e);l(n,function(e){t.push({value:e,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var a=this.state.getDisjunctiveRefinements(e);l(a,function(e){t.push({value:e,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return l(s,function(e,i){t.push({value:e,operator:i,type:"numeric"})}),t},i.prototype.getHierarchicalFacetBreadcrumb=function(e){return c(this.state.getHierarchicalRefinement(e)[0].split(this.state._getHierarchicalFacetSeparator(this.state.getHierarchicalFacetByName(e))),function(e){return h(e)})},i.prototype._search=function(){var e=this.state,t=s._getQueries(e.index,e);this.emit("search",e,this.lastResults),this.client.search(t,u(this._handleResponse,this,e,this._queryId++))},i.prototype._handleResponse=function(e,t,i,n){if(!(t<this._lastQueryIdReceived)){if(this._lastQueryIdReceived=t,i)return void this.emit("error",i);var s=this.lastResults=new a(e,n);this.emit("result",s,e)}},i.prototype.containsRefinement=function(e,t,i,n){return e||0!==t.length||0!==i.length||0!==n.length},i.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},i.prototype._change=function(){this.emit("change",this.state,this.lastResults)},t.exports=i},{"./SearchParameters":171,"./SearchResults":174,"./requestBuilder":178,"./url":179,events:2,"lodash/collection/forEach":15,"lodash/collection/map":17,"lodash/function/bind":23,"lodash/lang/isEmpty":137,"lodash/string/trim":161,util:6}],176:[function(e,t){"use strict";var i=e("lodash/collection/forEach"),n=e("lodash/utility/identity"),a=e("lodash/lang/isObject"),s=function(e){return a(e)?(i(e,s),Object.isFrozen(e)||Object.freeze(e),e):e};t.exports=Object.freeze?s:n},{"lodash/collection/forEach":15,"lodash/lang/isObject":141,"lodash/utility/identity":162}],177:[function(e,t){"use strict";var i=e("lodash/collection/reduce");t.exports=function(e){return i(e,function(e,t){var i=t.split(":");return e[0].push(i[0]),e[1].push(i[1]),e},[[],[]])}},{"lodash/collection/reduce":19}],178:[function(e,t){"use strict";var i=e("lodash/collection/forEach"),n=e("lodash/collection/map"),a=e("lodash/collection/reduce"),s=e("lodash/object/merge"),o=e("lodash/lang/isArray"),r={_getQueries:function(e,t){var n=[];return n.push({indexName:e,query:t.query,params:this._getHitsSearchParams(t)}),i(t.getRefinedDisjunctiveFacets(),function(i){n.push({indexName:e,query:t.query,params:this._getDisjunctiveFacetSearchParams(t,i)})},this),i(t.getRefinedHierarchicalFacets(),function(i){var a=t.getHierarchicalFacetByName(i),s=t.getHierarchicalRefinement(i);s.length>0&&s[0].split(t._getHierarchicalFacetSeparator(a)).length>1&&n.push({indexName:e,query:t.query,params:this._getDisjunctiveFacetSearchParams(t,i,!0)})},this),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(this._getHitsHierarchicalFacetsAttributes(e)),i=this._getFacetFilters(e),n=this._getNumericFilters(e),a=this._getTagFilters(e),o={facets:t,tagFilters:a};return(e.distinct===!0||e.distinct===!1)&&(o.distinct=e.distinct),i.length>0&&(o.facetFilters=i),n.length>0&&(o.numericFilters=n),s(e.getQueryParams(),o)},_getDisjunctiveFacetSearchParams:function(e,t,i){var n=this._getFacetFilters(e,t,i),a=this._getNumericFilters(e,t),o=this._getTagFilters(e),r={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:o},l=e.getHierarchicalFacetByName(t);return l?r.facets=this._getDisjunctiveHierarchicalFacetAttribute(e,l,i):r.facets=t,(e.distinct===!0||e.distinct===!1)&&(r.distinct=e.distinct),a.length>0&&(r.numericFilters=a),n.length>0&&(r.facetFilters=n),s(e.getQueryParams(),r)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var a=[];return i(e.numericRefinements,function(e,s){i(e,function(e,r){t!==s&&i(e,function(e){if(o(e)){var t=n(e,function(e){return s+r+e});a.push(t)}else a.push(s+r+e)})})}),a},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var a=[];return i(e.facetsRefinements,function(e,t){i(e,function(e){a.push(t+":"+e)})}),i(e.facetsExcludes,function(e,t){i(e,function(e){a.push(t+":-"+e)})}),i(e.disjunctiveFacetsRefinements,function(e,n){if(n!==t&&e&&0!==e.length){var s=[];i(e,function(e){s.push(n+":"+e)}),a.push(s)}}),i(e.hierarchicalFacetsRefinements,function(i,s){var o=i[0];if(void 0!==o){var r,l=e.getHierarchicalFacetByName(s),c=e._getHierarchicalFacetSeparator(l);if(t===s){if(-1===o.indexOf(c)||n===!0)return;r=l.attributes[o.split(c).length-2],o=o.slice(0,o.lastIndexOf(c))}else r=l.attributes[o.split(c).length-1];a.push([r+":"+o])}}),a},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return a(e.hierarchicalFacets,function(t,i){var n=e.getHierarchicalRefinement(i.name)[0];if(!n)return t.push(i.attributes[0]),t;var a=n.split(e._getHierarchicalFacetSeparator(i)).length,s=i.attributes.slice(0,a+1);return t.concat(s)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,i){if(i===!0)return[t.attributes[0]];var n=e.getHierarchicalRefinement(t.name)[0]||"",a=n.split(e._getHierarchicalFacetSeparator(t)).length-1;return t.attributes.slice(0,a+1)}};t.exports=r},{"lodash/collection/forEach":15,"lodash/collection/map":17,"lodash/collection/reduce":19,"lodash/lang/isArray":136,"lodash/object/merge":156}],179:[function(e,t,i){"use strict";function n(e){return m(e)?p(e,n):g(e)?d(e,n):f(e)?v(e):e}function a(e,t,i){if(null!==e&&(t=t.replace(e,""),i=i.replace(e,"")),-1!==b.indexOf(t)||-1!==b.indexOf(i)){if("q"===t)return-1;if("q"===i)return 1;var n=-1!==y.indexOf(t),a=-1!==y.indexOf(i);if(n&&!a)return 1;if(a&&!n)return-1}return t.localeCompare(i)}var s=e("./SearchParameters/shortener"),o=e("./SearchParameters"),r=e("qs"),l=e("lodash/function/bind"),c=e("lodash/collection/forEach"),u=e("lodash/object/pick"),d=e("lodash/collection/map"),h=e("lodash/object/mapKeys"),p=e("lodash/object/mapValues"),f=e("lodash/lang/isString"),m=e("lodash/lang/isPlainObject"),g=e("lodash/lang/isArray"),v=e("qs/lib/utils").encode,y=["dFR","fR","nR","hFR","tR"],b=s.ENCODED_PARAMETERS;i.getStateFromQueryString=function(e,t){var i=t&&t.prefix||"",n=r.parse(e),a=new RegExp("^"+i),l=h(n,function(e,t){if(i&&a.test(t)){var n=t.replace(a,"");return s.decode(n)}var o=s.decode(t);return o||t}),c=o._parseNumbers(l);return u(c,o.PARAMETERS)},i.getUnrecognizedParametersInQueryString=function(e,t){var i=t&&t.prefix,n={},a=r.parse(e);if(i){var o=new RegExp("^"+i);c(a,function(e,t){o.test(t)||(n[t]=e)})}else c(a,function(e,t){s.decode(t)||(n[t]=e)});return n},i.getQueryStringFromState=function(e,t){var i=t&&t.moreAttributes,o=t&&t.prefix||"",c=n(e),u=h(c,function(e,t){var i=s.encode(t);return o+i}),d=""===o?null:new RegExp("^"+o),p=l(a,null,d);if(i){var f=r.stringify(u,{encode:!1,sort:p}),m=r.stringify(i,{encode:!1});return f?f+"&"+m:m}return r.stringify(u,{encode:!1,sort:p})}},{"./SearchParameters":171,"./SearchParameters/shortener":172,"lodash/collection/forEach":15,"lodash/collection/map":17,"lodash/function/bind":23,"lodash/lang/isArray":136,"lodash/lang/isPlainObject":142,"lodash/lang/isString":143,"lodash/object/mapKeys":154,"lodash/object/mapValues":155,"lodash/object/pick":159,qs:165,"qs/lib/utils":168}],180:[function(e,t){"use strict";t.exports="2.6.6"},{}]},{},[1])(1)});var Hogan={};!function(e){function t(e,t,i){var n;return t&&"object"==typeof t&&(void 0!==t[e]?n=t[e]:i&&t.get&&"function"==typeof t.get&&(n=t.get(e))),n}function i(e,t,i,n,a,s){function o(){}function r(){}o.prototype=e,r.prototype=e.subs;var l,c=new o;c.subs=new r,c.subsText={},c.buf="",n=n||{},c.stackSubs=n,c.subsText=s;for(l in t)n[l]||(n[l]=t[l]);for(l in n)c.subs[l]=n[l];a=a||{},c.stackPartials=a;for(l in i)a[l]||(a[l]=i[l]);for(l in a)c.partials[l]=a[l];return c}function n(e){return String(null===e||void 0===e?"":e)}function a(e){return e=n(e),u.test(e)?e.replace(s,"&amp;").replace(o,"&lt;").replace(r,"&gt;").replace(l,"&#39;").replace(c,"&quot;"):e}e.Template=function(e,t,i,n){e=e||{},this.r=e.code||this.r,this.c=i,this.options=n||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(){return""},v:a,t:n,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},ep:function(e,t){var n=this.partials[e],a=t[n.name];if(n.instance&&n.base==a)return n.instance;if("string"==typeof a){if(!this.c)throw new Error("No compiler available.");a=this.c.compile(a,this.options)}if(!a)return null;if(this.partials[e].base=a,n.subs){t.stackText||(t.stackText={});for(key in n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);a=i(a,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=a,a},rp:function(e,t,i,n){var a=this.ep(e,i);return a?a.ri(t,i,n):""},rs:function(e,t,i){var n=e[e.length-1];if(!d(n))return void i(e,t,this);for(var a=0;a<n.length;a++)e.push(n[a]),i(e,t,this),e.pop()},s:function(e,t,i,n,a,s,o){var r;return d(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ms(e,t,i,n,a,s,o)),r=!!e,!n&&r&&t&&t.push("object"==typeof e?e:t[t.length-1]),r)},d:function(e,i,n,a){var s,o=e.split("."),r=this.f(o[0],i,n,a),l=this.options.modelGet,c=null;if("."===e&&d(i[i.length-2]))r=i[i.length-1];else for(var u=1;u<o.length;u++)s=t(o[u],r,l),void 0!==s?(c=r,r=s):r="";return a&&!r?!1:(a||"function"!=typeof r||(i.push(c),r=this.mv(r,i,n),i.pop()),r)},f:function(e,i,n,a){for(var s=!1,o=null,r=!1,l=this.options.modelGet,c=i.length-1;c>=0;c--)if(o=i[c],s=t(e,o,l),void 0!==s){r=!0;break}return r?(a||"function"!=typeof s||(s=this.mv(s,i,n)),s):a?!1:""},ls:function(e,t,i,a,s){var o=this.options.delimiters;return this.options.delimiters=s,this.b(this.ct(n(e.call(t,a)),t,i)),this.options.delimiters=o,!1},ct:function(e,t,i){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,i)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,i,n,a,s,o){var r,l=t[t.length-1],c=e.call(l);return"function"==typeof c?n?!0:(r=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,l,i,r.substring(a,s),o)):c},mv:function(e,t,i){var a=t[t.length-1],s=e.call(a);return"function"==typeof s?this.ct(n(s.call(a)),a,i):s},sub:function(e,t,i,n){var a=this.subs[e];a&&(this.activeSub=e,a(t,i,this,n),this.activeSub=!1)}};var s=/&/g,o=/</g,r=/>/g,l=/\'/g,c=/\"/g,u=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function i(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function n(e,t,i){if(t.charAt(i)!=e.charAt(0))return!1;for(var n=1,a=e.length;a>n;n++)if(t.charAt(i+n)!=e.charAt(n))return!1;return!0}function a(t,i,n,r){var l=[],c=null,u=null,d=null;for(u=n[n.length-1];t.length>0;){if(d=t.shift(),u&&"<"==u.tag&&!(d.tag in _))throw new Error("Illegal content in < super tag.");if(e.tags[d.tag]<=e.tags.$||s(d,r))n.push(d),d.nodes=a(t,d.tag,n,r);else{if("/"==d.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+d.n);if(c=n.pop(),d.n!=c.n&&!o(d.n,c.n,r))throw new Error("Nesting error: "+c.n+" vs. "+d.n);return c.end=d.i,l}"\n"==d.tag&&(d.last=0==t.length||"\n"==t[0].tag)}l.push(d)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return l}function s(e,t){for(var i=0,n=t.length;n>i;i++)if(t[i].o==e.n)return e.tag="#",!0}function o(e,t,i){for(var n=0,a=i.length;a>n;n++)if(i[n].c==e&&i[n].o==t)return!0}function r(e){var t=[];for(var i in e)t.push('"'+c(i)+'": function(c,p,t,i) {'+e[i]+"}");return"{ "+t.join(",")+" }"}function l(e){var t=[];for(var i in e.partials)t.push('"'+c(i)+'":{name:"'+c(e.partials[i].name)+'", '+l(e.partials[i])+"}");return"partials: {"+t.join(",")+"}, subs: "+r(e.subs)}function c(e){return e.replace(y,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r").replace(b,"\\u2028").replace(w,"\\u2029")}function u(e){return~e.indexOf(".")?"d":"f"}function d(e,t){var i="<"+(t.prefix||""),n=i+e.n+x++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+c(n)+'",c,p,"'+(e.indent||"")+'"));',n}function h(e,t){t.code+="t.b(t.t(t."+u(e.n)+'("'+c(e.n)+'",c,p,0)));'}function p(e){return"t.b("+e+");"}var f=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,y=/\\/g,b=/\u2028/,w=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(a,s){function o(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function r(){for(var t=!0,i=x;i<b.length;i++)if(t=e.tags[b[i].tag]<e.tags._v||"_t"==b[i].tag&&null===b[i].text.match(f),!t)return!1;return t}function l(e,t){if(o(),e&&r())for(var i,n=x;n<b.length;n++)b[n].text&&((i=b[n+1])&&">"==i.tag&&(i.indent=b[n].text.toString()),b.splice(n,1));else t||b.push({tag:"\n"});w=!1,x=b.length}function c(e,t){var n="="+T,a=e.indexOf(n,t),s=i(e.substring(e.indexOf("=",t)+1,a)).split(" ");return C=s[0],T=s[s.length-1],a+n.length-1}var u=a.length,d=0,h=1,p=2,m=d,g=null,v=null,y="",b=[],w=!1,_=0,x=0,C="{{",T="}}";for(s&&(s=s.split(" "),C=s[0],T=s[1]),_=0;u>_;_++)m==d?n(C,a,_)?(--_,o(),m=h):"\n"==a.charAt(_)?l(w):y+=a.charAt(_):m==h?(_+=C.length-1,v=e.tags[a.charAt(_+1)],g=v?a.charAt(_+1):"_v","="==g?(_=c(a,_),m=d):(v&&_++,m=p),w=_):n(T,a,_)?(b.push({tag:g,n:i(y),otag:C,ctag:T,i:"/"==g?w-C.length:_+T.length}),y="",_+=T.length-1,m=d,"{"==g&&("}}"==T?_++:t(b[b.length-1]))):y+=a.charAt(_);return l(w,!0),b};var _={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+l(t)+"}"};var x=0;e.generate=function(t,i,n){x=0;var a={code:"",subs:{},partials:{}};return e.walk(t,a),n.asString?this.stringify(a,i,n):this.makeTemplate(a,i,n)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,i){var n=this.makePartials(e);return n.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,i)},e.makePartials=function(e){var t,i={subs:{},partials:e.partials,name:e.name};for(t in i.partials)i.partials[t]=this.makePartials(i.partials[t]);for(t in e.subs)i.subs[t]=new Function("c","p","t","i",e.subs[t]);return i},e.codegen={"#":function(t,i){i.code+="if(t.s(t."+u(t.n)+'("'+c(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,i),i.code+="});c.pop();}"},"^":function(t,i){i.code+="if(!t.s(t."+u(t.n)+'("'+c(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,i),i.code+="};"},">":d,"<":function(t,i){var n={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,n);var a=i.partials[d(t,i)];a.subs=n.subs,a.partials=n.partials},$:function(t,i){var n={subs:{},code:"",partials:i.partials,prefix:t.n};e.walk(t.nodes,n),i.subs[t.n]=n.code,i.inPartial||(i.code+='t.sub("'+c(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=p('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+u(e.n)+'("'+c(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=p('"'+c(e.text)+'"')},"{":h,"&":h},e.walk=function(t,i){for(var n,a=0,s=t.length;s>a;a++)n=e.codegen[t[a].tag],n&&n(t[a],i);return i},e.parse=function(e,t,i){return i=i||{},a(e,"",[],i.sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,i){i=i||{};var n=e.cacheKey(t,i),a=this.cache[n];if(a){var s=a.partials;for(var o in s)delete s[o].instance;return a}return a=this.generate(this.parse(this.scan(t,i.delimiters),t,i),t,i),this.cache[n]=a}}("undefined"!=typeof exports?exports:Hogan),"undefined"!=typeof module&&module.exports&&(module.exports=Hogan),$(window).resize(function(){fixMobileOverflowTags()}),$(document).ready(function(){function e(e){e.length>0&&(k.setQuery(e),k.search())}function t(e){e.length>0&&(E.setQuery(e),E.search())}function i(e){e.length>0&&(D.setQuery(e),D.search())}function n(e){query=e.val(),M.setQuery(query),M.search()}function a(e){$.each(e,function(e,t){""==t.viator_link&&(t.viator_link={klass:"hide"})})}function s(){var e=$(".tags-result");$.each(e,function(e,t){$(t).data("tags").length>0&&(tag=$(t).data("tags").split(","),$.each(tag,function(e,i){$(t).append("<div class='tag'><div class='v-center'>"+i+"</div></div>")}))})}function o(e,t){var i=!1,n=e.indexOf(t);return n>=0&&(i=!0),i}function r(){var e=$("#dataBucketOffer").data("bucketlist"),t=$("#dataBucketPlace").data("bucketlist"),i=$("#dataBucketRegion").data("bucketlist"),n=$("#dataBucketStory").data("bucketlist"),a=$('[data-klass="offer"]'),s=$('[data-klass="place"]');region_cards=$('[data-klass="region"]'),story_cards=$('[data-klass="story"]'),void 0!=e&&""!=e&&$.each(a,function(){var t=$(this).data("place-id");o(e,t)&&$(this).addClass("search-page-card__to-bucket-list--liked").data("liked","true")}),void 0!=t&&$.each(s,function(){var e=$(this).data("place-id");o(t,e)&&$(this).addClass("search-page-card__to-bucket-list--liked").data("liked","true")}),void 0!=i&&$.each(region_cards,function(){var e=$(this).data("place-id");o(i,e)&&$(this).addClass("search-page-card__to-bucket-list--liked").data("liked","true")}),void 0!=n&&$.each(story_cards,function(){var e=$(this).data("place-id");o(n,e)&&$(this).addClass("search-page-card__to-bucket-list--liked").data("liked","true")})}function l(){setTimeout(function(){$(".search-page-card__info-side.search-page-card__info-side--right").each(function(){var e=$(this).find(".search-page-card__description"),t=$(this).find("h2"),i=$(this).find("h3").not(".search-page-card__header"),n=$(this).find("p").not(".search-page-card__description").not(".search-page-card__short-details-key").not(".search-page-card__short-details-value"),a=$(this).find("span").not(".search-page-card__category-item"),s="";t.length>0&&(t.hide(),s+=t.text()+" "),i.length>0&&(i.hide(),s+=i.text()+" "),a.length>0&&(a.hide(),s+=a.text()+" "),n.length>0&&(n.hide(),s+=n.text()+" "),s=s.substr(0,200)+" ...",(t.length>0||i.length>0||a.length>0||n.length>0)&&e.append(s)});var e=$(".search-page-card").find("b");e.length>0&&e.each(function(){$(this).replaceWith($("<span>"+this.innerHTML+"</span>"))});var t=$(".instant-hits-result").find("b");t.length>0&&t.each(function(){$(this).replaceWith($("<span>"+this.innerHTML+"</span>"))})},100)}function c(){$.each($("#facets-instant-search .facet"),function(){$(this).find("label").length>5?$(this).find("label").each(function(e){5>e&&$(this).addClass("show")}):$(this).find(".show-more-faceting").addClass("hide")}),$(".show-more-faceting").click(function(){var e=$(this).siblings("label").slice(5,$(this).siblings().length),t=$(this).find("span.search-page-filter__label-text");e.toggleClass("show"),t.toggleClass("hide")})}function u(e){$.each(e,function(e,t){t.description=t.description.substring(0,235)+"..."})}function d(e){e.hits.length>0?($.each(e.hits,function(){if("Offers"==$(this)[0].where_destinations){$(this)[0].is_offer=!0,$(this)[0].is_story=!1;var e=$(this)[0].startDate.split("-"),t=new Date(Date.parse(e)),i=t.getDate(),n=t.getMonth()+1,a=t.getFullYear();$(this)[0].startDate=i+"-"+n+"-"+a,$(this)[0].monthlyPayments=($(this)[0].minRateAdult/5).toFixed(2),$(this)[0].minRateAdult=($(this)[0].minRateAdult/1).toFixed(2);var s=$(this)[0].endDate.split("-"),r=(new Date(Date.parse(s)),t.getDate()),l=t.getMonth()+1,c=t.getFullYear();$(this)[0].endDate=r+"-"+l+"-"+c}else"Stories"==$(this)[0].where_destinations?($(this)[0].is_offer=!1,$(this)[0].is_story=!0):($(this)[0].is_offer=!1,$(this)[0].is_story=!1);o($(this)[0].objectID,"_")?($(this)[0].ID=$(this)[0].objectID.split("_")[1],$(this)[0].object=$(this)[0].objectID.split("_")[0]):$(this)[0].ID=$(this)[0].objectID}),$instantSearchHits.html(R.render(e)),$(".instant-hits-result-pagination").show()):($instantSearchHits.html(z.render(e)),$(".show_form_request").click(function(){$("#search_request").show()}),$("form#search_request").submit(function(e){e.preventDefault();var t=$(this).serialize();$(this).find("button").addClass("sending"),$.ajax({url:"/search_requests/create",type:"post",dataType:"json",data:t}).done(function(e){1==e.success?(success="<div class='alert alert-success alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>Thank you, Your request has been sent to <strong>info@boundround.com.</strong> &nbsp;&nbsp; <a href='/' style='color: #3c763d;'>Back to home</a></div>",setTimeout(function(){$("#search_request").find("button").removeClass("sending")},1e3),setTimeout(function(){$("#search_request").hide()},1e3),setTimeout(function(){$("#message-query").html(success)},1e3)):(error="<div class='alert alert-warning alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>"+e.messages+"</div>",$("#message-query").html(error),setTimeout(function(){$("#search_request").find("button").removeClass("sending")},1e3))}).fail(function(e){error="<div class='alert alert-warning alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>"+e.statusText+"</div>",$("#message-query").html(error)})}),$(".instant-hits-result-pagination").hide()),v(),setImagesPosition()}function h(e){for(var t="",i="",n="",a=0;a<P.length;++a){var s=P[a],o=e.getFacetByName(s);if(o)if("where_destinations"==o.name){var r={};r={facet:s,title:A[s],values:e.getFacetValues(s,{sortBy:["isRefined:desc","count:desc"]}),disjunctive:-1!==$.inArray(s,T.disjunctiveFacets)},r.values.sort(function(e,t){return e.name.localeCompare(t.name)}),i+=F.render(r)}else if("age_range"==o.name){var l={};l={facet:s,title:A[s],values:e.getFacetValues(s,{sortBy:["isRefined:desc","count:desc"]}),disjunctive:-1!==$.inArray(s,T.disjunctiveFacets)},l.values.sort(function(e,t){return e.name.localeCompare(t.name)}),n+=F.render(l)}else{var c={};c={facet:s,title:A[s],values:e.getFacetValues(s,{sortBy:["isRefined:desc","count:desc"]}),disjunctive:-1!==$.inArray(s,T.disjunctiveFacets)},c.values.sort(function(e,t){return e.name.localeCompare(t.name)}),t+=F.render(c)}}$instantSearchFacet.html(t),$instantSearchFacet2.html(i),$instantSearchFacet3.html(n)}function p(e,t,i){var n=[];e.page>3&&(n.push({current:!1,number:1}),n.push({current:!1,number:"...",disabled:!0}));for(var a=e.page-3;a<e.page+3;++a)0>a||a>=e.nbPages||n.push({current:e.page===a,number:a+1});e.page+3<e.nbPages&&(n.push({current:!1,number:"...",disabled:!0}),n.push({current:!1,number:e.nbPages}));var s={pages:n,prev_page:e.page>0?e.page:!1,next_page:e.page+1<e.nbPages?e.page+2:!1};t.html(i.render(s))}function f(e){$moreResultNav.html(j.render(e))}function m(e){$moreResultHome.html(O.render(e))}function g(e){$hits.html(N.render(e))}function v(){var e=$(".hit-icon img");$.each(e,function(e,t){""==$(t).attr("src")&&$(t).attr("src","https://d1w99recw67lvf.cloudfront.net/images/generic-hero-small.jpg")}),e=$("img.rescue-image"),$.each(e,function(e,t){""==$(t).attr("src")&&$(t).attr("src","https://d1w99recw67lvf.cloudfront.net/images/generic-hero-small.jpg")})}function y(){var e=$(".ischecked");$.each(e,function(e,t){new_val=$(t).data("value").toLowerCase().replace(" /","").replace(/\s+/g,"-").replace("/","-"),new_val==$(t).data("checked")&&$(t).click()})}var b=$("#environment").data("environment"),w="KXOYK344AM",_="b2a5d8937365f59e1b2301b45fb1ae35",x="mydiscoveries_"+b;if("offer"==$(".app-wrap > div").data("page")&&"index"==$(".app-wrap > div").data("controller"))var C="mydiscoveries_offers_"+b;else var C="mydiscoveries_"+b;var T={hitsPerPage:5,maxValuesPerFacet:10},S=algoliasearch(w,_),k=algoliasearchHelper(S,x,T),E=algoliasearchHelper(S,x,T),D=algoliasearchHelper(S,x,T),P=["places_visited","subcategory"],A={subcategory:"Subcategory",places_visited:"Places Visited"},I={hitsPerPage:6,facets:["is_area"],disjunctiveFacets:P},M=algoliasearchHelper(S,C,I);$searchInput=$(".search-box"),$searchInputBottom=$(".search-box-bottom"),$searchInputMobile=$(".search-box-mobile"),$searchInputIcon=$("#search-button"),$main=$("main"),$sortBySelect=$("#sort-by-select"),$hits=$(".hits"),$stats=$("#stats"),$facets=$("#facets"),$moreResultHome=$(".more-result-id-home"),$moreResultNav=$(".more-result-id-nav");var N=(Hogan.compile($("#hit-template").text()),Hogan.compile($("#hit-template-home").text())),j=(Hogan.compile($("#facet-template").text()),Hogan.compile($("#more-results-template-nav").text())),O=Hogan.compile($("#more-results-template-home").text());if($instantSearchInput=$("input.instant-search"),$instantSearchInput.length){n($instantSearchInput),$instantSearchFacet=$("#facets-instant-search"),$instantSearchFacet2=$("#facets-instant-search2"),$instantSearchFacet3=$("#facets-instant-search3"),$instantSearchHits=$instantSearchInput.closest("div#instant-search-container").find("div#instant-search-results div.instant-hits-result"),$instantSearchPagination=$instantSearchInput.closest("div#instant-search-container").find("div#instant-search-results div.pagination");var R=Hogan.compile($("#instant-hit-template").text()),L=Hogan.compile($("#instant-pagination-template").text()),F=Hogan.compile($("#instant-facet-template").text()),z=Hogan.compile($("#instant-no-result-template").text())}$searchInput.on("keyup",function(t){var i=$(this).val();e(i),""==i&&8==t.keyCode&&$("#search-results-container").hide()}).bind("paste",function(){var t=$(this);setTimeout(function(){query=t.val(),e(query)},100)}).focus(),$searchInputMobile.on("keyup",function(){var e=$(this).val();i(e)}).bind("paste",function(){var e=$(this);setTimeout(function(){query=e.val(),i(query)},100)}).focus(),$searchInputBottom.on("keyup",function(e){var i=$(this).val();t(i),""==i&&8==e.keyCode&&$(".search-results-container").hide()}).bind("paste",function(){var e=$(this);setTimeout(function(){query=e.val(),t(query)},100)}).focus(),$instantSearchInput.on("keyup",function(){n($(this))}).bind("paste",function(){$(this);setTimeout(function(){n($(this))},100)}).focus(),k.on("result",function(e){e.hits.length>0&&($("#search-results-container").show(),$("#search-results-bottom-container").hide(),g(e),f(e),v())}),E.on("result",function(e){e.hits.length>0&&($("#search-results-bottom-container").show(),$("#search-results-container").hide(),g(e),m(e),v())}),D.on("result",function(e){e.hits.length>0&&($("#search-results-mobile-container").show(),$("#search-results-container").hide(),g(e),m(e),v())}),M.on("result",function(e,t){a(e.hits),u(e.hits),d(e),h(e,t),p(e,$instantSearchPagination,L),setImagesPosition(),s(),fixMobileOverflowTags(),l(),setTimeout(function(){r(),addToFav()},1e3),c()}),$(document).on("click",".go-to-page-instant-search",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"500","swing"),M.setCurrentPage(+$(this).data("page")-1).search()}),$(document).on("click",".instant-search-toggle-refine",function(){M.toggleRefine($(this).data("facet"),$(this).data("value")).search()}),$(document).on("click","a.search-results-card,.dest-thing.search.cs-dest-thing-search a",function(){$.post("/searchables/algolia-click/"+$(this).data("object-id"))}),setTimeout(function(){y()},1500),$(".brief-background").click(function(){$("#search-results-bottom-container").hide()}),$searchInputBottom.click(function(){$(this).val().length&&$("#search-results-bottom-container").show(),$("#search-results-container").hide()}),$searchInput.click(function(){$(this).val().length&&$("#search-results-container").show(),$("#search-results-bottom-container").hide()}),$(".app-wrap").click(function(){$("#search-results-container").hide()})}),!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(["jquery","googlemaps!"],t):e.GMaps=t()}(this,function(){var t=function(e,t){var i;if(e===t)return e;for(i in t)e[i]=t[i];return e},i=function(e,t){var i,n=Array.prototype.slice.call(arguments,2),a=[],s=e.length;if(Array.prototype.map&&e.map===Array.prototype.map)a=Array.prototype.map.call(e,function(e){var i=n.slice(0);return i.splice(0,0,e),t.apply(this,i)});else for(i=0;s>i;i++)callback_params=n,callback_params.splice(0,0,e[i]),a.push(t.apply(this,callback_params));return a},n=function(e){var t,i=[];for(t=0;t<e.length;t++)i=i.concat(e[t]);return i},a=function(e,t){var i=e[0],n=e[1];return t&&(i=e[1],n=e[0]),new google.maps.LatLng(i,n)},s=function(e,t){var i;for(i=0;i<e.length;i++)e[i]instanceof google.maps.LatLng||(e[i].length>0&&"object"==typeof e[i][0]?e[i]=s(e[i],t):e[i]=a(e[i],t));return e},o=function(e,t){var i,n=e.replace(".","");return i="jQuery"in this&&t?$("."+n,t)[0]:document.getElementsByClassName(n)[0]},r=function(e,t){var i,e=e.replace("#","");return i="jQuery"in window&&t?$("#"+e,t)[0]:document.getElementById(e)},l=function(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop;while(e=e.offsetParent);return[t,i]},c=function(){if("object"!=typeof window.google||!window.google.maps)return"object"==typeof window.console&&window.console.error&&console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."),function(){};var e=document,i=function(n){if(!this)return new i(n);n.zoom=n.zoom||15,n.mapType=n.mapType||"roadmap";var a,s=function(e,t){return void 0===e?t:e},c=this,u=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],d=["mousemove","mouseout","mouseover"],h=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],p=n.el||n.div,f=n.markerClusterer,m=google.maps.MapTypeId[n.mapType.toUpperCase()],g=new google.maps.LatLng(n.lat,n.lng),v=s(n.zoomControl,!0),y=n.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},b=y.style||"DEFAULT",w=y.position||"TOP_LEFT",_=s(n.panControl,!0),x=s(n.mapTypeControl,!0),C=s(n.scaleControl,!0),T=s(n.streetViewControl,!0),S=s(S,!0),k={},E={zoom:this.zoom,center:g,mapTypeId:m},D={panControl:_,zoomControl:v,zoomControlOptions:{style:google.maps.ZoomControlStyle[b],position:google.maps.ControlPosition[w]},mapTypeControl:x,scaleControl:C,streetViewControl:T,overviewMapControl:S};if("string"==typeof n.el||"string"==typeof n.div?p.indexOf("#")>-1?this.el=r(p,n.context):this.el=o.apply(this,[p,n.context]):this.el=p,"undefined"==typeof this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[c.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=n.zoom,this.registered_events={},this.el.style.width=n.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=n.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=n.enableNewStyle,a=0;a<h.length;a++)delete n[h[a]];for(1!=n.disableDefaultUI&&(E=t(E,D)),k=t(E,n),a=0;a<u.length;a++)delete k[u[a]];for(a=0;a<d.length;a++)delete k[d[a]];this.map=new google.maps.Map(this.el,k),f&&(this.markerClusterer=f.apply(this,[this.map]));var P=function(e,t){var i="",n=window.context_menu[c.el.id][e];for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];i+='<li><a id="'+e+"_"+a+'" href="#">'+s.title+"</a></li>"}if(r("gmaps_context_menu")){var o=r("gmaps_context_menu");o.innerHTML=i;var a,u=o.getElementsByTagName("a"),d=u.length;for(a=0;d>a;a++){var h=u[a],p=function(i){i.preventDefault(),n[this.id.replace(e+"_","")].action.apply(c,[t]),c.hideContextMenu()};google.maps.event.clearListeners(h,"click"),google.maps.event.addDomListenerOnce(h,"click",p,!1)}var f=l.apply(this,[c.el]),m=f[0]+t.pixel.x-15,g=f[1]+t.pixel.y-15;o.style.left=m+"px",o.style.top=g+"px"}};this.buildContextMenu=function(e,t){
if("marker"===e){t.pixel={};var i=new google.maps.OverlayView;i.setMap(c.map),i.draw=function(){var n=i.getProjection(),a=t.marker.getPosition();t.pixel=n.fromLatLngToContainerPixel(a),P(e,t)}}else P(e,t);var n=r("gmaps_context_menu");setTimeout(function(){n.style.display="block"},0)},this.setContextMenu=function(t){window.context_menu[c.el.id][t.control]={};var i,n=e.createElement("ul");for(i in t.options)if(t.options.hasOwnProperty(i)){var a=t.options[i];window.context_menu[c.el.id][t.control][a.name]={title:a.title,action:a.action}}n.id="gmaps_context_menu",n.style.display="none",n.style.position="absolute",n.style.minWidth="100px",n.style.background="white",n.style.listStyle="none",n.style.padding="8px",n.style.boxShadow="2px 2px 6px #ccc",r("gmaps_context_menu")||e.body.appendChild(n);var s=r("gmaps_context_menu");google.maps.event.addDomListener(s,"mouseout",function(e){e.relatedTarget&&this.contains(e.relatedTarget)||window.setTimeout(function(){s.style.display="none"},400)},!1)},this.hideContextMenu=function(){var e=r("gmaps_context_menu");e&&(e.style.display="none")};var A=function(e,t){google.maps.event.addListener(e,t,function(e){void 0==e&&(e=this),n[t].apply(this,[e]),c.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var I=0;I<u.length;I++){var M=u[I];M in n&&A(this.map,M)}for(var I=0;I<d.length;I++){var M=d[I];M in n&&A(this.map,M)}google.maps.event.addListener(this.map,"rightclick",function(e){n.rightclick&&n.rightclick.apply(this,[e]),void 0!=window.context_menu[c.el.id].map&&c.buildContextMenu("map",e)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var e,t=[],i=this.markers.length;for(e=0;i>e;e++)"boolean"==typeof this.markers[e].visible&&this.markers[e].visible&&t.push(this.markers[e].getPosition());this.fitLatLngBounds(t)},this.fitLatLngBounds=function(e){var t,i=e.length,n=new google.maps.LatLngBounds;for(t=0;i>t;t++)n.extend(e[t]);this.map.fitBounds(n)},this.setCenter=function(e,t,i){this.map.panTo(new google.maps.LatLng(e,t)),i&&i()},this.getElement=function(){return this.el},this.zoomIn=function(e){e=e||1,this.zoom=this.map.getZoom()+e,this.map.setZoom(this.zoom)},this.zoomOut=function(e){e=e||1,this.zoom=this.map.getZoom()-e,this.map.setZoom(this.zoom)};var N,j=[];for(N in this.map)"function"!=typeof this.map[N]||this[N]||j.push(N);for(a=0;a<j.length;a++)!function(e,t,i){e[i]=function(){return t[i].apply(t,arguments)}}(this,this.map,j[a])};return i}(this);c.prototype.createControl=function(e){var t=document.createElement("div");t.style.cursor="pointer",e.disableDefaultStyles!==!0&&(t.style.fontFamily="Roboto, Arial, sans-serif",t.style.fontSize="11px",t.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px");for(var i in e.style)t.style[i]=e.style[i];e.id&&(t.id=e.id),e.title&&(t.title=e.title),e.classes&&(t.className=e.classes),e.content&&("string"==typeof e.content?t.innerHTML=e.content:e.content instanceof HTMLElement&&t.appendChild(e.content)),e.position&&(t.position=google.maps.ControlPosition[e.position.toUpperCase()]);for(var n in e.events)!function(t,i){google.maps.event.addDomListener(t,i,function(){e.events[i].apply(this,[this])})}(t,n);return t.index=1,t},c.prototype.addControl=function(e){var t=this.createControl(e);return this.controls.push(t),this.map.controls[t.position].push(t),t},c.prototype.removeControl=function(e){var t,i=null;for(t=0;t<this.controls.length;t++)this.controls[t]==e&&(i=this.controls[t].position,this.controls.splice(t,1));if(i)for(t=0;t<this.map.controls.length;t++){var n=this.map.controls[e.position];if(n.getAt(t)==e){n.removeAt(t);break}}return e},c.prototype.createMarker=function(e){if(void 0==e.lat&&void 0==e.lng&&void 0==e.position)throw"No latitude or longitude defined.";var i=this,n=e.details,a=e.fences,s=e.outside,o={position:new google.maps.LatLng(e.lat,e.lng),map:null},r=t(o,e);delete r.lat,delete r.lng,delete r.fences,delete r.outside;var l=new google.maps.Marker(r);if(l.fences=a,e.infoWindow){l.infoWindow=new google.maps.InfoWindow(e.infoWindow);for(var c=["closeclick","content_changed","domready","position_changed","zindex_changed"],u=0;u<c.length;u++)!function(t,i){e.infoWindow[i]&&google.maps.event.addListener(t,i,function(t){e.infoWindow[i].apply(this,[t])})}(l.infoWindow,c[u])}for(var d=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],h=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],u=0;u<d.length;u++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(){e[i].apply(this,[this])})}(l,d[u]);for(var u=0;u<h.length;u++)!function(t,i,n){e[n]&&google.maps.event.addListener(i,n,function(i){i.pixel||(i.pixel=t.getProjection().fromLatLngToPoint(i.latLng)),e[n].apply(this,[i])})}(this.map,l,h[u]);return google.maps.event.addListener(l,"click",function(){this.details=n,e.click&&e.click.apply(this,[this]),l.infoWindow&&(i.hideInfoWindows(),l.infoWindow.open(i.map,l))}),google.maps.event.addListener(l,"rightclick",function(t){t.marker=this,e.rightclick&&e.rightclick.apply(this,[t]),void 0!=window.context_menu[i.el.id].marker&&i.buildContextMenu("marker",t)}),l.fences&&google.maps.event.addListener(l,"dragend",function(){i.checkMarkerGeofence(l,function(e,t){s(e,t)})}),l},c.prototype.addMarker=function(e){var t;if(e.hasOwnProperty("gm_accessors_"))t=e;else{if(!(e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")||e.position))throw"No latitude or longitude defined.";t=this.createMarker(e)}return t.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(t),this.markers.push(t),c.fire("marker_added",t,this),t},c.prototype.addMarkers=function(e){for(var t,i=0;t=e[i];i++)this.addMarker(t);return this.markers},c.prototype.hideInfoWindows=function(){for(var e,t=0;e=this.markers[t];t++)e.infoWindow&&e.infoWindow.close()},c.prototype.removeMarker=function(e){for(var t=0;t<this.markers.length;t++)if(this.markers[t]===e){this.markers[t].setMap(null),this.markers.splice(t,1),this.markerClusterer&&this.markerClusterer.removeMarker(e),c.fire("marker_removed",e,this);break}return e},c.prototype.removeMarkers=function(e){var t=[];if("undefined"==typeof e){for(var i=0;i<this.markers.length;i++){var n=this.markers[i];n.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(n),c.fire("marker_removed",n,this)}this.markers=t}else{for(var i=0;i<e.length;i++){var a=this.markers.indexOf(e[i]);if(a>-1){var n=this.markers[a];n.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(n),c.fire("marker_removed",n,this)}}for(var i=0;i<this.markers.length;i++){var n=this.markers[i];null!=n.getMap()&&t.push(n)}this.markers=t}},c.prototype.drawOverlay=function(e){var t=new google.maps.OverlayView,i=!0;return t.setMap(this.map),null!=e.auto_show&&(i=e.auto_show),t.onAdd=function(){var i=document.createElement("div");i.style.borderStyle="none",i.style.borderWidth="0px",i.style.position="absolute",i.style.zIndex=100,i.innerHTML=e.content,t.el=i,e.layer||(e.layer="overlayLayer");var n=this.getPanes(),a=n[e.layer],s=["contextmenu","DOMMouseScroll","dblclick","mousedown"];a.appendChild(i);for(var o=0;o<s.length;o++)!function(e,t){google.maps.event.addDomListener(e,t,function(e){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(e.cancelBubble=!0,e.returnValue=!1):e.stopPropagation()})}(i,s[o]);e.click&&(n.overlayMouseTarget.appendChild(t.el),google.maps.event.addDomListener(t.el,"click",function(){e.click.apply(t,[t])})),google.maps.event.trigger(this,"ready")},t.draw=function(){var n=this.getProjection(),a=n.fromLatLngToDivPixel(new google.maps.LatLng(e.lat,e.lng));e.horizontalOffset=e.horizontalOffset||0,e.verticalOffset=e.verticalOffset||0;var s=t.el,o=s.children[0],r=o.clientHeight,l=o.clientWidth;switch(e.verticalAlign){case"top":s.style.top=a.y-r+e.verticalOffset+"px";break;default:case"middle":s.style.top=a.y-r/2+e.verticalOffset+"px";break;case"bottom":s.style.top=a.y+e.verticalOffset+"px"}switch(e.horizontalAlign){case"left":s.style.left=a.x-l+e.horizontalOffset+"px";break;default:case"center":s.style.left=a.x-l/2+e.horizontalOffset+"px";break;case"right":s.style.left=a.x+e.horizontalOffset+"px"}s.style.display=i?"block":"none",i||e.show.apply(this,[s])},t.onRemove=function(){var i=t.el;e.remove?e.remove.apply(this,[i]):(t.el.parentNode.removeChild(t.el),t.el=null)},this.overlays.push(t),t},c.prototype.removeOverlay=function(e){for(var t=0;t<this.overlays.length;t++)if(this.overlays[t]===e){this.overlays[t].setMap(null),this.overlays.splice(t,1);break}},c.prototype.removeOverlays=function(){for(var e,t=0;e=this.overlays[t];t++)e.setMap(null);this.overlays=[]},c.prototype.drawPolyline=function(e){var t=[],i=e.path;if(i.length)if(void 0===i[0][0])t=i;else for(var n,a=0;n=i[a];a++)t.push(new google.maps.LatLng(n[0],n[1]));var s={map:this.map,path:t,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,geodesic:e.geodesic,clickable:!0,editable:!1,visible:!0};e.hasOwnProperty("clickable")&&(s.clickable=e.clickable),e.hasOwnProperty("editable")&&(s.editable=e.editable),e.hasOwnProperty("icons")&&(s.icons=e.icons),e.hasOwnProperty("zIndex")&&(s.zIndex=e.zIndex);for(var o=new google.maps.Polyline(s),r=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],l=0;l<r.length;l++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(o,r[l]);return this.polylines.push(o),c.fire("polyline_added",o,this),o},c.prototype.removePolyline=function(e){for(var t=0;t<this.polylines.length;t++)if(this.polylines[t]===e){this.polylines[t].setMap(null),this.polylines.splice(t,1),c.fire("polyline_removed",e,this);break}},c.prototype.removePolylines=function(){for(var e,t=0;e=this.polylines[t];t++)e.setMap(null);this.polylines=[]},c.prototype.drawCircle=function(e){e=t({map:this.map,center:new google.maps.LatLng(e.lat,e.lng)},e),delete e.lat,delete e.lng;for(var i=new google.maps.Circle(e),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],a=0;a<n.length;a++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(i,n[a]);return this.polygons.push(i),i},c.prototype.drawRectangle=function(e){e=t({map:this.map},e);var i=new google.maps.LatLngBounds(new google.maps.LatLng(e.bounds[0][0],e.bounds[0][1]),new google.maps.LatLng(e.bounds[1][0],e.bounds[1][1]));e.bounds=i;for(var n=new google.maps.Rectangle(e),a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],s=0;s<a.length;s++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(n,a[s]);return this.polygons.push(n),n},c.prototype.drawPolygon=function(e){var a=!1;e.hasOwnProperty("useGeoJSON")&&(a=e.useGeoJSON),delete e.useGeoJSON,e=t({map:this.map},e),0==a&&(e.paths=[e.paths.slice(0)]),e.paths.length>0&&e.paths[0].length>0&&(e.paths=n(i(e.paths,s,a)));for(var o=new google.maps.Polygon(e),r=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],l=0;l<r.length;l++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(t){e[i].apply(this,[t])})}(o,r[l]);return this.polygons.push(o),c.fire("polygon_added",o,this),o},c.prototype.removePolygon=function(e){for(var t=0;t<this.polygons.length;t++)if(this.polygons[t]===e){this.polygons[t].setMap(null),this.polygons.splice(t,1),c.fire("polygon_removed",e,this);break}},c.prototype.removePolygons=function(){for(var e,t=0;e=this.polygons[t];t++)e.setMap(null);this.polygons=[]},c.prototype.getFromFusionTables=function(e){var t=e.events;delete e.events;var i=e,n=new google.maps.FusionTablesLayer(i);for(var a in t)!function(e,i){google.maps.event.addListener(e,i,function(e){t[i].apply(this,[e])})}(n,a);return this.layers.push(n),n},c.prototype.loadFromFusionTables=function(e){var t=this.getFromFusionTables(e);return t.setMap(this.map),t},c.prototype.getFromKML=function(e){var t=e.url,i=e.events;delete e.url,delete e.events;var n=e,a=new google.maps.KmlLayer(t,n);for(var s in i)!function(e,t){google.maps.event.addListener(e,t,function(e){i[t].apply(this,[e])})}(a,s);return this.layers.push(a),a},c.prototype.loadFromKML=function(e){var t=this.getFromKML(e);return t.setMap(this.map),t},c.prototype.addLayer=function(e,t){t=t||{};var i;switch(e){case"weather":this.singleLayers.weather=i=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=i=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=i=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=i=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=i=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=i=new google.maps.panoramio.PanoramioLayer,i.setTag(t.filter),delete t.filter,t.click&&google.maps.event.addListener(i,"click",function(e){t.click(e),delete t.click});break;case"places":if(this.singleLayers.places=i=new google.maps.places.PlacesService(this.map),t.search||t.nearbySearch||t.radarSearch){var n={bounds:t.bounds||null,keyword:t.keyword||null,location:t.location||null,name:t.name||null,radius:t.radius||null,rankBy:t.rankBy||null,types:t.types||null};t.radarSearch&&i.radarSearch(n,t.radarSearch),t.search&&i.search(n,t.search),t.nearbySearch&&i.nearbySearch(n,t.nearbySearch)}if(t.textSearch){var a={bounds:t.bounds||null,location:t.location||null,query:t.query||null,radius:t.radius||null};i.textSearch(a,t.textSearch)}}return void 0!==i?("function"==typeof i.setOptions&&i.setOptions(t),"function"==typeof i.setMap&&i.setMap(this.map),i):void 0},c.prototype.removeLayer=function(e){if("string"==typeof e&&void 0!==this.singleLayers[e])this.singleLayers[e].setMap(null),delete this.singleLayers[e];else for(var t=0;t<this.layers.length;t++)if(this.layers[t]===e){this.layers[t].setMap(null),this.layers.splice(t,1);break}};var u,d;return c.prototype.getRoutes=function(e){switch(e.travelMode){case"bicycling":u=google.maps.TravelMode.BICYCLING;break;case"transit":u=google.maps.TravelMode.TRANSIT;break;case"driving":u=google.maps.TravelMode.DRIVING;break;default:u=google.maps.TravelMode.WALKING}d="imperial"===e.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var i={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},n=t(i,e);n.origin=/string/.test(typeof e.origin)?e.origin:new google.maps.LatLng(e.origin[0],e.origin[1]),n.destination=/string/.test(typeof e.destination)?e.destination:new google.maps.LatLng(e.destination[0],e.destination[1]),n.travelMode=u,n.unitSystem=d,delete n.callback,delete n.error;var a=this,s=new google.maps.DirectionsService;s.route(n,function(t,i){if(i===google.maps.DirectionsStatus.OK){for(var n in t.routes)t.routes.hasOwnProperty(n)&&a.routes.push(t.routes[n]);e.callback&&e.callback(a.routes)}else e.error&&e.error(t,i)})},c.prototype.removeRoutes=function(){this.routes=[]},c.prototype.getElevations=function(e){e=t({locations:[],path:!1,samples:256},e),e.locations.length>0&&e.locations[0].length>0&&(e.locations=n(i([e.locations],s,!1)));var a=e.callback;delete e.callback;var o=new google.maps.ElevationService;if(e.path){var r={path:e.locations,samples:e.samples};o.getElevationAlongPath(r,function(e,t){a&&"function"==typeof a&&a(e,t)})}else delete e.path,delete e.samples,o.getElevationForLocations(e,function(e,t){a&&"function"==typeof a&&a(e,t)})},c.prototype.cleanRoute=c.prototype.removePolylines,c.prototype.drawRoute=function(e){var t=this;this.getRoutes({origin:e.origin,destination:e.destination,travelMode:e.travelMode,waypoints:e.waypoints,unitSystem:e.unitSystem,error:e.error,callback:function(i){if(i.length>0){var n={path:i[i.length-1].overview_path,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight};e.hasOwnProperty("icons")&&(n.icons=e.icons),t.drawPolyline(n),e.callback&&e.callback(i[i.length-1])}}})},c.prototype.travelRoute=function(e){if(e.origin&&e.destination)this.getRoutes({origin:e.origin,destination:e.destination,travelMode:e.travelMode,waypoints:e.waypoints,unitSystem:e.unitSystem,error:e.error,callback:function(t){if(t.length>0&&e.start&&e.start(t[t.length-1]),t.length>0&&e.step){var i=t[t.length-1];if(i.legs.length>0)for(var n,a=i.legs[0].steps,s=0;n=a[s];s++)n.step_number=s,e.step(n,i.legs[0].steps.length-1)}t.length>0&&e.end&&e.end(t[t.length-1])}});else if(e.route&&e.route.legs.length>0)for(var t,i=e.route.legs[0].steps,n=0;t=i[n];n++)t.step_number=n,e.step(t)},c.prototype.drawSteppedRoute=function(e){var t=this;if(e.origin&&e.destination)this.getRoutes({origin:e.origin,destination:e.destination,travelMode:e.travelMode,waypoints:e.waypoints,error:e.error,callback:function(i){if(i.length>0&&e.start&&e.start(i[i.length-1]),i.length>0&&e.step){var n=i[i.length-1];if(n.legs.length>0)for(var a,s=n.legs[0].steps,o=0;a=s[o];o++){a.step_number=o;var r={path:a.path,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight};e.hasOwnProperty("icons")&&(r.icons=e.icons),t.drawPolyline(r),e.step(a,n.legs[0].steps.length-1)}}i.length>0&&e.end&&e.end(i[i.length-1])}});else if(e.route&&e.route.legs.length>0)for(var i,n=e.route.legs[0].steps,a=0;i=n[a];a++){i.step_number=a;var s={path:i.path,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight};e.hasOwnProperty("icons")&&(s.icons=e.icons),t.drawPolyline(s),e.step(i)}},c.Route=function(e){this.origin=e.origin,this.destination=e.destination,this.waypoints=e.waypoints,this.map=e.map,this.route=e.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var t={path:new google.maps.MVCArray,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight};e.hasOwnProperty("icons")&&(t.icons=e.icons),this.polyline=this.map.drawPolyline(t).getPath()},c.Route.prototype.getRoute=function(t){var i=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:t.travelMode,waypoints:this.waypoints||[],error:t.error,callback:function(){i.route=e[0],t.callback&&t.callback.call(i)}})},c.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var e=this.route.legs[0].steps[this.step_count].path;for(var t in e)e.hasOwnProperty(t)&&this.polyline.pop()}},c.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var e=this.route.legs[0].steps[this.step_count].path;for(var t in e)e.hasOwnProperty(t)&&this.polyline.push(e[t]);this.step_count++}},c.prototype.checkGeofence=function(e,t,i){return i.containsLatLng(new google.maps.LatLng(e,t))},c.prototype.checkMarkerGeofence=function(e,t){if(e.fences)for(var i,n=0;i=e.fences[n];n++){var a=e.getPosition();this.checkGeofence(a.lat(),a.lng(),i)||t(e,i)}},c.prototype.toImage=function(e){var e=e||{},t={};if(t.size=e.size||[this.el.clientWidth,this.el.clientHeight],t.lat=this.getCenter().lat(),t.lng=this.getCenter().lng(),this.markers.length>0){t.markers=[];for(var i=0;i<this.markers.length;i++)t.markers.push({lat:this.markers[i].getPosition().lat(),lng:this.markers[i].getPosition().lng()})}if(this.polylines.length>0){var n=this.polylines[0];t.polyline={},t.polyline.path=google.maps.geometry.encoding.encodePath(n.getPath()),t.polyline.strokeColor=n.strokeColor,t.polyline.strokeOpacity=n.strokeOpacity,t.polyline.strokeWeight=n.strokeWeight}return c.staticMapURL(t)},c.staticMapURL=function(e){function t(e,t){if("#"===e[0]&&(e=e.replace("#","0x"),t)){if(t=parseFloat(t),t=Math.min(1,Math.max(t,0)),0===t)return"0x00000000";t=(255*t).toString(16),1===t.length&&(t+=t),e=e.slice(0,8)+t}return e}var i,n=[],a=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";e.url&&(a=e.url,delete e.url),a+="?";var s=e.markers;delete e.markers,!s&&e.marker&&(s=[e.marker],delete e.marker);var o=e.styles;delete e.styles;var r=e.polyline;if(delete e.polyline,e.center)n.push("center="+e.center),delete e.center;else if(e.address)n.push("center="+e.address),delete e.address;else if(e.lat)n.push(["center=",e.lat,",",e.lng].join("")),delete e.lat,delete e.lng;else if(e.visible){var l=encodeURI(e.visible.join("|"));n.push("visible="+l)}var c=e.size;c?(c.join&&(c=c.join("x")),delete e.size):c="630x300",n.push("size="+c),e.zoom||e.zoom===!1||(e.zoom=15);var u=e.hasOwnProperty("sensor")?!!e.sensor:!0;delete e.sensor,n.push("sensor="+u);for(var d in e)e.hasOwnProperty(d)&&n.push(d+"="+e[d]);if(s)for(var h,p,f=0;i=s[f];f++){h=[],i.size&&"normal"!==i.size?(h.push("size:"+i.size),delete i.size):i.icon&&(h.push("icon:"+encodeURI(i.icon)),delete i.icon),i.color&&(h.push("color:"+i.color.replace("#","0x")),delete i.color),i.label&&(h.push("label:"+i.label[0].toUpperCase()),delete i.label),p=i.address?i.address:i.lat+","+i.lng,delete i.address,delete i.lat,delete i.lng;for(var d in i)i.hasOwnProperty(d)&&h.push(d+":"+i[d]);h.length||0===f?(h.push(p),h=h.join("|"),n.push("markers="+encodeURI(h))):(h=n.pop()+encodeURI("|"+p),n.push(h))}if(o)for(var f=0;f<o.length;f++){var m=[];o[f].featureType&&m.push("feature:"+o[f].featureType.toLowerCase()),o[f].elementType&&m.push("element:"+o[f].elementType.toLowerCase());for(var g=0;g<o[f].stylers.length;g++)for(var v in o[f].stylers[g]){var y=o[f].stylers[g][v];("hue"==v||"color"==v)&&(y="0x"+y.substring(1)),m.push(v+":"+y)}var b=m.join("|");""!=b&&n.push("style="+b)}if(r){if(i=r,r=[],i.strokeWeight&&r.push("weight:"+parseInt(i.strokeWeight,10)),i.strokeColor){var w=t(i.strokeColor,i.strokeOpacity);r.push("color:"+w)}if(i.fillColor){var _=t(i.fillColor,i.fillOpacity);r.push("fillcolor:"+_)}var x=i.path;if(x.join)for(var C,g=0;C=x[g];g++)r.push(C.join(","));else r.push("enc:"+x);r=r.join("|"),n.push("path="+encodeURI(r))}var T=window.devicePixelRatio||1;return n.push("scale="+T),n=n.join("&"),a+n},c.prototype.addMapType=function(e,t){if(!t.hasOwnProperty("getTileUrl")||"function"!=typeof t.getTileUrl)throw"'getTileUrl' function required.";t.tileSize=t.tileSize||new google.maps.Size(256,256);var i=new google.maps.ImageMapType(t);this.map.mapTypes.set(e,i)},c.prototype.addOverlayMapType=function(e){if(!e.hasOwnProperty("getTile")||"function"!=typeof e.getTile)throw"'getTile' function required.";var t=e.index;delete e.index,this.map.overlayMapTypes.insertAt(t,e)},c.prototype.removeOverlayMapType=function(e){this.map.overlayMapTypes.removeAt(e)},c.prototype.addStyle=function(e){var t=new google.maps.StyledMapType(e.styles,{name:e.styledMapName});this.map.mapTypes.set(e.mapTypeId,t)},c.prototype.setStyle=function(e){this.map.setMapTypeId(e)},c.prototype.createPanorama=function(e){return e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")||(e.lat=this.getCenter().lat(),e.lng=this.getCenter().lng()),this.panorama=c.createPanorama(e),this.map.setStreetView(this.panorama),this.panorama},c.createPanorama=function(e){var i=r(e.el,e.context);e.position=new google.maps.LatLng(e.lat,e.lng),delete e.el,delete e.context,delete e.lat,delete e.lng;for(var n=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],a=t({visible:!0},e),s=0;s<n.length;s++)delete a[n[s]];for(var o=new google.maps.StreetViewPanorama(i,a),s=0;s<n.length;s++)!function(t,i){e[i]&&google.maps.event.addListener(t,i,function(){e[i].apply(this)})}(o,n[s]);return o},c.prototype.on=function(e,t){return c.on(e,this,t)},c.prototype.off=function(e){c.off(e,this)},c.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],c.on=function(e,t,i){if(-1==c.custom_events.indexOf(e))return t instanceof c&&(t=t.map),google.maps.event.addListener(t,e,i);var n={handler:i,eventName:e};return t.registered_events[e]=t.registered_events[e]||[],t.registered_events[e].push(n),n},c.off=function(e,t){-1==c.custom_events.indexOf(e)?(t instanceof c&&(t=t.map),google.maps.event.clearListeners(t,e)):t.registered_events[e]=[]},c.fire=function(e,t,i){if(-1==c.custom_events.indexOf(e))google.maps.event.trigger(t,e,Array.prototype.slice.apply(arguments).slice(2));else if(e in i.registered_events)for(var n=i.registered_events[e],a=0;a<n.length;a++)!function(e,t,i){e.apply(t,[i])}(n[a].handler,i,t)},c.geolocate=function(e){var t=e.always||e.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){e.success(i),t&&t()},function(i){e.error(i),t&&t()},e.options):(e.not_supported(),t&&t())},c.geocode=function(e){this.geocoder=new google.maps.Geocoder;var t=e.callback;e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")&&(e.latLng=new google.maps.LatLng(e.lat,e.lng)),delete e.lat,delete e.lng,delete e.callback,this.geocoder.geocode(e,function(e,i){t(e,i)})},"object"==typeof window.google&&window.google.maps&&(google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds,i=this.getPaths(),n=0;n<i.getLength();n++){e=i.getAt(n);for(var a=0;a<e.getLength();a++)t.extend(e.getAt(a))}return t}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(e){var t=this.getBounds();if(null!==t&&!t.contains(e))return!1;for(var i=!1,n=this.getPaths().getLength(),a=0;n>a;a++)for(var s=this.getPaths().getAt(a),o=s.getLength(),r=o-1,l=0;o>l;l++){var c=s.getAt(l),u=s.getAt(r);(c.lng()<e.lng()&&u.lng()>=e.lng()||u.lng()<e.lng()&&c.lng()>=e.lng())&&c.lat()+(e.lng()-c.lng())/(u.lng()-c.lng())*(u.lat()-c.lat())<e.lat()&&(i=!i),r=l}return i}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(e){return google.maps.geometry?google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),e)<=this.getRadius():!0}),google.maps.LatLngBounds.prototype.containsLatLng=function(e){return this.contains(e)},google.maps.Marker.prototype.setFences=function(e){this.fences=e},google.maps.Marker.prototype.addFence=function(e){this.fences.push(e)},google.maps.Marker.prototype.getId=function(){return this.__gm_id}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var a=n>=0?n:Math.max(i-Math.abs(n),0);i>a;a++)if(a in t&&t[a]===e)return a;return-1}),c}),!function(e,t,i,n){function a(t,i){this.settings=null,this.options=e.extend({},a.Defaults,i),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(t,i){this._handlers[i]=e.proxy(this[i],this)},this)),e.each(a.Plugins,e.proxy(function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(a.Workers,e.proxy(function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})},this)),this.setup(),this.initialize()}a.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},a.Width={Default:"default",Inner:"inner",Outer:"outer"},a.Type={Event:"event",State:"state"},a.Plugins={},a.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,a={width:"auto","margin-left":n?t:"","margin-right":n?"":t};!i&&this.$stage.children().css(a),e.css=a}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,a=!this.settings.autoWidth,s=[];for(e.items={merge:!1,width:t};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,e.items.merge=i>1||e.items.merge,s[n]=a?t*i:this._items[n].width();this._widths=s}},{filter:["items","settings"],run:function(){var t=[],i=this._items,n=this.settings,a=Math.max(2*n.items,4),s=2*Math.ceil(i.length/2),o=n.loop&&i.length?n.rewind?a:Math.max(a,s):0,r="",l="";for(o/=2;o--;)t.push(this.normalize(t.length/2,!0)),r+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),l=i[t[t.length-1]][0].outerHTML+l;this._clones=t,e(r).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,i=-1,n=0,a=0,s=[];++i<t;)n=s[i-1]||0,a=this._widths[this.relative(i)]+this.settings.margin,s.push(n+a*e);this._coordinates=s}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],n.eq(t).css(e.css);else i&&(e.css.width=e.items.width,n.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,n,a=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,o=this.coordinates(this.current())+s,r=o+this.width()*a,l=[];for(i=0,n=this._coordinates.length;n>i;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+s*a,(this.op(e,"<=",o)&&this.op(e,">",r)||this.op(t,"<",o)&&this.op(t,">",r))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],a.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var t,i,a;t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,a=this.$element.children(i).width(),t.length&&0>=a&&this.preloadAutoWidthImages(t)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},a.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,n=-1,a=null;i?(e.each(i,function(e){t>=e&&e>n&&(n=Number(e))}),a=e.extend({},this.options,i[n]),delete a.responsive,a.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):a=e.extend({},this.options),null!==this.settings&&this._breakpoint===n||(this.trigger("change",{
property:{name:"settings",value:a}}),this._breakpoint=n,this.settings=a,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},a.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},a.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},a.prototype.update=function(){for(var t=0,i=this._pipe.length,n=e.proxy(function(e){return this[e]},this._invalidated),a={};i>t;)(this._invalidated.all||e.grep(this._pipe[t].filter,n).length>0)&&this._pipe[t].run(a),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},a.prototype.width=function(e){switch(e=e||a.Width.Default){case a.Width.Inner:case a.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},a.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},a.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},a.prototype.onResize=function(){return this._items.length?this._width===this.$element.width()?!1:this.$element.is(":visible")?(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized"))):!1:!1},a.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},a.prototype.onDragStart=function(t){var n=null;3!==t.which&&(e.support.transform?(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),n={x:n[16===n.length?12:4],y:n[16===n.length?13:5]}):(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(e.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(t),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(t){var n=this.difference(this._drag.pointer,this.pointer(t));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},a.prototype.onDragMove=function(e){var t=null,i=null,n=null,a=this.difference(this._drag.pointer,this.pointer(e)),s=this.difference(this._drag.stage.start,a);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,s.x=((s.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*a.x/5:0,s.x=Math.max(Math.min(s.x,t+n),i+n)),this._drag.stage.current=s,this.animate(s.x))},a.prototype.onDragEnd=function(t){var n=this.difference(this._drag.pointer,this.pointer(t)),a=this._drag.stage.current,s=n.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(a.x,0!==n.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},a.prototype.closest=function(t,i){var n=-1,a=30,s=this.width(),o=this.coordinates();return this.settings.freeDrag||e.each(o,e.proxy(function(e,r){return"left"===i&&t>r-a&&r+a>t?n=e:"right"===i&&t>r-s-a&&r-s+a>t?n=e+1:this.op(t,"<",r)&&this.op(t,">",o[e+1]||r-s)&&(n="left"===i?e+1:e),-1===n},this)),this.settings.loop||(this.op(t,">",o[this.minimum()])?n=t=this.minimum():this.op(t,"<",o[this.maximum()])&&(n=t=this.maximum())),n},a.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},a.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},a.prototype.current=function(e){if(e===n)return this._current;if(0===this._items.length)return n;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==n&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},a.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(e,t){return t})},a.prototype.reset=function(e){e=this.normalize(e),e!==n&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},a.prototype.normalize=function(e,t){var i=this._items.length,a=t?0:this._clones.length;return!this.isNumeric(e)||1>i?e=n:(0>e||e>=i+a)&&(e=((e-a/2)%i+i)%i+a/2),e},a.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},a.prototype.maximum=function(e){var t,i=this.settings,n=this._coordinates.length,a=Math.abs(this._coordinates[n-1])-this._width,s=-1;if(i.loop)n=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge)for(;n-s>1;)Math.abs(this._coordinates[t=n+s>>1])<a?s=t:n=t;else n=i.center?this._items.length-1:this._items.length-i.items;return e&&(n-=this._clones.length/2),Math.max(n,0)},a.prototype.minimum=function(e){return e?0:this._clones.length/2},a.prototype.items=function(e){return e===n?this._items.slice():(e=this.normalize(e,!0),this._items[e])},a.prototype.mergers=function(e){return e===n?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},a.prototype.clones=function(t){var i=this._clones.length/2,a=i+this._items.length,s=function(e){return e%2===0?a+e/2:i-(e+1)/2};return t===n?e.map(this._clones,function(e,t){return s(t)}):e.map(this._clones,function(e,i){return e===t?s(i):null})},a.prototype.speed=function(e){return e!==n&&(this._speed=e),this._speed},a.prototype.coordinates=function(t){var i,a=1,s=t-1;return t===n?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(a=-1,s=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[s]||0))/2*a):i=this._coordinates[s]||0,i=Math.ceil(i))},a.prototype.duration=function(e,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},a.prototype.to=function(e,t){var i=this.current(),n=null,a=e-this.relative(i),s=(a>0)-(0>a),o=this._items.length,r=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(a)>o/2&&(a+=-1*s*o),e=i+a,n=((e-r)%o+o)%o+r,n!==e&&l>=n-a&&n-a>0&&(i=n-a,e=n,this.reset(i))):this.settings.rewind?(l+=1,e=(e%l+l)%l):e=Math.max(r,Math.min(l,e)),this.speed(this.duration(i,e,t)),this.current(e),this.$element.is(":visible")&&this.update()},a.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},a.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},a.prototype.onTransitionEnd=function(e){return e!==n&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0))?!1:(this.leave("animating"),void this.trigger("translated"))},a.prototype.viewport=function(){var n;if(this.options.responsiveBaseElement!==t)n=e(this.options.responsiveBaseElement).width();else if(t.innerWidth)n=t.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";n=i.documentElement.clientWidth}return n},a.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},a.prototype.add=function(t,i){var a=this.relative(this._current);i=i===n?this._items.length:this.normalize(i,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:i}),t=this.prepare(t),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this._items[a]&&this.reset(this._items[a].index()),this.invalidate("items"),this.trigger("added",{content:t,position:i})},a.prototype.remove=function(e){e=this.normalize(e,!0),e!==n&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},a.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy(function(t,i){this.enter("pre-loading"),i=e(i),e(new Image).one("load",e.proxy(function(e){i.attr("src",e.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},a.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),this.settings.responsive!==!1&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var n in this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},a.prototype.op=function(e,t,i){var n=this.settings.rtl;switch(t){case"<":return n?e>i:i>e;case">":return n?i>e:e>i;case">=":return n?i>=e:e>=i;case"<=":return n?e>=i:i>=e}},a.prototype.on=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)},a.prototype.off=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)},a.prototype.trigger=function(t,i,n){var s={item:{count:this._items.length,index:this.current()}},o=e.camelCase(e.grep(["on",t,n],function(e){return e}).join("-").toLowerCase()),r=e.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},s,i));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(r)}),this.register({type:a.Type.Event,name:t}),this.$element.trigger(r),this.settings&&"function"==typeof this.settings[o]&&this.settings[o].call(this,r)),r},a.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]===n&&(this._states.current[t]=0),this._states.current[t]++},this))},a.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]--},this))},a.prototype.register=function(t){if(t.type===a.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var i=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!i||!i.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:i.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===a.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy(function(i,n){return e.inArray(i,this._states.tags[t.name])===n},this)))},a.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},a.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},a.prototype.pointer=function(e){var i={x:null,y:null};return e=e.originalEvent||e||t.event,e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e.pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i},a.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},a.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this),s=n.data("owl.carousel");s||(s=new a(this,"object"==typeof t&&t),n.data("owl.carousel",s),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,i){s.register({type:a.Type.Event,name:i}),s.$element.on(i+".owl.carousel.core",e.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([i]),s[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},s))})),"string"==typeof t&&"_"!==t.charAt(0)&&s[t].apply(s,i)})},e.fn.owlCarousel.Constructor=a}(window.Zepto||window.jQuery,window,document),function(e,t){var i=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var e,i;t.clearInterval(this._interval);for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var a=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var i=this._core.settings,a=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*a||0,o=(t.property&&t.property.value!==n?t.property.value:this._core.current())+s,r=this._core.clones().length,l=e.proxy(function(e,t){this.load(t)},this);s++<a;)this.load(r/2+this._core.relative(o)),r&&e.each(this._core.clones(this._core.relative(o)),l),o++},this)},this._core.options=e.extend({},a.Defaults,this._core.options),this._core.$element.on(this._handlers)};a.Defaults={lazyLoad:!1},a.prototype.load=function(i){var n=this._core.$stage.children().eq(i),a=n&&n.find(".owl-lazy");!a||e.inArray(n.get(0),this._loaded)>-1||(a.each(e.proxy(function(i,n){var a,s=e(n),o=t.devicePixelRatio>1&&s.attr("data-src-retina")||s.attr("data-src");this._core.trigger("load",{element:s,url:o},"lazy"),s.is("img")?s.one("load.owl.lazy",e.proxy(function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:o},"lazy")},this)).attr("src",o):(a=new Image,a.onload=e.proxy(function(){s.css({"background-image":"url("+o+")",opacity:"1"}),this._core.trigger("loaded",{element:s,url:o},"lazy")},this),a.src=o)},this)),this._loaded.push(n.get(0)))},a.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=a}(window.Zepto||window.jQuery,window,document),function(e){var t=function(i){this._core=i,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},t.Defaults,this._core.options),this._core.$element.on(this._handlers)};t.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},t.prototype.update=function(){var t=this._core._current,i=t+this._core.settings.items,n=this._core.$stage.children().toArray().slice(t,i),a=[],s=0;e.each(n,function(t,i){a.push(e(i).height())}),s=Math.max.apply(null,a),this._core.$stage.parent().height(s).addClass(this._core.settings.autoHeightClass)},t.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=t}(window.Zepto||window.jQuery,window,document),function(e,t,i){var n=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))}},this)},this._core.options=e.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(e,t){var i=function(){return e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube"}(),n=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),a=e.attr("data-width")||this._core.settings.videoWidth,s=e.attr("data-height")||this._core.settings.videoHeight,o=e.attr("href");if(!o)throw new Error("Missing video URL.");if(n=o.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),n[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[o]={type:i,id:n,width:a,height:s},t.attr("data-video",o),this.thumbnail(e,this._videos[o])},n.prototype.thumbnail=function(t,i){var n,a,s,o=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",r=t.find("img"),l="src",c="",u=this._core.settings,d=function(e){a='<div class="owl-video-play-icon"></div>',n=u.lazyLoad?'<div class="owl-video-tn '+c+'" '+l+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(n),t.after(a)};return t.wrap('<div class="owl-video-wrapper"'+o+"></div>"),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),r.length?(d(r.attr(l)),r.remove(),!1):void("youtube"===i.type?(s="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",d(s)):"vimeo"===i.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){s=e[0].thumbnail_large,d(s)}}):"vzaar"===i.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){s=e.framegrab_url,d(s)}}))},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(t){var i,n=e(t.target),a=n.closest("."+this._core.settings.itemClass),s=this._videos[a.attr("data-video")],o=s.width||"100%",r=s.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),a=this._core.items(this._core.relative(a.index())),this._core.reset(a.index()),"youtube"===s.type?i='<iframe width="'+o+'" height="'+r+'" src="//www.youtube.com/embed/'+s.id+"?autoplay=1&v="+s.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===s.type?i='<iframe src="//player.vimeo.com/video/'+s.id+'?autoplay=1" width="'+o+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===s.type&&(i='<iframe frameborder="0"height="'+r+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+s.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+i+"</div>").insertAfter(a.find(".owl-video")),this._playing=a.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var a=function(t){this.core=t,this.core.options=e.extend({},a.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":e.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};a.Defaults={animateOut:!1,animateIn:!1},a.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,i=e.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),a=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,o=this.core.settings.animateOut;this.core.current()!==this.previous&&(o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(e.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o)),s&&a.one(e.support.animation.end,i).addClass("animated owl-animated-in").addClass(s))}},a.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},a.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=a}(window.Zepto||window.jQuery,window,document),function(e,t,i){var n=function(t){this._core=t,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":e.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(e,t,i){e.namespace&&this.play(t,i)},this),"stop.owl.autoplay":e.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(n,a){return this._timeout&&t.clearTimeout(this._timeout),t.setTimeout(e.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(a||this._core.settings.autoplaySpeed)},this),n||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(t.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var e,t;this.stop();for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(e){"use strict";var t=function(i){this._core=i,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},t.Defaults,this._core.options),this.$element.on(this._handlers)};t.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},t.prototype.initialize=function(){var t,i=this._core.settings;this._controls.$relative=(i.navContainer?e(i.navContainer):e("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next=e("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[e("<div>").addClass(i.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?e(i.dotsContainer):e("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",e.proxy(function(t){var n=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(n,i.dotsSpeed)},this));for(t in this._overrides)this._core[t]=e.proxy(this[t],this)},t.prototype.destroy=function(){var e,t,i,n;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.prototype.update=function(){var e,t,i,n=this._core.clones().length/2,a=n+this._core.items().length,s=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],e=n,t=0,i=0;a>e;e++){if(t>=r||0===t){if(this._pages.push({start:Math.min(s,e-n),end:e-n+r-1}),Math.min(s,e-n)===s)break;t=0,++i}t+=this._core.mergers(this._core.relative(e))}},t.prototype.draw=function(){var t,i=this._core.settings,n=this._core.items().length<=i.items,a=this._core.relative(this._core.current()),s=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!s&&a<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&a>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(t=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):0>t&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},t.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)
}},t.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(e){return e.start<=t&&e.end>=t},this)).pop()},t.prototype.getPosition=function(t){var i,n,a=this._core.settings;return"page"==a.slideBy?(i=e.inArray(this.current(),this._pages),n=this._pages.length,t?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,t?i+=a.slideBy:i-=a.slideBy),i},t.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},t.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},t.prototype.to=function(t,i,n){var a;!n&&this._pages.length?(a=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%a+a)%a].start,i)):e.proxy(this._overrides.to,this._core)(t,i)},e.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var a=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}},this),"changed.owl.carousel":e.proxy(function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),a=e.map(this._hashes,function(e,t){return e===n?t:null}).join();if(!a||t.location.hash.slice(1)===a)return;t.location.hash=a}},this)},this._core.options=e.extend({},a.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(){var e=t.location.hash.substring(1),i=this._core.$stage.children(),a=this._hashes[e]&&i.index(this._hashes[e]);a!==n&&a!==this._core.current()&&this._core.to(this._core.relative(a),!1,!0)},this))};a.Defaults={URLhashListener:!1},a.prototype.destroy=function(){var i,n;e(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=a}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){function a(t,i){var a=!1,s=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+r.join(s+" ")+s).split(" "),function(e,t){return o[t]!==n?(a=i?t:!0,!1):void 0}),a}function s(e){return a(e,!0)}var o=e("<support>").get(0).style,r="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c={csstransforms:function(){return!!a("transform")},csstransforms3d:function(){return!!a("perspective")},csstransitions:function(){return!!a("transition")},cssanimations:function(){return!!a("animation")}};c.csstransitions()&&(e.support.transition=new String(s("transition")),e.support.transition.end=l.transition.end[e.support.transition]),c.cssanimations()&&(e.support.animation=new String(s("animation")),e.support.animation.end=l.animation.end[e.support.animation]),c.csstransforms()&&(e.support.transform=new String(s("transform")),e.support.transform3d=c.csstransforms3d())}(window.Zepto||window.jQuery,window,document),!function(e,t){"use strict";function i(e){e=e.split(" ");for(var t={},i=e.length,n=[];i--;)t.hasOwnProperty(e[i])||(t[e[i]]=1,n.unshift(e[i]));return n.join(" ")}var n="file:"===e.location.protocol,a=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),s=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var i,n=this.length>>>0;for(i=0;n>i;++i)i in this&&e.call(t,this[i],i,this)},o={},r=0,l=[],c=[],u={},d=function(e){return e.cloneNode(!0)},h=function(e,t){c[e]=c[e]||[],c[e].push(t)},p=function(e){for(var t=0,i=c[e].length;i>t;t++)!function(t){setTimeout(function(){c[e][t](d(o[e]))},0)}(t)},f=function(t,i){if(void 0!==o[t])o[t]instanceof SVGSVGElement?i(d(o[t])):h(t,i);else{if(!e.XMLHttpRequest)return i("Browser does not support XMLHttpRequest"),!1;o[t]={},h(t,i);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(404===a.status||null===a.responseXML)return i("Unable to load SVG file: "+t),n&&i("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),i(),!1;if(!(200===a.status||n&&0===a.status))return i("There was a problem injecting the SVG: "+a.status+" "+a.statusText),!1;if(a.responseXML instanceof Document)o[t]=a.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var s=new DOMParser;e=s.parseFromString(a.responseText,"text/xml")}catch(r){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return i("Unable to parse SVG file: "+t),!1;o[t]=e.documentElement}p(t)}},a.open("GET",t),a.overrideMimeType&&a.overrideMimeType("text/xml"),a.send()}},m=function(t,n,o,c){var d=t.getAttribute("data-src")||t.getAttribute("src");if(!/\.svg/i.test(d))return void c("Attempted to inject a file with a non-svg extension: "+d);if(!a){var h=t.getAttribute("data-fallback")||t.getAttribute("data-png");return void(h?(t.setAttribute("src",h),c(null)):o?(t.setAttribute("src",o+"/"+d.split("/").pop().replace(".svg",".png")),c(null)):c("This browser does not support SVG and no PNG fallback was defined."))}-1===l.indexOf(t)&&(l.push(t),t.setAttribute("src",""),f(d,function(a){if("undefined"==typeof a||"string"==typeof a)return c(a),!1;var o=t.getAttribute("id");o&&a.setAttribute("id",o);var h=t.getAttribute("title");h&&a.setAttribute("title",h);var p=[].concat(a.getAttribute("class")||[],"injected-svg",t.getAttribute("class")||[]).join(" ");a.setAttribute("class",i(p));var f=t.getAttribute("style");f&&a.setAttribute("style",f);var m=[].filter.call(t.attributes,function(e){return/^data-\w[\w\-]*$/.test(e.name)});s.call(m,function(e){e.name&&e.value&&a.setAttribute(e.name,e.value)});var g,v,y,b,w,_={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(_).forEach(function(e){g=e,y=_[e],v=a.querySelectorAll("defs "+g+"[id]");for(var t=0,i=v.length;i>t;t++){b=v[t].id,w=b+"-"+r;var n;s.call(y,function(e){n=a.querySelectorAll("["+e+'*="'+b+'"]');for(var t=0,i=n.length;i>t;t++)n[t].setAttribute(e,"url(#"+w+")")}),v[t].id=w}}),a.removeAttribute("xmlns:a");for(var x,C,T=a.querySelectorAll("script"),S=[],k=0,E=T.length;E>k;k++)C=T[k].getAttribute("type"),C&&"application/ecmascript"!==C&&"application/javascript"!==C||(x=T[k].innerText||T[k].textContent,S.push(x),a.removeChild(T[k]));if(S.length>0&&("always"===n||"once"===n&&!u[d])){for(var D=0,P=S.length;P>D;D++)new Function(S[D])(e);u[d]=!0}var A=a.querySelectorAll("style");s.call(A,function(e){e.textContent+=""}),t.parentNode.replaceChild(a,t),delete l[l.indexOf(t)],t=null,r++,c(a)}))},g=function(e,t,i){t=t||{};var n=t.evalScripts||"always",a=t.pngFallback||!1,o=t.each;if(void 0!==e.length){var r=0;s.call(e,function(t){m(t,n,a,function(t){o&&"function"==typeof o&&o(t),i&&e.length===++r&&i(r)})})}else e?m(e,n,a,function(t){o&&"function"==typeof o&&o(t),i&&i(1),e=null}):i&&i(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=g:"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof e&&(e.SVGInjector=g)}(window,document),!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,i,n,a,s,o={},r="querySelector"in document&&"addEventListener"in e,l={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callback:function(){}},c=function(){var e={},t=!1,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(var a=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&"[object Object]"===Object.prototype.toString.call(i[n])?e[n]=c(!0,e[n],i[n]):e[n]=i[n])};n>i;i++){var s=arguments[i];a(s)}return e},u=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},d=function(e,t){var i,n,a=t.charAt(0),s="classList"in document.documentElement;for("["===a&&(t=t.substr(1,t.length-2),i=t.split("="),i.length>1&&(n=!0,i[1]=i[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document&&1===e.nodeType;e=e.parentNode){if("."===a)if(s){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===a&&e.id===t.substr(1))return e;if("["===a&&e.hasAttribute(i[0])){if(!n)return e;if(e.getAttribute(i[0])===i[1])return e}if(e.tagName.toLowerCase()===t)return e}return null};o.escapeCharacters=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,i=String(e),n=i.length,a=-1,s="",o=i.charCodeAt(0);++a<n;){if(t=i.charCodeAt(a),0===t)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");s+=t>=1&&31>=t||127==t||0===a&&t>=48&&57>=t||1===a&&t>=48&&57>=t&&45===o?"\\"+t.toString(16)+" ":t>=128||45===t||95===t||t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t?i.charAt(a):"\\"+i.charAt(a)}return"#"+s};var h=function(e,t){var i;return"easeInQuad"===e&&(i=t*t),"easeOutQuad"===e&&(i=t*(2-t)),"easeInOutQuad"===e&&(i=.5>t?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(i=t*t*t),"easeOutCubic"===e&&(i=--t*t*t+1),"easeInOutCubic"===e&&(i=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(i=t*t*t*t),"easeOutQuart"===e&&(i=1- --t*t*t*t),"easeInOutQuart"===e&&(i=.5>t?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(i=t*t*t*t*t),"easeOutQuint"===e&&(i=1+--t*t*t*t*t),"easeInOutQuint"===e&&(i=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),i||t},p=function(e,t,i){var n=0;if(e.offsetParent)do n+=e.offsetTop,e=e.offsetParent;while(e);return n=Math.max(n-t-i,0),Math.min(n,m()-f())},f=function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},m=function(){return Math.max(e.document.body.scrollHeight,e.document.documentElement.scrollHeight,e.document.body.offsetHeight,e.document.documentElement.offsetHeight,e.document.body.clientHeight,e.document.documentElement.clientHeight)},g=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},v=function(t,i){e.history.pushState&&(i||"true"===i)&&"file:"!==e.location.protocol&&e.history.pushState(null,null,[e.location.protocol,"//",e.location.host,e.location.pathname,e.location.search,t].join(""))},y=function(e){return null===e?0:u(e)+e.offsetTop};o.animateScroll=function(i,o,r){var u=g(o?o.getAttribute("data-options"):null),d=c(t||l,r||{},u),f="[object Number]"===Object.prototype.toString.call(i),b=f?null:"#"===i?e.document.documentElement:e.document.querySelector(i);if(f||b){var w=e.pageYOffset;n||(n=e.document.querySelector(d.selectorHeader)),a||(a=y(n));var _,x,C=f?i:p(b,a,parseInt(d.offset,10)),T=C-w,S=m(),k=0;f||v(i,d.updateURL);var E=function(t,n,a){var s=e.pageYOffset;(t==n||s==n||e.innerHeight+s>=S)&&(clearInterval(a),f||b.focus(),d.callback(i,o))},D=function(){k+=16,_=k/parseInt(d.speed,10),_=_>1?1:_,x=w+T*h(d.easing,_),e.scrollTo(0,Math.floor(x)),E(x,C,s)},P=function(){clearInterval(s),s=setInterval(D,16)};0===e.pageYOffset&&e.scrollTo(0,0),P()}};var b=function(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey){var i=d(e.target,t.selector);if(i&&"a"===i.tagName.toLowerCase()){e.preventDefault();var n=o.escapeCharacters(i.hash);o.animateScroll(n,i,t)}}},w=function(){i||(i=setTimeout(function(){i=null,a=y(n)},66))};return o.destroy=function(){t&&(e.document.removeEventListener("click",b,!1),e.removeEventListener("resize",w,!1),t=null,i=null,n=null,a=null,s=null)},o.init=function(i){r&&(o.destroy(),t=c(l,i||{}),n=e.document.querySelector(t.selectorHeader),a=y(n),e.document.addEventListener("click",b,!1),n&&e.addEventListener("resize",w,!1))},o}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e,t,i){var n;return function(){var a=this,s=arguments,o=function(){n=null,i||e.apply(a,s)},r=i&&!n;clearTimeout(n),n=setTimeout(o,t),r&&e.apply(a,s)}}function i(e){var t=++c;return String(null==e?"rmjs-":e)+t}function n(e){var t=e.clone().css({height:"auto",width:e.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(e),i=t.outerHeight(),n=parseInt(t.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),a=e.data("defaultHeight");t.remove();var s=n||e.data("collapsedHeight")||a;e.data({expandedHeight:i,maxHeight:n,collapsedHeight:s}).css({maxHeight:"none"})}function a(e){if(!l[e.selector]){var t=" ";e.embedCSS&&""!==e.blockCSS&&(t+=e.selector+" + [data-readmore-toggle], "+e.selector+"[data-readmore]{"+e.blockCSS+"}"),t+=e.selector+"[data-readmore]{transition: height "+e.speed+"ms;overflow: hidden;}",function(e,t){var i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(i)}(document,t),l[e.selector]=!0}}function s(t,i){this.element=t,this.options=e.extend({},r,i),a(this.options),this._defaults=r,this._name=o,this.init(),window.addEventListener?(window.addEventListener("load",u),window.addEventListener("resize",u)):(window.attachEvent("load",u),window.attachEvent("resize",u))}var o="readmore",r={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},l={},c=0,u=t(function(){e("[data-readmore]").each(function(){var t=e(this),i="true"===t.attr("aria-expanded");n(t),t.css({height:t.data(i?"expandedHeight":"collapsedHeight")})})},100);s.prototype={init:function(){var t=e(this.element);t.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),n(t);var a=t.data("collapsedHeight"),s=t.data("heightMargin");if(t.outerHeight(!0)<=a+s)return!0;var o=t.attr("id")||i(),r=this.options.startOpen?this.options.lessLink:this.options.moreLink;t.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:o}),t.after(e(r).on("click",function(e){return function(i){e.toggle(this,t[0],i)}}(this)).attr({"data-readmore-toggle":"","aria-controls":o})),this.options.startOpen||t.css({height:a})},toggle:function(t,i,n){n&&n.preventDefault(),t||(t=e('[aria-controls="'+_this.element.id+'"]')[0]),i||(i=_this.element);var a=e(i),s="",o="",r=!1,l=a.data("collapsedHeight");a.height()<=l?(s=a.data("expandedHeight")+"px",o="lessLink",r=!0):(s=l,o="moreLink"),this.options.beforeToggle(t,a,!r),a.css({height:s}),a.on("transitionend",function(i){return function(){i.options.afterToggle(t,a,r),e(this).attr({"aria-expanded":r}).off("transitionend")}}(this)),e(t).replaceWith(e(this.options[o]).on("click",function(e){return function(t){e.toggle(this,i,t)}}(this)).attr({"data-readmore-toggle":"","aria-controls":a.attr("id")}))},destroy:function(){e(this.element).each(function(){var t=e(this);t.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),t.removeData()})}},e.fn.readmore=function(t){var i=arguments,n=this.selector;return t=t||{},"object"==typeof t?this.each(function(){if(e.data(this,"plugin_"+o)){var i=e.data(this,"plugin_"+o);i.destroy.apply(i)}t.selector=n,e.data(this,"plugin_"+o,new s(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var n=e.data(this,"plugin_"+o);n instanceof s&&"function"==typeof n[t]&&n[t].apply(n,Array.prototype.slice.call(i,1))}):void 0}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=Array.prototype.slice,i=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},a=e(window),s=e(document),o=[],r=a.height(),l=function(){for(var t=a.scrollTop(),i=s.height(),n=i-r,l=t>n?n-t:0,c=0,u=o.length;u>c;c++){var d=o[c],h=d.stickyWrapper.offset().top,p=h-d.topSpacing-l;if(d.stickyWrapper.css("height",d.stickyElement.outerHeight()),p>=t)null!==d.currentTop&&(d.stickyElement.css({width:"",position:"",top:"","z-index":""}),d.stickyElement.parent().removeClass(d.className),d.stickyElement.trigger("sticky-end",[d]),d.currentTop=null);else{var f=i-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-t-l;if(0>f?f+=d.topSpacing:f=d.topSpacing,d.currentTop!==f){var m;d.getWidthFrom?m=e(d.getWidthFrom).width()||null:d.widthFromWrapper&&(m=d.stickyWrapper.width()),null==m&&(m=d.stickyElement.width()),d.stickyElement.css("width",m).css("position","fixed").css("top",f).css("z-index",d.zIndex),d.stickyElement.parent().addClass(d.className),null===d.currentTop?d.stickyElement.trigger("sticky-start",[d]):d.stickyElement.trigger("sticky-update",[d]),d.currentTop===d.topSpacing&&d.currentTop>f||null===d.currentTop&&f<d.topSpacing?d.stickyElement.trigger("sticky-bottom-reached",[d]):null!==d.currentTop&&f===d.topSpacing&&d.currentTop<f&&d.stickyElement.trigger("sticky-bottom-unreached",[d]),d.currentTop=f}var g=d.stickyWrapper.parent(),v=d.stickyElement.offset().top+d.stickyElement.outerHeight()>=g.offset().top+g.outerHeight()&&d.stickyElement.offset().top<=d.topSpacing;v?d.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):d.stickyElement.css("position","fixed").css("top",f).css("bottom","").css("z-index",d.zIndex)}}},c=function(){r=a.height();for(var t=0,i=o.length;i>t;t++){var n=o[t],s=null;n.getWidthFrom?n.responsiveWidth&&(s=e(n.getWidthFrom).width()):n.widthFromWrapper&&(s=n.stickyWrapper.width()),null!=s&&n.stickyElement.css("width",s)}},u={init:function(t){var i=e.extend({},n,t);return this.each(function(){var t=e(this),a=t.attr("id"),s=a?a+"-"+n.wrapperClassName:n.wrapperClassName,r=e("<div></div>").attr("id",s).addClass(i.wrapperClassName);t.wrapAll(r);var l=t.parent();i.center&&l.css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===t.css("float")&&t.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=t,i.stickyWrapper=l,i.currentTop=null,o.push(i),u.setWrapperHeight(this),u.setupChangeListeners(this)})},setWrapperHeight:function(t){var i=e(t),n=i.parent();n&&n.css("height",i.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var t=new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&u.setWrapperHeight(e)});t.observe(e,{subtree:!0,childList:!0})}else e.addEventListener("DOMNodeInserted",function(){u.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){u.setWrapperHeight(e)},!1)},update:l,unstick:function(){return this.each(function(){for(var t=this,n=e(t),a=-1,s=o.length;s-- >0;)o[s].stickyElement.get(0)===t&&(i.call(o,s,1),a=s);-1!==a&&(n.unwrap(),n.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",c,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",c)),e.fn.sticky=function(i){return u[i]?u[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):u.init.apply(this,arguments)},e.fn.unstick=function(i){return u[i]?u[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):u.unstick.apply(this,arguments)},e(function(){setTimeout(l,0)})}),$(document).ready(function(){function e(){r.removeClass("hide"),l.parent().addClass("active"),c.removeClass("hide"),u.addClass("hide")}function t(){r.addClass("hide"),l.parent().removeClass("active"),c.addClass("hide"),u.removeClass("hide")}function i(){h.addClass("show")}function n(){h.removeClass("show"),p.addClass("hide")}function a(){f.removeClass("active"),g.addClass("hide"),m.removeClass("hide"),v.addClass("hide"),y.addClass("hide")}function s(){f.addClass("active"),g.removeClass("hide"),m.addClass("hide"),v.removeClass("hide"),y.removeClass("hide")}var o=document.querySelectorAll("img.svg-inject");SVGInjector(o);var r=$(".places-to-go"),l=$("#places-to-go-link"),c=l.find("img.active"),u=l.find("img.inactive");l.click(function(){var i=$(this).parent();i.hasClass("active")?t():e()});var d=$("#search-toggle"),h=$(".search-container"),p=$(".mega-menu .search-results");d.click(function(){h.hasClass("show")?n():i()});var f=$(".menu-toggle"),m=$("#menu-closed"),g=$("#menu-opened"),v=$(".mobile-menu"),y=$(".menu-dark-background");f.click(function(){f.hasClass("active")?a():s()});var b=window.matchMedia("(max-width:991px)");b.addListener(function(e){e.matches?w():$(".mega-menu .owl-carousel").owlCarousel().trigger("destroy.owl.carousel").removeClass("owl-hidden")});var w=function(){$(".mega-menu .owl-carousel").owlCarousel({loop:!1,items:2,nav:!0,navText:["<div class='nav-prev'></div>","<div class='nav-next'></div>"],autoWidth:!0})};$(window).width()<992&&w()}),$(document).ready(function(){var e=window.matchMedia("(max-width:767px)"),t=window.matchMedia("(max-width:991px)"),i=!1,n=!1,a=$(window);e.addListener(function(e){!e.matches&&i?($(".home-page .carousel").owlCarousel().trigger("destroy.owl.carousel"),i=!1):e.matches&&!i&&o()}),t.addListener(function(e){e.matches?e.matches&&(s(),n=!0):($(".home-page .activity-carousel").owlCarousel().trigger("destroy.owl.carousel"),n=!1)});var s=function(){$(".home-page .activity-carousel").owlCarousel({loop:!1,items:2,responsive:{0:{items:1},768:{items:2}},nav:!0,navText:["<div class='nav-prev'></div>","<div class='nav-next'></div>"]})},o=function(){$(".home-page .carousel").owlCarousel({loop:!1,items:1,nav:!0,navText:["<div class='nav-prev'></div>","<div class='nav-next'></div>"]}),i=!0};a.width()<768&&o(),a.width()<991&&s()}),function(){function e(){i.removeClass("hide")}function t(){i.addClass("hide")}var i=$(".banner-wrapper .search-results"),n=$(".banner-wrapper input.search");n.focus(function(){e()}),$(".brief-background").click(function(){t()})}(),$(document).ready(function(){var e=window.matchMedia("(max-width:767px)"),t=!1,i=$(window);e.addListener(function(e){!e.matches&&t?($(".destination-page .carousel").owlCarousel().trigger("destroy.owl.carousel"),t=!1):e.matches&&!t&&n()});var n=function(){$(".destination-page .carousel").owlCarousel({loop:!1,items:1,nav:!0,navText:["<div class='nav-prev'></div>","<div class='nav-next'></div>"]}),t=!0};i.width()<768&&n(),$(".destination-page .large-owl-carousel").owlCarousel({loop:!1,items:1,nav:!1,dots:!0}),$(".destination-page .fun-fact-carousel").owlCarousel({loop:!1,items:2,responsive:{0:{items:1},991:{items:2}},nav:!0,navText:["<div class='nav-prev'></div>","<div class='nav-next'></div>"]}),smoothScroll.init({offset:60}),$(".sticky-container").sticky()}),$(document).ready(function(){function e(){$("#overview-copy").readmore({moreLink:'<div class="hidden-md hidden-lg"><div class="load-more"><a href="#">READ MORE</a></div></div>',lessLink:"",collapsedHeight:400})}var t=window.matchMedia("(max-width:767px"),i=window.matchMedia("(max-width:991px"),n=!1;t.addListener(function(e){!e.matches&&n?($(".thing-page .carousel").owlCarousel().trigger("destroy.owl.carousel"),$(".thing-page .auto-height-carousel").owlCarousel().trigger("destroy.owl.carousel"),n=!1):e.matches&&!n&&a()}),i.addListener(function(t){t.matches?e():$("#overview-copy").readmore("destroy"),$(".mobile-nav-container").sticky("update"),$(".desktop-sub-nav").sticky("update"),$(".desktop-booking-container .booking-wrapper").sticky("update")});var a=function(){$(".thing-page .carousel").owlCarousel({loop:!1,items:1,nav:!0,navText:["<div class='nav-prev orange'></div>","<div class='nav-next orange'></div>"]}),$(".thing-page .auto-height-carousel").owlCarousel({loop:!1,items:1,nav:!0,navText:["<div class='nav-prev orange'></div>","<div class='nav-next orange'></div>"],autoHeight:!0}),n=!0};$(window).width()<767&&a(),$(window).width()<991&&e(),smoothScroll.init({offset:60}),$(".mobile-nav-container").sticky({topSpacing:0,zIndex:200}),$(".desktop-sub-nav").sticky({topSpacing:0,zIndex:200}),$(".desktop-booking-container .booking-wrapper").sticky({topSpacing:0,zIndex:200})}),function(e){e.fn.confirm=function(t){return"undefined"==typeof t&&(t={}),this.click(function(i){i.preventDefault();var n=e.extend({button:e(this)},t);e.confirm(n,i)}),this},e.confirm=function(t,i){if(!(e(".confirmation-modal").length>0)){var n={};if(t.button){var a={title:"title",text:"text","confirm-button":"confirmButton","cancel-button":"cancelButton","confirm-button-class":"confirmButtonClass","cancel-button-class":"cancelButtonClass","dialog-class":"dialogClass"};e.each(a,function(e,i){var a=t.button.data(e);a&&(n[i]=a)})}var s=e.extend({},e.confirm.options,{confirm:function(){var n=i&&("string"==typeof i&&i||i.currentTarget&&i.currentTarget.attributes.href.value);if(n)if(t.post){var a=e('<form method="post" class="hide" action="'+n+'"></form>');e("body").append(a),a.submit()}else window.location=n},cancel:function(){},button:null},n,t),o="";""!==s.title&&(o='<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title">'+s.title+"</h4></div>");var r='<div class="confirmation-modal modal fade" tabindex="-1" role="dialog"><div class="'+s.dialogClass+'"><div class="modal-content">'+o+'<div class="modal-body">'+s.text+'</div><div class="modal-footer"><button class="confirm btn '+s.confirmButtonClass+'" type="button" data-dismiss="modal">'+s.confirmButton+'</button><button class="cancel btn '+s.cancelButtonClass+'" type="button" data-dismiss="modal">'+s.cancelButton+"</button></div></div></div></div>",l=e(r);l.on("shown.bs.modal",function(){l.find(".btn-primary:first").focus()}),l.on("hidden.bs.modal",function(){l.remove()}),l.find(".confirm").click(function(){s.confirm(s.button)}),l.find(".cancel").click(function(){s.cancel(s.button)}),e("body").append(l),l.modal("show")}},e.confirm.options={text:"Are you sure?",title:"",confirmButton:"Yes",cancelButton:"Cancel",post:!1,confirmButtonClass:"btn-primary",cancelButtonClass:"btn-default",dialogClass:"modal-dialog"}}(jQuery),function(){"use strict";var e=this,t=e.Chart,i=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},i=this.width=t(e.canvas,"Width")||e.canvas.width,a=this.height=t(e.canvas,"Height")||e.canvas.height;return i=this.width=e.canvas.width,a=this.height=e.canvas.height,this.aspectRatio=this.width/this.height,n.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",segmentColorDefault:["#A6CEE3","#1F78B4","#B2DF8A","#33A02C","#FB9A99","#E31A1C","#FDBF6F","#FF7F00","#CAB2D6","#6A3D9A","#B4B482","#B15928"],segmentHighlightColorDefaults:["#CEF6FF","#47A0DC","#DAFFB2","#5BC854","#FFC2C1","#FF4244","#FFE797","#FFA728","#F2DAFE","#9265C2","#DCDCAA","#D98150"],onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var n=i.helpers={},a=n.each=function(e,t,i){var n=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var a;for(a=0;a<e.length;a++)t.apply(i,[e[a],a].concat(n))}else for(var s in e)t.apply(i,[e[s],s].concat(n))},s=n.clone=function(e){var t={};return a(e,function(i,n){e.hasOwnProperty(n)&&(t[n]=i)}),t},o=n.extend=function(e){return a(Array.prototype.slice.call(arguments,1),function(t){a(t,function(i,n){t.hasOwnProperty(n)&&(e[n]=i)})}),e},r=n.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),o.apply(null,e)},l=n.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},c=(n.where=function(e,t){var i=[];return n.each(e,function(e){t(e)&&i.push(e)}),i},n.findNextWhere=function(e,t,i){i||(i=-1);for(var n=i+1;n<e.length;n++){var a=e[n];if(t(a))return a}},n.findPreviousWhere=function(e,t,i){i||(i=e.length);for(var n=i-1;n>=0;n--){var a=e[n];if(t(a))return a}},n.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=t.prototype,i.prototype=new n,i.extend=c,e&&o(i.prototype,e),i.__super__=t.prototype,i}),u=n.noop=function(){},d=n.uid=function(){var e=0;return function(){return"chart-"+e++}}(),h=n.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},p=n.amd="function"==typeof define&&define.amd,f=n.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=n.max=function(e){return Math.max.apply(Math,e)},g=n.min=function(e){return Math.min.apply(Math,e)},v=(n.cap=function(e,t,i){if(f(t)){if(e>t)return t}else if(f(i)&&i>e)return i;return e},n.getDecimalPlaces=function(e){if(e%1!==0&&f(e)){var t=e.toString();if(t.indexOf("e-")<0)return t.split(".")[1].length;if(t.indexOf(".")<0)return parseInt(t.split("e-")[1]);var i=t.split(".")[1].split("e-");return i[0].length+parseInt(i[1])}return 0}),y=n.radians=function(e){return e*(Math.PI/180)},b=(n.getAngleFromPoint=function(e,t){var i=t.x-e.x,n=t.y-e.y,a=Math.sqrt(i*i+n*n),s=2*Math.PI+Math.atan2(n,i);return 0>i&&0>n&&(s+=2*Math.PI),{angle:s,distance:a}},n.aliasPixel=function(e){return e%2===0?0:.5}),w=(n.splineCurve=function(e,t,i,n){var a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=n*a/(a+s),r=n*s/(a+s);return{inner:{x:t.x-o*(i.x-e.x),y:t.y-o*(i.y-e.y)},outer:{x:t.x+r*(i.x-e.x),y:t.y+r*(i.y-e.y)}}},n.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),_=(n.calculateScaleRange=function(e,t,i,n,s){var o=2,r=Math.floor(t/(1.5*i)),l=o>=r,c=[];a(e,function(e){null==e||c.push(e)});var u=g(c),d=m(c);d===u&&(d+=.5,u>=.5&&!n?u-=.5:d+=.5);for(var h=Math.abs(d-u),p=w(h),f=Math.ceil(d/(1*Math.pow(10,p)))*Math.pow(10,p),v=n?0:Math.floor(u/(1*Math.pow(10,p)))*Math.pow(10,p),y=f-v,b=Math.pow(10,p),_=Math.round(y/b);(_>r||r>2*_)&&!l;)if(_>r)b*=2,_=Math.round(y/b),_%1!==0&&(l=!0);else if(s&&p>=0){if(b/2%1!==0)break;b/=2,_=Math.round(y/b)}else b/=2,_=Math.round(y/b);return l&&(_=o,b=y/_),{steps:_,stepValue:b,min:v,max:v+_*b}},n.template=function(e,t){function i(e,t){var i=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[e]=n[e];return t?i(t):i}if(e instanceof Function)return e(t);var n={};return i(e,t)}),x=(n.generateLabels=function(e,t,i,n){var s=new Array(t);return e&&a(s,function(t,a){s[a]=_(e,{value:i+n*(a+1)})}),s},n.easingEffects={linear:function(e){
return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)))},easeOutElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:2==(e/=.5)?1:(i||(i=1*(.3*1.5)),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),1>e?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)):n*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-x.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*(7.5625*e*e):2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*x.easeInBounce(2*e):.5*x.easeOutBounce(2*e-1)+.5}}),C=n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),T=(n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),n.animationLoop=function(e,t,i,n,a,s){var o=0,r=x[i]||x.linear,l=function(){o++;var i=o/t,c=r(i);e.call(s,c,i,o),n.call(s,c,i),t>o?s.animationFrame=C(l):a.apply(s)};C(l)},n.getRelativePosition=function(e){var t,i,n=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect();return n.touches?(t=n.touches[0].clientX-s.left,i=n.touches[0].clientY-s.top):(t=n.clientX-s.left,i=n.clientY-s.top),{x:t,y:i}},n.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}),S=n.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=u},k=(n.bindEvents=function(e,t,i){e.events||(e.events={}),a(t,function(t){e.events[t]=function(){i.apply(e,arguments)},T(e.chart.canvas,t,e.events[t])})},n.unbindEvents=function(e,t){a(t,function(t,i){S(e.chart.canvas,i,t)})}),E=n.getMaximumWidth=function(e){var t=e.parentNode,i=parseInt(P(t,"padding-left"))+parseInt(P(t,"padding-right"));return t.clientWidth-i},D=n.getMaximumHeight=function(e){var t=e.parentNode,i=parseInt(P(t,"padding-bottom"))+parseInt(P(t,"padding-top"));return t.clientHeight-i},P=n.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},A=(n.getMaximumSize=n.getMaximumWidth,n.retinaScale=function(e){var t=e.ctx,i=e.canvas.width,n=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=i+"px",t.canvas.style.height=n+"px",t.canvas.height=n*window.devicePixelRatio,t.canvas.width=i*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),I=n.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},M=n.fontString=function(e,t,i){return t+" "+e+"px "+i},N=n.longestText=function(e,t,i){e.font=t;var n=0;return a(i,function(t){var i=e.measureText(t).width;n=i>n?i:n}),n},j=n.drawRoundedRectangle=function(e,t,i,n,a,s){e.beginPath(),e.moveTo(t+s,i),e.lineTo(t+n-s,i),e.quadraticCurveTo(t+n,i,t+n,i+s),e.lineTo(t+n,i+a-s),e.quadraticCurveTo(t+n,i+a,t+n-s,i+a),e.lineTo(t+s,i+a),e.quadraticCurveTo(t,i+a,t,i+a-s),e.lineTo(t,i+s),e.quadraticCurveTo(t,i,t+s,i),e.closePath()};i.instances={},i.Type=function(e,t,n){this.options=t,this.chart=n,this.id=d(),i.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},o(i.Type.prototype,{initialize:function(){return this},clear:function(){return I(this.chart),this},stop:function(){return i.animationService.cancelAnimation(this),this},resize:function(e){this.stop();var t=this.chart.canvas,i=E(this.chart.canvas),n=this.options.maintainAspectRatio?i/this.chart.aspectRatio:D(this.chart.canvas);return t.width=this.chart.width=i,t.height=this.chart.height=n,A(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(e){if(e&&this.reflow(),this.options.animation&&!e){var t=new i.Animation;t.numSteps=this.options.animationSteps,t.easing=this.options.animationEasing,t.render=function(e,t){var i=n.easingEffects[t.easing],a=t.currentStep/t.numSteps,s=i(a);e.draw(s,a,t.currentStep)},t.onAnimationProgress=this.options.onAnimationProgress,t.onAnimationComplete=this.options.onAnimationComplete,i.animationService.addAnimation(this,t)}else this.draw(),this.options.onAnimationComplete.call(this);return this},generateLegend:function(){return _(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var s=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(a(e,function(e,i){e!==this.activeElements[i]&&(t=!0)},this),t)}.call(this,e);if(s||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var o,r,c=this.datasets.length-1;c>=0&&(o=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,r=l(o,e[0]),-1===r);c--);var u=[],d=[],h=function(){var e,t,i,a,s,o=[],l=[],c=[];return n.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[r]&&e[r].hasValue()&&o.push(e[r])}),n.each(o,function(e){l.push(e.x),c.push(e.y),u.push(n.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),s=g(c),i=m(c),a=g(l),t=m(l),{x:a>this.chart.width/2?a:t,y:(s+i)/2}}.call(this,r);new i.MultiTooltip({x:h.x,y:h.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:u,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:_(this.options.tooltipTitleTemplate,e[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else a(e,function(e){var t=e.tooltipPosition();new i.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:_(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(e){var t=this,n=function(){return t.apply(this,arguments)};if(n.prototype=s(t.prototype),o(n.prototype,e),n.extend=i.Type.extend,e.name||t.prototype.name){var a=e.name||t.prototype.name,l=i.defaults[t.prototype.name]?s(i.defaults[t.prototype.name]):{};i.defaults[a]=o(l,e.defaults),i.types[a]=n,i.prototype[a]=function(e,t){var s=r(i.defaults.global,i.defaults[a],t||{});return new n(e,s,this)}}else h("Name not provided for this chart, so it hasn't been registered");return t},i.Element=function(e){o(this,e),this.initialize.apply(this,arguments),this.save()},o(i.Element.prototype,{initialize:function(){},restore:function(e){return e?a(e,function(e){this[e]=this._saved[e]},this):o(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(e){return a(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return a(e,function(e,i){this[i]=(e-this._saved[i])*t+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),i.Element.extend=c,i.Point=i.Element.extend({display:!0,inRange:function(e,t){var i=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),i.Arc=i.Element.extend({inRange:function(e,t){var i=n.getAngleFromPoint(this,{x:e,y:t}),a=i.angle%(2*Math.PI),s=(2*Math.PI+this.startAngle)%(2*Math.PI),o=(2*Math.PI+this.endAngle)%(2*Math.PI)||360,r=s>o?o>=a||a>=s:a>=s&&o>=a,l=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return r&&l},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius<0?0:this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius<0?0:this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,i=this.x-t,n=this.x+t,a=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(i+=s,n-=s,a+=s),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(i,this.base),e.lineTo(i,a),e.lineTo(n,a),e.lineTo(n,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),i.Animation=i.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),i.Tooltip=i.Element.extend({draw:function(){var e=this.chart.ctx;e.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,i=e.measureText(this.text).width+2*this.xPadding,n=this.fontSize+2*this.yPadding,a=n+this.caretHeight+t;this.x+i/2>this.chart.width?this.xAlign="left":this.x-i/2<0&&(this.xAlign="right"),this.y-a<0&&(this.yAlign="below");var s=this.x-i/2,o=this.y-a;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":s=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}j(e,s,o,i,n,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,s+i/2,o+n/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=M(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.titleHeight=this.title?1.5*this.titleFontSize:0,this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+this.titleHeight,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=N(this.ctx,this.font,this.labels)+this.fontSize+3,i=m([t,e]);this.width=i+2*this.xPadding;var n=this.height/2;this.y-n<0?this.y=n:this.y+n>this.chart.height&&(this.y=this.chart.height-n),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,i=e-1;return 0===e?t+this.titleHeight/3:t+(1.5*this.fontSize*i+this.fontSize/2)+this.titleHeight},draw:function(){if(this.custom)this.custom(this);else{j(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,n.each(this.labels,function(t,i){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[i].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(_(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?N(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),e<this.yLabelWidth&&(this.endPoint=t,this.calculateXLabelRotation())},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,i=this.ctx.measureText(this.xLabels[0]).width,n=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=n/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth?i/2:this.yLabelWidth,this.xLabelRotation=0,this.display){var a,s=N(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)a=Math.cos(y(this.xLabelRotation)),e=a*i,t=a*n,e+this.fontSize/2>this.yLabelWidth&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=a*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),n=i*e+this.xScalePaddingLeft;return this.offsetGridLines&&(n+=i/2),Math.round(n)},update:function(e){n.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,a(this.yLabels,function(a,s){var o=this.endPoint-t*s,r=Math.round(o),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(a,i-10,o),0!==s||l||(l=!0),l&&e.beginPath(),s>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),r+=n.aliasPixel(e.lineWidth),l&&(e.moveTo(i,r),e.lineTo(this.width,r),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i-5,r),e.lineTo(i,r),e.stroke(),e.closePath()},this),a(this.xLabels,function(t,i){var n=this.calculateX(i)+b(this.lineWidth),a=this.calculateX(i-(this.offsetGridLines?.5:0))+b(this.lineWidth),s=this.xLabelRotation>0,o=this.showVerticalLines;0!==i||o||(o=!0),o&&e.beginPath(),i>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(a,this.endPoint),e.lineTo(a,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(a,this.endPoint),e.lineTo(a,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(n,s?this.endPoint+12:this.endPoint+8),e.rotate(-1*y(this.xLabelRotation)),e.font=this.font,e.textAlign=s?"right":"center",e.textBaseline=s?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=g([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(_(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,i,n,a,s,o,r,l,c,u,d,h=g([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,m=0;for(this.ctx.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,h),i=this.ctx.measureText(_(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(n=i/2,e.x+n>p&&(p=e.x+n,a=t),e.x-n<m&&(m=e.x-n,o=t)):t<this.valuesCount/2?e.x+i>p&&(p=e.x+i,a=t):t>this.valuesCount/2&&e.x-i<m&&(m=e.x-i,o=t);l=m,c=Math.ceil(p-this.width),s=this.getIndexAngle(a),r=this.getIndexAngle(o),u=c/Math.sin(s+Math.PI/2),d=l/Math.sin(r+Math.PI/2),u=f(u)?u:0,d=f(d)?d:0,this.drawingArea=h-(d+u)/2,this.setCenterPoint(d,u)},setCenterPoint:function(e,t){var i=this.width-t-this.drawingArea,n=e+this.drawingArea;this.xCenter=(n+i)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var i=this.getIndexAngle(e);return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(a(this.yLabels,function(t,i){if(i>0){var n,a=i*(this.drawingArea/this.steps),s=this.yCenter-a;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,a,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)n=this.getPointPosition(o,this.calculateCenterOffset(this.min+i*this.stepValue)),0===o?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,s)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){var i=null,n=null;if(this.angleLineWidth>0&&(i=this.calculateCenterOffset(this.max),n=this.getPointPosition(t,i),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()),this.backgroundColors&&this.backgroundColors.length==this.valuesCount){null==i&&(i=this.calculateCenterOffset(this.max)),null==n&&(n=this.getPointPosition(t,i));var s=this.getPointPosition(0===t?this.valuesCount-1:t-1,i),o=this.getPointPosition(t===this.valuesCount-1?0:t+1,i),r={x:(s.x+n.x)/2,y:(s.y+n.y)/2},l={x:(n.x+o.x)/2,y:(n.y+o.y)/2};e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(r.x,r.y),e.lineTo(n.x,n.y),e.lineTo(l.x,l.y),e.fillStyle=this.backgroundColors[t],e.fill(),e.closePath()}var c=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var u=this.labels.length,d=this.labels.length/2,h=d/2,p=h>t||t>u-h,f=t===h||t===u-h;0===t?e.textAlign="center":t===d?e.textAlign="center":d>t?e.textAlign="left":e.textAlign="right",f?e.textBaseline="middle":p?e.textBaseline="bottom":e.textBaseline="top",e.fillText(this.labels[t],c.x,c.y)}}}}}),i.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(e,t){for(var i=0;i<this.animations.length;++i)if(this.animations[i].chartInstance===e)return void(this.animations[i].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1==this.animations.length&&n.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(e){var t=n.findNextWhere(this.animations,function(t){return t.chartInstance===e});t&&this.animations.splice(t,1)},digestWrapper:function(){i.animationService.startDigest.call(i.animationService)},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames-=t);for(var i=0;i<this.animations.length;i++)null===this.animations[i].animationObject.currentStep&&(this.animations[i].animationObject.currentStep=0),this.animations[i].animationObject.currentStep+=1+t,this.animations[i].animationObject.currentStep>this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.currentStep=this.animations[i].animationObject.numSteps),this.animations[i].animationObject.render(this.animations[i].chartInstance,this.animations[i].animationObject),this.animations[i].animationObject.currentStep==this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance),this.animations.splice(i,1),i--);var a=Date.now(),s=a-e-this.frameDuration,o=s/this.frameDuration;o>1&&(this.dropFrames+=o),this.animations.length>0&&n.requestAnimFrame.call(window,this.digestWrapper)}},n.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){a(i.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),p?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),e.Chart=i,i.noConflict=function(){return e.Chart=t,i}}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:n,initialize:function(e){var n=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,i){var a=this.calculateBaseWidth(),s=this.calculateX(i)-a/2,o=this.calculateBarWidth(e);return s+o*t+t*n.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*n.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*n.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(e.datasets,function(t){var n={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(n),i.each(t.data,function(i,a){n.bars.push(new this.BarClass({value:i,label:e.labels[a],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,n){i.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,n,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){i.each(this.datasets,function(t,n){i.each(t.bars,e,this,n)},this)},getBarsAtEvent:function(e){for(var t,n=[],a=i.getRelativePosition(e),s=function(e){n.push(e.bars[t])},o=0;o<this.datasets.length;o++)for(t=0;t<this.datasets[o].bars.length;t++)if(this.datasets[o].bars[t].inRange(a.x,a.y))return i.each(this.datasets,s),n;return n},buildScale:function(e){var t=this,n=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},a={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=i.calculateScaleRange(n(),e,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,t)},xLabels:e,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(a,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(a)},addData:function(e,t){i.each(e,function(e,i){this.datasets[i].bars.push(new this.BarClass({value:e,label:t,datasetLabel:this.datasets[i].label,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear(),this.chart.ctx,this.scale.draw(t),i.each(this.datasets,function(e,n){i.each(e.bars,function(e,i){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,n,i),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:n,initialize:function(e){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];i.each(this.segments,function(e){e.restore(["fillColor"])}),i.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),i.each(e,function(t,i){t.color||(t.color="hsl("+360*i/e.length+", 100%, 50%)"),this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],n=i.getRelativePosition(e);return i.each(this.segments,function(e){e.inRange(n.x,n.y)&&t.push(e)},this),t},addData:function(e,i,n){var a=void 0!==i?i:this.segments.length;"undefined"==typeof e.color&&(e.color=t.defaults.global.segmentColorDefault[a%t.defaults.global.segmentColorDefault.length],e.highlight=t.defaults.global.segmentHighlightColorDefaults[a%t.defaults.global.segmentHighlightColorDefaults.length]),this.segments.splice(a,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){
return this.total>0?2*Math.PI*(e/this.total):0},calculateTotal:function(e){this.total=0,i.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(e){e.restore(["fillColor"])}),i.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=i.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),i.each(this.segments,function(e,i){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===i&&(e.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:i.merge(n,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,n={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',offsetGridLines:!1};t.Type.extend({name:"Line",defaults:n,initialize:function(e){this.PointClass=t.Point.extend({offsetGridLines:this.options.offsetGridLines,strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),i.each(e.datasets,function(t){var n={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(n),i.each(t.data,function(i,a){n.points.push(new this.PointClass({value:i,label:e.labels[a],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){i.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){i.each(this.datasets,function(t){i.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],n=i.getRelativePosition(e);return i.each(this.datasets,function(e){i.each(e.points,function(e){e.inRange(n.x,n.y)&&t.push(e)})},this),t},buildScale:function(e){var n=this,a=function(){var e=[];return n.eachPoints(function(t){e.push(t.value)}),e},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,offsetGridLines:this.options.offsetGridLines,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=i.calculateScaleRange(a(),e,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,t)},xLabels:e,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(s,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(s)},addData:function(e,t){i.each(e,function(e,i){this.datasets[i].points.push(new this.PointClass({value:e,label:t,datasetLabel:this.datasets[i].label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var n=this.chart.ctx,a=function(e){return null!==e.value},s=function(e,t,n){return i.findNextWhere(t,a,n)||e},o=function(e,t,n){return i.findPreviousWhere(t,a,n)||e};this.scale&&(this.scale.draw(t),i.each(this.datasets,function(e){var r=i.where(e.points,a);i.each(e.points,function(e,i){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(i)},t)},this),this.options.bezierCurve&&i.each(r,function(e,t){var n=t>0&&t<r.length-1?this.options.bezierCurveTension:0;e.controlPoints=i.splineCurve(o(e,r,t),e,s(e,r,t),n),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=e.strokeColor,n.beginPath(),i.each(r,function(e,t){if(0===t)n.moveTo(e.x,e.y);else if(this.options.bezierCurve){var i=o(e,r,t);n.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else n.lineTo(e.x,e.y)},this),this.options.datasetStroke&&n.stroke(),this.options.datasetFill&&r.length>0&&(n.lineTo(r[r.length-1].x,this.scale.endPoint),n.lineTo(r[0].x,this.scale.endPoint),n.fillStyle=e.fillColor,n.closePath(),n.fill()),i.each(r,function(e){e.draw()})},this))}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,n={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:n,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),i.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];i.each(this.segments,function(e){e.restore(["fillColor"])}),i.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],n=i.getRelativePosition(e);return i.each(this.segments,function(e){e.inRange(n.x,n.y)&&t.push(e)},this),t},addData:function(e,t,i){var n=t||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(e){var t=i.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,i.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];i.each(e,function(e){t.push(e.value)});var n=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(t,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,n,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),i.each(this.segments,function(e,i){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===i&&(e.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),i.each(e.datasets,function(t){var n={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(n),i.each(t.data,function(i,a){var s;this.scale.animation||(s=this.scale.getPointPosition(a,this.scale.calculateCenterOffset(i))),n.points.push(new this.PointClass({value:i,label:e.labels[a],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){i.each(this.datasets,function(t){i.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=i.getRelativePosition(e),n=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),a=2*Math.PI/this.scale.valuesCount,s=Math.round((n.angle-1.5*Math.PI)/a),o=[];return(s>=this.scale.valuesCount||0>s)&&(s=0),n.distance<=this.scale.drawingArea&&i.each(this.datasets,function(e){o.push(e.points[s])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backgroundColors:this.options.scaleBackgroundColors,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return i.each(e,function(e){e.data?t=t.concat(e.data):i.each(e.points,function(e){t.push(e.value)})}),t}(),n=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(t,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,n)},addData:function(e,t){this.scale.valuesCount++,i.each(e,function(e,i){var n=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[i].points.push(new this.PointClass({value:e,label:t,datasetLabel:this.datasets[i].label,x:n.x,y:n.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,n=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(e){i.each(e.points,function(e,i){e.hasValue()&&e.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(e.value)),t)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=e.strokeColor,n.beginPath(),i.each(e.points,function(e,t){0===t?n.moveTo(e.x,e.y):n.lineTo(e.x,e.y)},this),n.closePath(),n.stroke(),n.fillStyle=e.fillColor,this.options.datasetFill&&n.fill(),i.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(i){if(i.async){var n,a,s,o=i.initialIframeSrc||"javascript:false;";return{send:function(r,l){n=e('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),s=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+s+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+s+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+s+"_method=PATCH",i.type="POST"),t+=1,a=e('<iframe src="'+o+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,s=e.isArray(i.paramName)?i.paramName:[i.paramName];a.unbind("load").bind("load",function(){var t;try{if(t=a.contents(),!t.length||!t[0].firstChild)throw new Error}catch(i){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+o+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",a.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&e.each(i.formData,function(t,i){e('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(t=i.fileInput.clone(),i.fileInput.after(function(e){return t[e]}),i.paramName&&i.fileInput.each(function(t){e(this).prop("name",s[t]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),t&&t.length&&i.fileInput.each(function(i,n){var a=e(t[i]);e(n).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(n)})}),n.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",o),n&&n.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&e.isXMLDoc(i)?i:e.parseXML(i.XMLDocument&&i.XMLDocument.xml||e(i.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,a,s;for(s=0;null!=(a=i[s]);s++)try{n=e._data(a,"events"),n&&n.remove&&e(a).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var a,s,o,r,l={},c=t.split(".")[0];return t=t.split(".")[1],a=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[c]=e[c]||{},s=e[c][t],o=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},a=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=a,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(l[t]=n)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix||t:t},l,{constructor:o,namespace:c,widgetName:t,widgetFullName:a}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,a,s=i.call(arguments,1),o=0,r=s.length;r>o;o++)for(n in s[o])a=s[o][n],s[o].hasOwnProperty(n)&&void 0!==a&&(e.isPlainObject(a)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],a):e.widget.extend({},a):t[n]=a);return t},e.widget.bridge=function(t,n){var a=n.prototype.widgetFullName||t;e.fn[t]=function(s){var o="string"==typeof s,r=i.call(arguments,1),l=this;return o?this.each(function(){var i,n=e.data(this,a);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,r),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):(r.length&&(s=e.widget.extend.apply(null,[s].concat(r))),this.each(function(){var t=e.data(this,a);t?(t.option(s||{}),t._init&&t._init()):e.data(this,a,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,a,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(a=o[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)a[n[s]]=a[n[s]]||{},a=a[n[s]];if(t=n.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var a,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=a=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,a=this.widget()),e.each(n,function(n,o){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?a.delegate(u,c,r):i.bind(c,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var a,s,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(a in s)a in i||(i[a]=s[a]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,a,s){"string"==typeof a&&(a={effect:a});var o,r=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),o=!e.isEmptyObject(a),a.complete=s,a.delay&&n.delay(a.delay),o&&e.effects&&e.effects.effect[r]?n[t](a):r!==t&&n[r]?n[r](a.duration,a.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}});e.widget}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(){var e=new r.HandlebarsEnvironment;return p.extend(e,r),e.SafeString=c["default"],e.Exception=d["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var a=i(7)["default"],s=i(8)["default"];t.__esModule=!0;var o=i(1),r=a(o),l=i(2),c=s(l),u=i(3),d=s(u),h=i(4),p=a(h),f=i(5),m=a(f),g=i(6),v=s(g),y=n();y.create=n,v["default"](y),y["default"]=y,t["default"]=y,e.exports=t["default"]},function(e,t,i){"use strict";function n(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var a=i(8)["default"];t.__esModule=!0,t.HandlebarsEnvironment=n;var s=i(4),o=i(3),r=a(o),l=i(9),c=i(10),u=i(11),d=a(u),h="4.0.0";t.VERSION=h;var p=7;t.COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=f;var m="[object Object]";n.prototype={constructor:n,logger:d["default"],log:d["default"].log,registerHelper:function(e,t){if(s.toString.call(e)===m){if(t)throw new r["default"]("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(s.toString.call(e)===m)s.extend(this.partials,e);else{if("undefined"==typeof t)throw new r["default"]("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(s.toString.call(e)===m){if(t)throw new r["default"]("Arg not supported with multiple decorators");s.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var g=d["default"].log;t.log=g,t.createFrame=s.createFrame,t.logger=d["default"]},function(e,t){"use strict";function i(e){this.string=e}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){var a=t&&t.loc,s=void 0,o=void 0;a&&(s=a.start.line,o=a.start.column,e+=" - "+s+":"+o);for(var r=Error.prototype.constructor.call(this,e),l=0;l<n.length;l++)this[n[l]]=r[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,i),a&&(this.lineNumber=s,this.column=o)}t.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function i(e){return u[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function a(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(d,i):e}function o(e){return e||0===e?!(!m(e)||0!==e.length):!0}function r(e){var t=n({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=n,t.indexOf=a,t.escapeExpression=s,t.isEmpty=o,t.createFrame=r,t.blockParams=l,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=f;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};t.isArray=m},function(e,t,i){"use strict";function n(e){var t=e&&e[0]||1,i=v.COMPILER_REVISION;if(t!==i){if(i>t){var n=v.REVISION_CHANGES[i],a=v.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+a+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){function i(i,n,a){a.hash&&(n=f.extend({},n,a.hash),a.ids&&(a.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,n,a);var s=t.VM.invokePartial.call(this,i,n,a);if(null==s&&t.compile&&(a.partials[a.name]=t.compile(i,e.compilerOptions,t),s=a.partials[a.name](n,a)),null!=s){if(a.indent){for(var o=s.split("\n"),r=0,l=o.length;l>r&&(o[r]||r+1!==l);r++)o[r]=a.indent+o[r];s=o.join("\n")}return s}throw new g["default"]("The partial "+a.name+" could not be compiled when running in runtime-only mode")}function n(t){function i(t){return""+e.main(a,t,a.helpers,a.partials,o,l,r)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s.data;n._setup(s),!s.partial&&e.useData&&(o=c(t,o));var r=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(r=s.depths?t!==s.depths[0]?[t].concat(s.depths):s.depths:[t]),(i=u(e.main,i,a,s.depths||[],o,l))(t,s)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var a={strict:function(e,t){if(!(t in e))throw new g["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,n=0;i>n;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:f.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,n,a){var o=this.programs[e],r=this.fn(e);return t||a||n||i?o=s(this,e,r,t,i,n,a):o||(o=this.programs[e]=s(this,e,r)),o},data:function(e,t){
for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=f.extend({},t,e)),i},noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(a.helpers=i.helpers,a.partials=i.partials,a.decorators=i.decorators):(a.helpers=a.merge(i.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(i.partials,t.partials)),e.useDecorators&&(a.decorators=a.merge(i.decorators,t.decorators)))},n._child=function(t,i,n,o){if(e.useBlockParams&&!n)throw new g["default"]("must pass block params");if(e.useDepths&&!o)throw new g["default"]("must pass parent depths");return s(a,t,e[t],i,0,n,o)},n}function s(e,t,i,n,a,s,o){function r(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=o;return o&&t!==o[0]&&(r=[t].concat(o)),i(e,t,e.helpers,e.partials,a.data||n,s&&[a.blockParams].concat(s),r)}return r=u(i,r,e,o,n,s),r.program=t,r.depth=o?o.length:0,r.blockParams=a||0,r}function o(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],e}function r(e,t,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==l&&(n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=f.extend({},i.partials,n.partials))),void 0===e&&n&&(e=n),void 0===e)throw new g["default"]("The partial "+i.name+" could not be found");return e instanceof Function?e(t,i):void 0}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function u(e,t,i,n,a,s){if(e.decorator){var o={};t=e.decorator(t,o,i,n&&n[0],a,s,n),f.extend(t,o)}return t}var d=i(7)["default"],h=i(8)["default"];t.__esModule=!0,t.checkRevision=n,t.template=a,t.wrapProgram=s,t.resolvePartial=o,t.invokePartial=r,t.noop=l;var p=i(4),f=d(p),m=i(3),g=h(m),v=i(1)},function(e,t){(function(i){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof i?i:window,n=t.Handlebars;e.noConflict=function(){t.Handlebars===e&&(t.Handlebars=n)}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},t.__esModule=!0},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,i){"use strict";function n(e){o["default"](e),l["default"](e),u["default"](e),h["default"](e),f["default"](e),g["default"](e),y["default"](e)}var a=i(8)["default"];t.__esModule=!0,t.registerDefaultHelpers=n;var s=i(12),o=a(s),r=i(13),l=a(r),c=i(14),u=a(c),d=i(15),h=a(d),p=i(16),f=a(p),m=i(17),g=a(m),v=i(18),y=a(v)},function(e,t,i){"use strict";function n(e){o["default"](e)}var a=i(8)["default"];t.__esModule=!0,t.registerDefaultDecorators=n;var s=i(19),o=a(s)},function(e,t){"use strict";t.__esModule=!0;var i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.methodMap.indexOf(e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;n>s;s++)a[s-1]=arguments[s];console[t].apply(console,a)}}};t["default"]=i,e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var n=i(4);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,i){var a=i.inverse,s=i.fn;if(t===!0)return s(this);if(t===!1||null==t)return a(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):a(this);if(i.data&&i.ids){var o=n.createFrame(i.data);o.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:o}}return s(t,i)})},e.exports=t["default"]},function(e,t,i){"use strict";var n=i(8)["default"];t.__esModule=!0;var a=i(4),s=i(3),o=n(s);t["default"]=function(e){e.registerHelper("each",function(e,t){function i(t,i,s){null!=e[t]&&(c&&(c.key=t,c.index=i,c.first=0===i,c.last=!!s,u&&(c.contextPath=u+t)),l+=n(e[t],{data:c,blockParams:a.blockParams([e[t],t],[u+t,null])}))}if(!t)throw new o["default"]("Must pass iterator to #each");var n=t.fn,s=t.inverse,r=0,l="",c=void 0,u=void 0;if(t.data&&t.ids&&(u=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(c=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var d=e.length;d>r;r++)i(r,r,r===e.length-1);else{var h=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==h&&i(h,r-1),h=p,r++);void 0!==h&&i(h,r-1,!0)}return 0===r&&(l=s(this)),l})},e.exports=t["default"]},function(e,t,i){"use strict";var n=i(8)["default"];t.__esModule=!0;var a=i(3),s=n(a);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var n=i(4);t["default"]=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var a=1;null!=i.hash.level?a=i.hash.level:i.data&&null!=i.data.level&&(a=i.data.level),t[0]=a,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var n=i(4);t["default"]=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var i=t.fn;if(n.isEmpty(e))return t.inverse(this);var a=t.data;return t.data&&t.ids&&(a=n.createFrame(t.data),a.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:a,blockParams:n.blockParams([e],[a&&a.contextPath])})})},e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var n=i(4);t["default"]=function(e){e.registerDecorator("inline",function(e,t,i,a){var s=e;return t.partials||(t.partials={},s=function(a,s){var o=i.partials;i.partials=n.extend({},o,t.partials);var r=e(a,s);return i.partials=o,r}),t.partials[a.args[0]]=a.fn,s})},e.exports=t["default"]}])}),"classList"in document.createElement("_")||!function(e){"use strict";if("Element"in e){var t="classList",i="prototype",n=e.Element[i],a=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[i].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},c=function(e){for(var t=s.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],n=0,a=i.length;a>n;n++)this.push(i[n]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(r[i]=Error[i],u.item=function(e){return this[e]||null},u.contains=function(e){return e+="",-1!==l(this,e)},u.add=function(){var e,t=arguments,i=0,n=t.length,a=!1;do e=t[i]+"",-1===l(this,e)&&(this.push(e),a=!0);while(++i<n);a&&this._updateClassName()},u.remove=function(){var e,t,i=arguments,n=0,a=i.length,s=!1;do for(e=i[n]+"",t=l(this,e);-1!==t;)this.splice(t,1),s=!0,t=l(this,e);while(++n<a);s&&this._updateClassName()},u.toggle=function(e,t){e+="";var i=this.contains(e),n=i?t!==!0&&"remove":t!==!1&&"add";return n&&this[n](e),t===!0||t===!1?t:!i},u.toString=function(){return this.join(" ")},a.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{a.defineProperty(n,t,h)}catch(p){-2146823252===p.number&&(h.enumerable=!1,a.defineProperty(n,t,h))}}else a[i].__defineGetter__&&n.__defineGetter__(t,d)}}(self),function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(t){}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},n=function(e,t,i){this.data=e,this.size=e.length,this.type=t,this.encoding=i},a=i.prototype,s=n.prototype,o=e.FileReaderSync,r=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,u=e.URL||e.webkitURL||e,d=u.createObjectURL,h=u.revokeObjectURL,p=u,f=e.btoa,m=e.atob,g=e.ArrayBuffer,v=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=s.fake=!0;c--;)r.prototype[l[c]]=c+1;return u.createObjectURL||(p=e.URL=function(e){var t,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");return i.href=e,"origin"in i||("data:"===i.protocol.toLowerCase()?i.origin=null:(t=e.match(y),i.origin=t&&t[1])),i}),p.createObjectURL=function(e){var t,i=e.type;return null===i&&(i="application/octet-stream"),e instanceof n?(t="data:"+i,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):f?t+";base64,"+f(e.data):t+","+encodeURIComponent(e.data)):d?d.call(u,e):void 0},p.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&h&&h.call(u,e)},a.append=function(e){var i=this.data;if(v&&(e instanceof g||e instanceof v)){for(var a="",s=new v(e),l=0,c=s.length;c>l;l++)a+=String.fromCharCode(s[l]);i.push(a)}else if("Blob"===t(e)||"File"===t(e)){if(!o)throw new r("NOT_READABLE_ERR");var u=new o;i.push(u.readAsBinaryString(e))}else e instanceof n?"base64"===e.encoding&&m?i.push(m(e.data)):"URI"===e.encoding?i.push(decodeURIComponent(e.data)):"raw"===e.encoding&&i.push(e.data):("string"!=typeof e&&(e+=""),i.push(unescape(encodeURIComponent(e))))},a.getBlob=function(e){return arguments.length||(e=null),new n(this.data.join(""),e,"raw")},a.toString=function(){return"[object BlobBuilder]"},s.slice=function(e,t,i){var a=arguments.length;return 3>a&&(i=null),new n(this.data.slice(e,a>1?t:this.data.length),i,this.encoding)},s.toString=function(){return"[object Blob]"},s.close=function(){this.size=0,delete this.data},i}(e);e.Blob=function(e,t){var n=t?t.type||"":"",a=new i;if(e)for(var s=0,o=e.length;o>s;s++)Uint8Array&&e[s]instanceof Uint8Array?a.append(e[s].buffer):a.append(e[s]);var r=a.getBlob(n);return!r.slice&&r.webkitSlice&&(r.slice=r.webkitSlice),r};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(e,t){"use strict";"object"==typeof module?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):e.MediumEditor=t}(this,function(){"use strict";function e(e,t){return this.init(e,t)}return e.extensions={},function(t){function i(e,t){var i,n=Array.prototype.slice.call(arguments,2);t=t||{};for(var a=0;a<n.length;a++){var s=n[a];if(s)for(i in s)s.hasOwnProperty(i)&&"undefined"!=typeof s[i]&&(e||t.hasOwnProperty(i)===!1)&&(t[i]=s[i])}return t}var n=!1;try{var a=document.createElement("div"),s=document.createTextNode(" ");a.appendChild(s),n=a.contains(s)}catch(o){}var r={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:t.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77},isMetaCtrlKey:function(e){return!!(r.isMac&&e.metaKey||!r.isMac&&e.ctrlKey)},isKey:function(e,t){var i=r.getKeyCode(e);return!1===Array.isArray(t)?i===t:-1!==t.indexOf(i)},getKeyCode:function(e){var t=e.which;return null===t&&(t=null!==e.charCode?e.charCode:e.keyCode),t},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var e=[!0].concat(Array.prototype.slice.call(arguments));return i.apply(this,e)},defaults:function(){var e=[!1].concat(Array.prototype.slice.call(arguments));return i.apply(this,e)},createLink:function(e,t,i,n){var a=e.createElement("a");return r.moveTextRangeIntoElement(t[0],t[t.length-1],a),a.setAttribute("href",i),n&&a.setAttribute("target",n),a},findOrCreateMatchingTextNodes:function(e,t,i){for(var n=e.createTreeWalker(t,NodeFilter.SHOW_ALL,null,!1),a=[],s=0,o=!1,l=null,c=null;null!==(l=n.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!o&&i.start<s+l.nodeValue.length&&(o=!0,c=r.splitStartNodeIfNeeded(l,i.start,s)),o&&r.splitEndNodeIfNeeded(l,c,i.end,s),o&&s===i.end)break;if(o&&s>i.end+1)throw new Error("PerformLinking overshot the target!");o&&a.push(c||l),s+=l.nodeValue.length,null!==c&&(s+=c.nodeValue.length,n.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!o&&i.start<=s&&(o=!0),o&&a.push(l));return a},splitStartNodeIfNeeded:function(e,t,i){return t!==i?e.splitText(t-i):null},splitEndNodeIfNeeded:function(e,t,i,n){var a,s;a=n+(t||e).nodeValue.length+(t?e.nodeValue.length:0)-1,s=(t||e).nodeValue.length-(a+1-i),a>=i&&n!==a&&0!==s&&(t||e).splitText(s)},splitByBlockElements:function(t){if(3!==t.nodeType&&1!==t.nodeType)return[];var i=[],n=e.util.blockContainerElementNames.join(",");if(3===t.nodeType||0===t.querySelectorAll(n).length)return[t];for(var a=0;a<t.childNodes.length;a++){var s=t.childNodes[a];if(3===s.nodeType)i.push(s);else if(1===s.nodeType){var o=s.querySelectorAll(n);0===o.length?i.push(s):i=i.concat(e.util.splitByBlockElements(s))}}return i},findAdjacentTextNodeWithContent:function(e,t,i){var n,a=!1,s=i.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);for(n=s.nextNode();n;){if(n===t)a=!0;else if(a&&3===n.nodeType&&n.nodeValue&&n.nodeValue.trim().length>0)break;n=s.nextNode()}return n},findPreviousSibling:function(e){if(!e||r.isMediumEditorElement(e))return!1;for(var t=e.previousSibling;!t&&!r.isMediumEditorElement(e.parentNode);)e=e.parentNode,t=e.previousSibling;return t},isDescendant:function(e,t,i){if(!e||!t)return!1;if(e===t)return!!i;if(1!==e.nodeType)return!1;if(n||3!==t.nodeType)return e.contains(t);for(var a=t.parentNode;null!==a;){if(a===e)return!0;a=a.parentNode}return!1},isElement:function(e){return!(!e||1!==e.nodeType)},throttle:function(e,t){var i,n,a,s=50,o=null,r=0,l=function(){r=Date.now(),o=null,a=e.apply(i,n),o||(i=n=null)};return t||0===t||(t=s),function(){var s=Date.now(),c=t-(s-r);return i=this,n=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),r=s,a=e.apply(i,n),o||(i=n=null)):o||(o=setTimeout(l,c)),a}},traverseUp:function(e,t){if(!e)return!1;do{if(1===e.nodeType){if(t(e))return e;if(r.isMediumEditorElement(e))return!1}e=e.parentNode}while(e);return!1},htmlEntities:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,i){var n,a,s,o,l,c,u,d=!1,h=["insertHTML",!1,i];if(!e.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,h)}catch(p){}if(n=t.getSelection(),n.rangeCount){if(a=n.getRangeAt(0),u=a.commonAncestorContainer,r.isMediumEditorElement(u)&&!u.firstChild)a.selectNode(u.appendChild(t.createTextNode("")));else if(3===u.nodeType&&0===a.startOffset&&a.endOffset===u.nodeValue.length||3!==u.nodeType&&u.innerHTML===a.toString()){for(;!r.isMediumEditorElement(u)&&u.parentNode&&1===u.parentNode.childNodes.length&&!r.isMediumEditorElement(u.parentNode);)u=u.parentNode;a.selectNode(u)}for(a.deleteContents(),s=t.createElement("div"),s.innerHTML=i,o=t.createDocumentFragment();s.firstChild;)l=s.firstChild,c=o.appendChild(l);a.insertNode(o),c&&(a=a.cloneRange(),a.setStartAfter(c),a.collapse(!0),n.removeAllRanges(),n.addRange(a)),d=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(h,d),d},execFormatBlock:function(t,i){var n,a=r.getTopBlockContainer(e.selection.getSelectionStart(t));if("blockquote"===i){if(a&&(n=Array.prototype.slice.call(a.childNodes),n.some(function(e){return r.isBlockContainer(e)})))return t.execCommand("outdent",!1,null);if(r.isIE)return t.execCommand("indent",!1,i)}if(a&&i===a.nodeName.toLowerCase()&&(i="p"),r.isIE&&(i="<"+i+">"),a&&"blockquote"===a.nodeName.toLowerCase()){if(r.isIE&&"<p>"===i)return t.execCommand("outdent",!1,i);if((r.isFF||r.isEdge)&&"p"===i)return n=Array.prototype.slice.call(a.childNodes),n.some(function(e){return!r.isBlockContainer(e)})&&t.execCommand("formatBlock",!1,i),t.execCommand("outdent",!1,i)}return t.execCommand("formatBlock",!1,i)},setTargetBlank:function(e,t){var i,n=t||!1;if("a"===e.nodeName.toLowerCase())e.target="_blank";else for(e=e.getElementsByTagName("a"),i=0;i<e.length;i+=1)!1!==n&&n!==e[i].attributes.href.value||(e[i].target="_blank")},removeTargetBlank:function(e,t){var i;if("a"===e.nodeName.toLowerCase())e.removeAttribute("target");else for(e=e.getElementsByTagName("a"),i=0;i<e.length;i+=1)t===e[i].attributes.href.value&&e[i].removeAttribute("target")},addClassToAnchors:function(e,t){var i,n,a=t.split(" ");if("a"===e.nodeName.toLowerCase())for(n=0;n<a.length;n+=1)e.classList.add(a[n]);else for(e=e.getElementsByTagName("a"),i=0;i<e.length;i+=1)for(n=0;n<a.length;n+=1)e[i].classList.add(a[n])},isListItem:function(e){if(!e)return!1;if("li"===e.nodeName.toLowerCase())return!0;for(var t=e.parentNode,i=t.nodeName.toLowerCase();"li"===i||!r.isBlockContainer(t)&&"div"!==i;){if("li"===i)return!0;if(t=t.parentNode,!t)return!1;i=t.nodeName.toLowerCase()}return!1},cleanListDOM:function(t,i){if("li"===i.nodeName.toLowerCase()){var n=i.parentElement;"p"===n.parentElement.nodeName.toLowerCase()&&(r.unwrap(n.parentElement,t),e.selection.moveCursor(t,i.firstChild,i.firstChild.textContent.length))}},splitOffDOMTree:function(e,t,i){for(var n=t,a=null,s=!i;n!==e;){var o,r=n.parentNode,l=r.cloneNode(!1),c=s?n:r.firstChild;for(a&&(s?l.appendChild(a):o=a),a=l;c;){var u=c.nextSibling;c===n?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&a.appendChild(c),c=s?u:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&a.appendChild(c),c=u)}o&&a.appendChild(o),n=r}return a},moveTextRangeIntoElement:function(e,t,i){if(!e||!t)return!1;var n=r.findCommonRoot(e,t);if(!n)return!1;if(t===e){var a=e.parentNode,s=e.nextSibling;return a.removeChild(e),i.appendChild(e),s?a.insertBefore(i,s):a.appendChild(i),i.hasChildNodes()}for(var o,l,c,u=[],d=0;d<n.childNodes.length;d++)if(c=n.childNodes[d],o){if(r.isDescendant(c,t,!0)){l=c;break}u.push(c)}else r.isDescendant(c,e,!0)&&(o=c);var h=l.nextSibling,p=n.ownerDocument.createDocumentFragment();return o===e?(o.parentNode.removeChild(o),p.appendChild(o)):p.appendChild(r.splitOffDOMTree(o,e)),u.forEach(function(e){e.parentNode.removeChild(e),p.appendChild(e)}),l===t?(l.parentNode.removeChild(l),p.appendChild(l)):p.appendChild(r.splitOffDOMTree(l,t,!0)),i.appendChild(p),l.parentNode===n?n.insertBefore(i,l):h?n.insertBefore(i,h):n.appendChild(i),i.hasChildNodes()},depthOfNode:function(e){for(var t=0,i=e;null!==i.parentNode;)i=i.parentNode,t++;return t},findCommonRoot:function(e,t){for(var i=r.depthOfNode(e),n=r.depthOfNode(t),a=e,s=t;i!==n;)i>n?(a=a.parentNode,i-=1):(s=s.parentNode,n-=1);for(;a!==s;)a=a.parentNode,s=s.parentNode;return a},isElementAtBeginningOfBlock:function(e){for(var t,i;!r.isBlockContainer(e)&&!r.isMediumEditorElement(e);){for(i=e;i=i.previousSibling;)if(t=3===i.nodeType?i.nodeValue:i.textContent,t.length>0)return!1;e=e.parentNode}return!0},isMediumEditorElement:function(e){return e&&e.getAttribute&&!!e.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(e){return r.traverseUp(e,function(e){return r.isMediumEditorElement(e)})},isBlockContainer:function(e){return e&&3!==e.nodeType&&-1!==r.blockContainerElementNames.indexOf(e.nodeName.toLowerCase())},getClosestBlockContainer:function(e){return r.traverseUp(e,function(e){return r.isBlockContainer(e)||r.isMediumEditorElement(e)})},getTopBlockContainer:function(e){var t=r.isBlockContainer(e)?e:!1;return r.traverseUp(e,function(e){return r.isBlockContainer(e)&&(t=e),!t&&r.isMediumEditorElement(e)?(t=e,!0):!1}),t},getFirstSelectableLeafNode:function(e){for(;e&&e.firstChild;)e=e.firstChild;if(e=r.traverseUp(e,function(e){return-1===r.emptyElementNames.indexOf(e.nodeName.toLowerCase())}),"table"===e.nodeName.toLowerCase()){var t=e.querySelector("th, td");t&&(e=t)}return e},getFirstTextNode:function(e){return r.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),r._getFirstTextNode(e)},_getFirstTextNode:function(e){if(3===e.nodeType)return e;for(var t=0;t<e.childNodes.length;t++){var i=r._getFirstTextNode(e.childNodes[t]);if(null!==i)return i}return null},ensureUrlHasProtocol:function(e){return-1===e.indexOf("://")?"http://"+e:e},warn:function(){void 0!==t.console&&"function"==typeof t.console.warn&&t.console.warn.apply(t.console,arguments)},deprecated:function(e,t,i){var n=e+" is deprecated, please use "+t+" instead.";i&&(n+=" Will be removed in "+i),r.warn(n)},deprecatedMethod:function(e,t,i,n){r.deprecated(e,t,n),"function"==typeof this[t]&&this[t].apply(this,i)},cleanupAttrs:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},cleanupTags:function(e,t){t.forEach(function(t){e.nodeName.toLowerCase()===t&&e.parentNode.removeChild(e)})},getClosestTag:function(e,t){return r.traverseUp(e,function(e){return e.nodeName.toLowerCase()===t.toLowerCase()})},unwrap:function(e,t){for(var i=t.createDocumentFragment(),n=Array.prototype.slice.call(e.childNodes),a=0;a<n.length;a++)i.appendChild(n[a]);i.childNodes.length?e.parentNode.replaceChild(i,e):e.parentNode.removeChild(e)}};e.util=r}(window),function(){var t=function(t){e.util.extend(this,t)};t.extend=function(t){var i,n=this;i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return n.apply(this,arguments)},e.util.extend(i,n);var a=function(){this.constructor=i};return a.prototype=n.prototype,i.prototype=new a,t&&e.util.extend(i.prototype,t),i},t.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(e){return this.base.options[e]}},["execAction","on","off","subscribe","trigger"].forEach(function(e){t.prototype[e]=function(){return this.base[e].apply(this.base,arguments)}}),e.Extension=t}(),function(){function t(t){return e.util.isBlockContainer(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var i={findMatchingSelectionParent:function(t,i){var n,a,s=i.getSelection();return 0===s.rangeCount?!1:(n=s.getRangeAt(0),a=n.commonAncestorContainer,e.util.traverseUp(a,t))},getSelectionElement:function(t){return this.findMatchingSelectionParent(function(t){return e.util.isMediumEditorElement(t)},t)},exportSelection:function(e,t){if(!e)return null;var i=null,n=t.getSelection();if(n.rangeCount>0){var a,s=n.getRangeAt(0),o=s.cloneRange();o.selectNodeContents(e),o.setEnd(s.startContainer,s.startOffset),a=o.toString().length,i={start:a,end:a+s.toString().length},this.doesRangeStartWithImages(s,t)&&(i.startsWithImage=!0);var r=this.getTrailingImageCount(e,i,s.endContainer,s.endOffset);if(r&&(i.trailingImageCount=r),0!==a){var l=this.getIndexRelativeToAdjacentEmptyBlocks(t,e,s.startContainer,s.startOffset);-1!==l&&(i.emptyBlocksIndex=l)}}return i},importSelection:function(e,t,i,n){if(e&&t){var a=i.createRange();a.setStart(t,0),a.collapse(!0);var s,o=t,r=[],l=0,c=!1,u=!1,d=0,h=!1,p=!1,f=null;for((n||e.startsWithImage||"undefined"!=typeof e.emptyBlocksIndex)&&(p=!0);!h&&o;)if(o.nodeType>3)o=r.pop();else{if(3!==o.nodeType||u){if(e.trailingImageCount&&u&&("img"===o.nodeName.toLowerCase()&&d++,d===e.trailingImageCount)){for(var m=0;o.parentNode.childNodes[m]!==o;)m++;a.setEnd(o.parentNode,m+1),h=!0}if(!h&&1===o.nodeType)for(var g=o.childNodes.length-1;g>=0;)r.push(o.childNodes[g]),g-=1}else s=l+o.length,!c&&e.start>=l&&e.start<=s&&(p||e.start<s?(a.setStart(o,e.start-l),c=!0):f=o),c&&e.end>=l&&e.end<=s&&(e.trailingImageCount?u=!0:(a.setEnd(o,e.end-l),h=!0)),l=s;h||(o=r.pop())}!c&&f&&(a.setStart(f,f.length),a.setEnd(f,f.length)),"undefined"!=typeof e.emptyBlocksIndex&&(a=this.importSelectionMoveCursorPastBlocks(i,t,e.emptyBlocksIndex,a)),n&&(a=this.importSelectionMoveCursorPastAnchor(e,a));var v=i.getSelection();v.removeAllRanges(),v.addRange(a)}},importSelectionMoveCursorPastAnchor:function(t,i){var n=function(e){return"a"===e.nodeName.toLowerCase()};if(t.start===t.end&&3===i.startContainer.nodeType&&i.startOffset===i.startContainer.nodeValue.length&&e.util.traverseUp(i.startContainer,n)){for(var a=i.startContainer,s=i.startContainer.parentNode;null!==s&&"a"!==s.nodeName.toLowerCase();)s.childNodes[s.childNodes.length-1]!==a?s=null:(a=s,s=s.parentNode);if(null!==s&&"a"===s.nodeName.toLowerCase()){for(var o=null,r=0;null===o&&r<s.parentNode.childNodes.length;r++)s.parentNode.childNodes[r]===s&&(o=r);i.setStart(s.parentNode,o+1),i.collapse(!0)}}return i},importSelectionMoveCursorPastBlocks:function(i,n,a,s){var o,r,l=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,t,!1),c=s.startContainer,u=0;for(a=a||1,o=3===c.nodeType&&e.util.isBlockContainer(c.previousSibling)?c.previousSibling:e.util.getClosestBlockContainer(c);l.nextNode();)if(r){if(r=l.currentNode,u++,u===a)break;if(r.textContent.length>0)break}else o===l.currentNode&&(r=l.currentNode);return r||(r=o),s.setStart(e.util.getFirstSelectableLeafNode(r),0),s},getIndexRelativeToAdjacentEmptyBlocks:function(i,n,a,s){if(a.textContent.length>0&&s>0)return-1;var o=a;if(3!==o.nodeType&&(o=a.childNodes[s]),o){if(!e.util.isElementAtBeginningOfBlock(o))return-1;var r=e.util.findPreviousSibling(o);if(!r)return-1;if(r.nodeValue)return-1}for(var l=e.util.getClosestBlockContainer(a),c=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,t,!1),u=0;c.nextNode();){var d=""===c.currentNode.textContent;if((d||u>0)&&(u+=1),c.currentNode===l)return u;d||(u=0)}return u},doesRangeStartWithImages:function(e,t){if(0!==e.startOffset||1!==e.startContainer.nodeType)return!1;if("img"===e.startContainer.nodeName.toLowerCase())return!0;var i=e.startContainer.querySelector("img");if(!i)return!1;for(var n=t.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);n.nextNode();){var a=n.currentNode;if(a===i)break;if(a.nodeValue)return!1}return!0},getTrailingImageCount:function(e,t,i,n){if(0===n||1!==i.nodeType)return 0;if("img"!==i.nodeName.toLowerCase()&&!i.querySelector("img"))return 0;for(var a=i.childNodes[n-1];a.hasChildNodes();)a=a.lastChild;for(var s,o=e,r=[],l=0,c=!1,u=!1,d=!1,h=0;!d&&o;)if(o.nodeType>3)o=r.pop();else{if(3!==o.nodeType||u){if("img"===o.nodeName.toLowerCase()&&h++,o===a)d=!0;else if(1===o.nodeType)for(var p=o.childNodes.length-1;p>=0;)r.push(o.childNodes[p]),p-=1}else h=0,s=l+o.length,!c&&t.start>=l&&t.start<=s&&(c=!0),c&&t.end>=l&&t.end<=s&&(u=!0),l=s;d||(o=r.pop())}return h},selectionContainsContent:function(e){var t=e.getSelection();if(!t||t.isCollapsed||!t.rangeCount)return!1;if(""!==t.toString().trim())return!0;var i=this.getSelectedParentElement(t.getRangeAt(0));return!(!i||!("img"===i.nodeName.toLowerCase()||1===i.nodeType&&i.querySelector("img")))},selectionInContentEditableFalse:function(e){var t,i=this.findMatchingSelectionParent(function(e){var i=e&&e.getAttribute("contenteditable");return"true"===i&&(t=!0),"#text"!==e.nodeName&&"false"===i},e);return!t&&i},getSelectionHtml:function(e){var t,i,n,a="",s=e.getSelection();if(s.rangeCount){for(n=e.createElement("div"),t=0,i=s.rangeCount;i>t;t+=1)n.appendChild(s.getRangeAt(t).cloneContents());a=n.innerHTML}return a},getCaretOffsets:function(e,t){var i,n;return t||(t=window.getSelection().getRangeAt(0)),i=t.cloneRange(),n=t.cloneRange(),i.selectNodeContents(e),i.setEnd(t.endContainer,t.endOffset),n.selectNodeContents(e),n.setStart(t.endContainer,t.endOffset),{left:i.toString().length,right:n.toString().length}},rangeSelectsSingleNode:function(e){var t=e.startContainer;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&3!==e.startContainer.childNodes[e.startOffset].nodeType?e.startContainer.childNodes[e.startOffset]:3===e.startContainer.nodeType?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var t,i,n,a=e.getSelection();if(!a.rangeCount||a.isCollapsed||!a.getRangeAt(0).commonAncestorContainer)return[];if(t=a.getRangeAt(0),3===t.commonAncestorContainer.nodeType){for(i=[],n=t.commonAncestorContainer;n.parentNode&&1===n.parentNode.childNodes.length;)i.push(n.parentNode),n=n.parentNode;return i}return[].filter.call(t.commonAncestorContainer.getElementsByTagName("*"),function(e){return"function"==typeof a.containsNode?a.containsNode(e,!0):!0})},selectNode:function(e,t){var i=t.createRange(),n=t.getSelection();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i)},select:function(e,t,i,n,a){e.getSelection().removeAllRanges();var s=e.createRange();return s.setStart(t,i),n?s.setEnd(n,a):s.collapse(!0),e.getSelection().addRange(s),s},clearSelection:function(e,t){t?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,t,i){this.select(e,t,i)},getSelectionRange:function(e){var t=e.getSelection();return 0===t.rangeCount?null:t.getRangeAt(0)},getSelectionStart:function(e){var t=e.getSelection().anchorNode,i=t&&3===t.nodeType?t.parentNode:t;return i}};e.selection=i}(),function(){var t=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};t.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(t,i,n,a){t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){e.addEventListener(i,n,a),this.events.push([e,i,n,a])}.bind(this))},detachDOMEvent:function(t,i,n,a){var s,o;t=e.util.isElement(t)||[window,document].indexOf(t)>-1?[t]:t,Array.prototype.forEach.call(t,function(e){s=this.indexOfListener(e,i,n,a),-1!==s&&(o=this.events.splice(s,1)[0],o[0].removeEventListener(o[1],o[2],o[3]))}.bind(this))},indexOfListener:function(e,t,i,n){var a,s,o;for(a=0,s=this.events.length;s>a;a+=1)if(o=this.events[a],o[0]===e&&o[1]===t&&o[2]===i&&o[3]===n)return a;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},enableCustomEvent:function(e){void 0!==this.disabledEvents[e]&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,t){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(t)},detachCustomEvent:function(e,t){var i=this.indexOfCustomListener(e,t);-1!==i&&this.customEvents[e].splice(i,1)},indexOfCustomListener:function(e,t){return this.customEvents[e]&&this.customEvents[e].length?this.customEvents[e].indexOf(t):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,t,i){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(e){e(t,i)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(e){this.handleDocumentExecCommand(e)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(this.execCommandListener&&e.execCommand.listeners){var t=e.execCommand.listeners.indexOf(this.execCommandListener);-1!==t&&e.execCommand.listeners.splice(t,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){
var t=function(t,i){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(e){e({command:t[0],value:t[2],args:t,result:i})})},i=function(){var i=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return i;var n=Array.prototype.slice.call(arguments);return t(n,i),i};i.orig=e.execCommand,i.listeners=[],i.callListeners=t,e.execCommand=i}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache=[],this.base.elements.forEach(function(e){this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML,this.InputEventOnContenteditableSupported&&this.attachDOMEvent(e,"input",this.handleInput.bind(this))}.bind(this)),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[e]=!0}},attachToEachElement:function(e,t){this.base.elements.forEach(function(i){this.attachDOMEvent(i,e,t.bind(this))},this)},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(t,i){var n,a=this.base.getExtensionByName("toolbar"),s=a?a.getToolbarElement():null,o=this.base.getExtensionByName("anchor-preview"),r=o&&o.getPreviewElement?o.getPreviewElement():null,l=this.base.getFocusedElement();l&&"click"===i.type&&this.lastMousedownTarget&&(e.util.isDescendant(l,this.lastMousedownTarget,!0)||e.util.isDescendant(s,this.lastMousedownTarget,!0)||e.util.isDescendant(r,this.lastMousedownTarget,!0))&&(n=l),n||this.base.elements.some(function(i){return!n&&e.util.isDescendant(i,t,!0)&&(n=i),!!n},this);var c=!e.util.isDescendant(l,t,!0)&&!e.util.isDescendant(s,t,!0)&&!e.util.isDescendant(r,t,!0);n!==l&&(l&&c&&(l.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,l)),n&&(n.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,n))),c&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(e,t){if(this.contentCache){var i=e.getAttribute("medium-editor-index"),n=e.innerHTML;n!==this.contentCache[i]&&this.triggerCustomEvent("editableInput",t,e),this.contentCache[i]=n}},handleDocumentSelectionChange:function(t){if(t.currentTarget&&t.currentTarget.activeElement){var i,n=t.currentTarget.activeElement;this.base.elements.some(function(t){return e.util.isDescendant(t,n,!0)?(i=t,!0):!1},this),i&&this.updateInput(i,{target:n,currentTarget:i})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var t={target:e.target,currentTarget:e.currentTarget};setTimeout(function(){this.updateInput(t.currentTarget,t)}.bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(t){return this.triggerCustomEvent("editableKeydown",t,t.currentTarget),e.util.isKey(t,e.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.ENTER)||t.ctrlKey&&e.util.isKey(t,e.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",t,t.currentTarget):e.util.isKey(t,e.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",t,t.currentTarget):e.util.isKey(t,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",t,t.currentTarget):void 0}},e.Events=t}(),function(){var t=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(i){t.isBuiltInButton(i)?e.Extension.call(this,this.defaults[i]):e.Extension.call(this,i)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var e=this.document.createElement("button"),t=this.contentDefault,i=this.getAria(),n=this.getEditorOption("buttonLabels");return e.classList.add("medium-editor-action"),e.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(t){e.classList.add(t)}),e.setAttribute("data-action",this.getAction()),i&&(e.setAttribute("title",i),e.setAttribute("aria-label",i)),this.attrs&&Object.keys(this.attrs).forEach(function(t){e.setAttribute(t,this.attrs[t])},this),"fontawesome"===n&&this.contentFA&&(t=this.contentFA),e.innerHTML=t,e},handleClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.getAction();t&&this.execAction(t)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var e=null;return this.useQueryState&&(e=this.base.queryCommandState(this.getAction())),e},isAlreadyApplied:function(e){var t,i,n=!1,a=this.getTagNames();return this.knownState===!1||this.knownState===!0?this.knownState:(a&&a.length>0&&(n=-1!==a.indexOf(e.nodeName.toLowerCase())),!n&&this.style&&(t=this.style.value.split("|"),i=this.window.getComputedStyle(e,null).getPropertyValue(this.style.prop),t.forEach(function(e){this.knownState||(n=-1!==i.indexOf(e),(n||"text-decoration"!==this.style.prop)&&(this.knownState=n))},this)),n)}});t.isBuiltInButton=function(t){return"string"==typeof t&&e.extensions.button.prototype.defaults.hasOwnProperty(t)},e.extensions.button=t}(),function(){e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var t=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var e=this.base.getExtensionByName("toolbar");e&&e.hideToolbarDefaultActions()},setToolbarPosition:function(){var e=this.base.getExtensionByName("toolbar");e&&e.setToolbarPosition()}});e.extensions.form=t}(),function(){var t=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(t){t.preventDefault(),t.stopPropagation();var i=e.selection.getSelectionRange(this.document);return"a"===i.startContainer.nodeName.toLowerCase()||"a"===i.endContainer.nodeName.toLowerCase()||e.util.getClosestTag(e.selection.getSelectedParentElement(i),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(t){e.util.isKey(t,e.util.keyCode.K)&&e.util.isMetaCtrlKey(t)&&!t.shiftKey&&this.handleClick(t)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var e=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return e.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),e.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&e.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),e.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(t){var i=this.getInput(),n=this.getAnchorTargetCheckbox(),a=this.getAnchorButtonCheckbox();if(t=t||{url:""},"string"==typeof t&&(t={url:t}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),i.value=t.url,i.focus(),n&&(n.checked="_blank"===t.target),a){var s=t.buttonClass?t.buttonClass.split(" "):[];a.checked=-1!==s.indexOf(this.customClassOption)}},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},getFormOpts:function(){var e=this.getAnchorTargetCheckbox(),t=this.getAnchorButtonCheckbox(),i={url:this.getInput().value.trim()};return this.linkValidation&&(i.url=this.checkLinkFormat(i.url)),i.target="_self",e&&e.checked&&(i.target="_blank"),t&&t.checked&&(i.buttonClass=this.customClassOption),i},doFormSave:function(){var e=this.getFormOpts();this.completeFormSave(e)},completeFormSave:function(e){this.base.restoreSelection(),this.execAction(this.action,e),this.base.checkSelection()},checkLinkFormat:function(e){var t=/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i,i=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/;return i.test(e)?"tel:"+e:(t.test(e)?"":"http://")+encodeURI(e)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(e){var t=e.querySelector(".medium-editor-toolbar-close"),i=e.querySelector(".medium-editor-toolbar-save"),n=e.querySelector(".medium-editor-toolbar-input");this.on(e,"click",this.handleFormClick.bind(this)),this.on(n,"keyup",this.handleTextboxKeyup.bind(this)),this.on(t,"click",this.handleCloseClick.bind(this)),this.on(i,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var e=this.document,t=e.createElement("div");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),t.innerHTML=this.getTemplate(),this.attachFormEvents(t),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(t){return t.keyCode===e.util.keyCode.ENTER?(t.preventDefault(),void this.doFormSave()):void(t.keyCode===e.util.keyCode.ESCAPE&&(t.preventDefault(),this.doFormCancel()))},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.anchor=t}(),function(){var t=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var e=this.document.createElement("div");return e.id="medium-editor-anchor-preview-"+this.getEditorId(),e.className="medium-editor-anchor-preview",e.innerHTML=this.getTemplate(),this.on(e,"click",this.handleClick.bind(this)),e},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(e){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||e.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=e.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=e.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=e,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(e){e=e||this.activeAnchor;var t,i,n=this.anchorPreview.offsetHeight,a=e.getBoundingClientRect(),s=(a.left+a.right)/2,o=this.diffLeft,r=this.diffTop;t=this.anchorPreview.offsetWidth/2;var l=this.base.getExtensionByName("toolbar");l&&(o=l.diffLeft,r=l.diffTop),i=o-t,this.anchorPreview.style.top=Math.round(n+a.bottom-r+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",this.anchorPreview.style.right="initial",t>s?(this.anchorPreview.style.left=i+t+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-s<t?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=i+s+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(e){var t=this.base.getExtensionByName("anchor"),i=this.activeAnchor;t&&i&&(e.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(i){var e={url:i.attributes.href.value,target:i.getAttribute("target"),buttonClass:i.getAttribute("class")};t.showForm(e),i=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(t){var i=e.util.getClosestTag(t.target,"a");if(!1!==i){if(!/href=["']\S+["']/.test(i.outerHTML)||/href=["']#\S+["']/.test(i.outerHTML))return!0;var n=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&n&&n.isDisplayed&&n.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==i&&this.detachPreviewHandlers(),this.anchorToPreview=i,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(e){e.relatedTarget&&/anchor-preview/.test(e.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var e=(new Date).getTime()-this.lastOver;e>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});e.extensions.anchorPreview=t}(),function(){function t(t){return!e.util.getClosestTag(t,"a")}var i,n,a,s;i=[" ","	","\n","\r","\xa0","\u2000","\u2001","\u2002","\u2003","\u2028","\u2029"],n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",a="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+n+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?\xab\xbb\u201c\u201d\u2018\u2019])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+n+"))",s=new RegExp("^("+n+")$","i");var o=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var e=0,t=0;t<this.window._mediumEditors.length;t++){var i=this.window._mediumEditors[t];null!==i&&void 0!==i.getExtensionByName("autoLink")&&e++}return 1===e},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(e,t){this.performLinking(t)},onKeypress:function(t){this.disableEventHandling||e.util.isKey(t,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var e=this.base.exportSelection();this.performLinking(t.target)&&this.base.importSelection(e,!0)}catch(i){window.console&&window.console.error("Failed to perform linking",i),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(t){var i=e.util.splitByBlockElements(t),n=!1;0===i.length&&(i=[t]);for(var a=0;a<i.length;a++)n=this.removeObsoleteAutoLinkSpans(i[a])||n,n=this.performLinkingWithinElement(i[a])||n;return this.base.events.updateInput(t,{target:t,currentTarget:t}),n},removeObsoleteAutoLinkSpans:function(i){if(!i||3===i.nodeType)return!1;for(var n=i.querySelectorAll('span[data-auto-link="true"]'),a=!1,s=0;s<n.length;s++){var o=n[s].textContent;if(-1===o.indexOf("://")&&(o=e.util.ensureUrlHasProtocol(o)),n[s].getAttribute("data-href")!==o&&t(n[s])){a=!0;var r=o.replace(/\s+$/,"");if(n[s].getAttribute("data-href")===r){var l=o.length-r.length,c=e.util.splitOffDOMTree(n[s],this.splitTextBeforeEnd(n[s],l));n[s].parentNode.insertBefore(c,n[s].nextSibling)}else e.util.unwrap(n[s],this.document)}}return a},splitTextBeforeEnd:function(e,t){for(var i=this.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),n=!0;n;)n=null!==i.lastChild();for(var a,s,o;t>0&&null!==o;)a=i.currentNode,s=a.nodeValue,s.length>t?(o=a.splitText(s.length-t),t=0):(o=i.previousNode(),t-=s.length);return o},performLinkingWithinElement:function(t){for(var i=this.findLinkableText(t),n=!1,a=0;a<i.length;a++){var s=e.util.findOrCreateMatchingTextNodes(this.document,t,i[a]);this.shouldNotLink(s)||this.createAutoLink(s,i[a].href)}return n},shouldNotLink:function(t){for(var i=!1,n=0;n<t.length&&i===!1;n++)i=!!e.util.traverseUp(t[n],function(e){return"a"===e.nodeName.toLowerCase()||e.getAttribute&&"true"===e.getAttribute("data-auto-link")});return i},findLinkableText:function(e){for(var t=new RegExp(a,"gi"),n=e.textContent,o=null,r=[];null!==(o=t.exec(n));){var l=!0,c=o.index+o[0].length;l=!(0!==o.index&&-1===i.indexOf(n[o.index-1])||c!==n.length&&-1===i.indexOf(n[c])),l=l&&(-1!==o[0].indexOf("/")||s.test(o[0].split(".").pop().split("?").shift())),l&&r.push({href:o[0],start:o.index,end:c})}return r},createAutoLink:function(t,i){i=e.util.ensureUrlHasProtocol(i);var n=e.util.createLink(this.document,t,i,this.getEditorOption("targetBlank")?"_blank":null),a=this.document.createElement("span");for(a.setAttribute("data-auto-link","true"),a.setAttribute("data-href",i),n.insertBefore(a,n.firstChild);n.childNodes.length>1;)a.appendChild(n.childNodes[1])}});e.extensions.autoLink=o}(),function(){function t(t){var n=e.util.getContainerEditorElement(t),a=Array.prototype.slice.call(n.parentElement.querySelectorAll("."+i));a.forEach(function(e){e.classList.remove(i)})}var i="medium-editor-dragover",n=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy";var n=e.target.classList?e.target:e.target.parentElement;t(n),"dragover"===e.type&&n.classList.add(i)},handleDrop:function(e){e.preventDefault(),e.stopPropagation(),this.base.selectElement(e.target);var i=this.base.exportSelection();i.start=i.end,this.base.importSelection(i),e.dataTransfer.files&&Array.prototype.slice.call(e.dataTransfer.files).forEach(function(e){this.isAllowedFile(e)&&e.type.match("image")&&this.insertImageFile(e)},this),t(e.target)},isAllowedFile:function(e){return this.allowedTypes.some(function(t){return!!e.type.match(t)})},insertImageFile:function(t){if("function"==typeof FileReader){var i=new FileReader;i.readAsDataURL(t),i.addEventListener("load",function(t){var i=this.document.createElement("img");i.src=t.target.result,e.util.insertHTMLCommand(this.document,i.outerHTML)}.bind(this))}}});e.extensions.fileDragging=n}(),function(){var t=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(e){var t=e.key.charCodeAt(0);this.keys[t]||(this.keys[t]=[]),this.keys[t].push(e)},this)},handleKeydown:function(t){var i=e.util.getKeyCode(t);if(this.keys[i]){var n=e.util.isMetaCtrlKey(t),a=!!t.shiftKey,s=!!t.altKey;this.keys[i].forEach(function(e){e.meta!==n||e.shift!==a||e.alt!==s&&void 0!==e.alt||(t.preventDefault(),t.stopPropagation(),"function"==typeof e.command?e.command.apply(this):!1!==e.command&&this.execAction(e.command))},this)}}});e.extensions.keyboardCommands=t}(),function(){var t=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontName")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(e){var t=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var e,t=this.document,i=t.createElement("div"),n=t.createElement("select"),a=t.createElement("a"),s=t.createElement("a");i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(i,"click",this.handleFormClick.bind(this));for(var o=0;o<this.fonts.length;o++)e=t.createElement("option"),e.innerHTML=this.fonts[o],e.value=this.fonts[o],n.appendChild(e);return n.className="medium-editor-toolbar-select",i.appendChild(n),this.on(n,"change",this.handleFontChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",i.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",
i.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),i},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("face")&&e.removeAttribute("face")})},handleFontChange:function(){var e=this.getSelect().value;""===e?this.clearFontName():this.execAction("fontName",{name:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.fontName=t}(),function(){var t=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.isDisplayed()){var t=this.document.queryCommandValue("fontSize")+"";this.showForm(t)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(e){var t=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),t.value=e||"",t.focus()},destroy:function(){return this.form?(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form):!1},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var e=this.document,t=e.createElement("div"),i=e.createElement("input"),n=e.createElement("a"),a=e.createElement("a");return t.className="medium-editor-toolbar-form",t.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(t,"click",this.handleFormClick.bind(this)),i.setAttribute("type","range"),i.setAttribute("min","1"),i.setAttribute("max","7"),i.className="medium-editor-toolbar-input",t.appendChild(i),this.on(i,"change",this.handleSliderChange.bind(this)),a.setAttribute("href","#"),a.className="medium-editor-toobar-save",a.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",t.appendChild(a),this.on(a,"click",this.handleSaveClick.bind(this),!0),n.setAttribute("href","#"),n.className="medium-editor-toobar-close",n.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",t.appendChild(n),this.on(n,"click",this.handleCloseClick.bind(this)),t},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(e){"font"===e.nodeName.toLowerCase()&&e.hasAttribute("size")&&e.removeAttribute("size")})},handleSliderChange:function(){var e=this.getInput().value;"4"===e?this.clearFontSize():this.execAction("fontSize",{size:e})},handleFormClick:function(e){e.stopPropagation()},handleSaveClick:function(e){e.preventDefault(),this.doFormSave()},handleCloseClick:function(e){e.preventDefault(),this.doFormCancel()}});e.extensions.fontSize=t}(),function(){function t(){return[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|\u201c|\u201d)(((?!&quot;|&rdquo;|&ldquo;|"|\u201c|\u201d).)*)(?:&quot;|&rdquo;|&ldquo;|"|\u201c|\u201d)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],["<!--EndFragment-->",""],["<!--StartFragment-->",""]]}var i=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&this.subscribe("editablePaste",this.handlePaste.bind(this))},handlePaste:function(t,i){var n,a,s,o,r="",l="text/html",c="text/plain";if(this.window.clipboardData&&void 0===t.clipboardData&&(t.clipboardData=this.window.clipboardData,l="Text",c="Text"),t.clipboardData&&t.clipboardData.getData&&!t.defaultPrevented){if(t.preventDefault(),s=t.clipboardData.getData(l),o=t.clipboardData.getData(c),this.cleanPastedHTML&&s)return this.cleanPaste(s);if(this.getEditorOption("disableReturn")||i.getAttribute("data-disable-return"))r=e.util.htmlEntities(o);else if(n=o.split(/[\r\n]+/g),n.length>1)for(a=0;a<n.length;a+=1)""!==n[a]&&(r+="<p>"+e.util.htmlEntities(n[a])+"</p>");else r=e.util.htmlEntities(n[0]);e.util.insertHTMLCommand(this.document,r)}},cleanPaste:function(e){var i,n,a,s,o=/<p|<br|<div/.test(e),r=[].concat(this.preCleanReplacements||[],t(),this.cleanReplacements||[]);for(i=0;i<r.length;i+=1)e=e.replace(r[i][0],r[i][1]);if(!o)return this.pasteHTML(e);for(a=this.document.createElement("div"),a.innerHTML="<p>"+e.split("<br><br>").join("</p><p>")+"</p>",n=a.querySelectorAll("a,p,div,br"),i=0;i<n.length;i+=1)switch(s=n[i],s.innerHTML=s.innerHTML.replace(/\n/gi," "),s.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(s);break;case"br":this.filterLineBreak(s)}this.pasteHTML(a.innerHTML)},pasteHTML:function(t,i){i=e.util.defaults({},i,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var n,a,s,o,r=this.document.createDocumentFragment();for(r.appendChild(this.document.createElement("body")),o=r.querySelector("body"),o.innerHTML=t,this.cleanupSpans(o),n=o.querySelectorAll("*"),s=0;s<n.length;s+=1)a=n[s],"a"===a.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(a),e.util.cleanupAttrs(a,i.cleanAttrs),e.util.cleanupTags(a,i.cleanTags);e.util.insertHTMLCommand(this.document,o.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(e){return e&&("p"===e.nodeName.toLowerCase()||"div"===e.nodeName.toLowerCase())},filterCommonBlocks:function(e){/^\s*$/.test(e.textContent)&&e.parentNode&&e.parentNode.removeChild(e)},filterLineBreak:function(e){this.isCommonBlock(e.previousElementSibling)?this.removeWithParent(e):!this.isCommonBlock(e.parentNode)||e.parentNode.firstChild!==e&&e.parentNode.lastChild!==e?e.parentNode&&1===e.parentNode.childElementCount&&""===e.parentNode.textContent&&this.removeWithParent(e):this.removeWithParent(e)},removeWithParent:function(e){e&&e.parentNode&&(e.parentNode.parentNode&&1===e.parentNode.childElementCount?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e))},cleanupSpans:function(t){var i,n,a,s=t.querySelectorAll(".replace-with"),o=function(e){return e&&"#text"!==e.nodeName&&"false"===e.getAttribute("contenteditable")};for(i=0;i<s.length;i+=1)n=s[i],a=this.document.createElement(n.classList.contains("bold")?"b":"i"),n.classList.contains("bold")&&n.classList.contains("italic")?a.innerHTML="<i>"+n.innerHTML+"</i>":a.innerHTML=n.innerHTML,n.parentNode.replaceChild(a,n);for(s=t.querySelectorAll("span"),i=0;i<s.length;i+=1){if(n=s[i],e.util.traverseUp(n,o))return!1;e.util.unwrap(n,this.document)}}});e.extensions.paste=i}(),function(){var t=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(e){e.getAttribute("data-placeholder")||e.setAttribute("data-placeholder",this.text),this.updatePlaceholder(e)},this)},destroy:function(){this.getEditorElements().forEach(function(e){e.getAttribute("data-placeholder")===this.text&&e.removeAttribute("data-placeholder")},this)},showPlaceholder:function(e){e&&e.classList.add("medium-editor-placeholder")},hidePlaceholder:function(e){e&&e.classList.remove("medium-editor-placeholder")},updatePlaceholder:function(e,t){return e.querySelector("img, blockquote, ul, ol")||""!==e.textContent.replace(/^\s+|\s+$/g,"")?this.hidePlaceholder(e):void(t||this.showPlaceholder(e))},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(e,t){var i=this.hideOnClick&&t===this.base.getFocusedElement();this.updatePlaceholder(t,i)},handleFocus:function(e,t){this.hidePlaceholder(t)},handleBlur:function(e,t){this.updatePlaceholder(t)}});e.extensions.placeholder=t}(),function(){var t=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,"static":!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(e,t){return this.base.extensions.forEach(function(i){return i!==this?e.apply(t||this,arguments):void 0},this)},createToolbar:function(){var e=this.document.createElement("div");return e.id="medium-editor-toolbar-"+this.getEditorId(),e.className="medium-editor-toolbar",this["static"]?e.className+=" static-toolbar":this.relativeContainer?e.className+=" medium-editor-relative-toolbar":e.className+=" medium-editor-stalker-toolbar",e.appendChild(this.createToolbarButtons()),this.forEachExtension(function(t){t.hasForm&&e.appendChild(t.getForm())}),this.attachEventHandlers(),e},createToolbarButtons:function(){var t,i,n,a,s,o,r=this.document.createElement("ul");return r.id="medium-editor-toolbar-actions"+this.getEditorId(),r.className="medium-editor-toolbar-actions",r.style.display="block",this.buttons.forEach(function(n){"string"==typeof n?(s=n,o=null):(s=n.name,o=n),a=this.base.addBuiltInExtension(s,o),a&&"function"==typeof a.getButton&&(i=a.getButton(this.base),t=this.document.createElement("li"),e.util.isElement(i)?t.appendChild(i):t.innerHTML=i,r.appendChild(t))},this),n=r.querySelectorAll("button"),n.length>0&&(n[0].classList.add(this.firstButtonClass),n[n.length-1].classList.add(this.lastButtonClass)),r},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this["static"]&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(t){return t&&t.target&&e.util.isDescendant(this.getToolbarElement(),t.target)?!1:void this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(e){e.hasForm&&e.isDisplayed()&&e.hideForm()})},multipleBlockElementsSelected:function(){var t=/<[^\/>][^>]*><\/[^>]+>/gim,i=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=e.selection.getSelectionHtml(this.document).replace(t,""),a=n.match(i);return!!a&&a.length>1},modifySelection:function(){var t=this.window.getSelection(),i=t.getRangeAt(0);if(this.standardizeSelectionStart&&i.startContainer.nodeValue&&i.startOffset===i.startContainer.nodeValue.length){var n=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),i.startContainer,this.document);if(n){for(var a=0;0===n.nodeValue.substr(a,1).trim().length;)a+=1;i=e.selection.select(this.document,n,a,i.endContainer,i.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var t=e.selection.getSelectionElement(this.window);return!t||-1===this.getEditorElements().indexOf(t)||t.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this["static"]?this.showAndUpdateToolbar():!e.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(e){"function"==typeof e.isActive&&"function"==typeof e.setInactive&&e.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var t,i=[],n=null,a=e.selection.getSelectionRange(this.document),s=function(e){"function"==typeof e.checkState?e.checkState(t):"function"==typeof e.isActive&&"function"==typeof e.isAlreadyApplied&&"function"==typeof e.setActive&&!e.isActive()&&e.isAlreadyApplied(t)&&e.setActive()};if(a&&(this.forEachExtension(function(e){return"function"==typeof e.queryCommandState&&(n=e.queryCommandState(),null!==n)?void(n&&"function"==typeof e.setActive&&e.setActive()):void i.push(e)}),t=e.selection.getSelectedParentElement(a),this.getEditorElements().some(function(i){return e.util.isDescendant(i,t,!0)})))for(;t&&(i.forEach(s),!e.util.isMediumEditorElement(t));)t=t.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var e=this.base.getFocusedElement(),t=this.window.getSelection();return e?void(!this["static"]&&t.isCollapsed||(this.showToolbar(),this.relativeContainer||(this["static"]?this.positionStaticToolbar(e):this.positionToolbar(t)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))):this},positionStaticToolbar:function(e){this.getToolbarElement().style.left="0";var t,i=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,n=this.window.innerWidth,a=this.getToolbarElement(),s=e.getBoundingClientRect(),o=s.top+i,r=s.left+s.width/2,l=a.offsetHeight,c=a.offsetWidth,u=c/2;switch(this.sticky?i>o+e.offsetHeight-l-this.stickyTopOffset?(a.style.top=o+e.offsetHeight-l+"px",a.classList.remove("medium-editor-sticky-toolbar")):i>o-l-this.stickyTopOffset?(a.classList.add("medium-editor-sticky-toolbar"),a.style.top=this.stickyTopOffset+"px"):(a.classList.remove("medium-editor-sticky-toolbar"),a.style.top=o-l+"px"):a.style.top=o-l+"px",this.align){case"left":t=s.left;break;case"right":t=s.right-c;break;case"center":t=r-u}0>t?t=0:t+c>n&&(t=n-Math.ceil(c)-1),a.style.left=t+"px"},positionToolbar:function(e){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var t=e.getRangeAt(0),i=t.getBoundingClientRect();(!i||0===i.height&&0===i.width&&t.startContainer===t.endContainer)&&(i=1===t.startContainer.nodeType&&t.startContainer.querySelector("img")?t.startContainer.querySelector("img").getBoundingClientRect():t.startContainer.getBoundingClientRect());var n=this.window.innerWidth,a=(i.left+i.right)/2,s=this.getToolbarElement(),o=s.offsetHeight,r=s.offsetWidth,l=r/2,c=50,u=this.diffLeft-l;i.top<c?(s.classList.add("medium-toolbar-arrow-over"),s.classList.remove("medium-toolbar-arrow-under"),s.style.top=c+i.bottom-this.diffTop+this.window.pageYOffset-o+"px"):(s.classList.add("medium-toolbar-arrow-under"),s.classList.remove("medium-toolbar-arrow-over"),s.style.top=i.top+this.diffTop+this.window.pageYOffset-o+"px"),l>a?(s.style.left=u+l+"px",s.style.right="initial"):l>n-a?(s.style.left="auto",s.style.right=0):(s.style.left=u+a+"px",s.style.right="initial")}});e.extensions.toolbar=t}(),function(){var t=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(e){var t="medium-editor-dragover";e.preventDefault(),e.dataTransfer.dropEffect="copy","dragover"===e.type?e.target.classList.add(t):"dragleave"===e.type&&e.target.classList.remove(t)},handleDrop:function(t){var i,n="medium-editor-dragover";t.preventDefault(),t.stopPropagation(),t.dataTransfer.files&&(i=Array.prototype.slice.call(t.dataTransfer.files,0),i.some(function(t){if(t.type.match("image")){var i,n;i=new FileReader,i.readAsDataURL(t),n="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+n+'" />'),i.onload=function(){var e=this.document.getElementById(n);e&&(e.removeAttribute("id"),e.removeAttribute("class"),e.src=i.result)}.bind(this)}}.bind(this))),t.target.classList.remove(n)}});e.extensions.imageDragging=t}(),function(){function t(t){var i=e.selection.getSelectionStart(this.options.ownerDocument),n=i.textContent,a=e.selection.getCaretOffsets(i);(void 0===n[a.left-1]||""===n[a.left-1].trim()||void 0!==n[a.left]&&""===n[a.left].trim())&&t.preventDefault()}function i(t,i){if(this.options.disableReturn||i.getAttribute("data-disable-return"))t.preventDefault();else if(this.options.disableDoubleReturn||i.getAttribute("data-disable-double-return")){var n=e.selection.getSelectionStart(this.options.ownerDocument);(n&&""===n.textContent.trim()&&"li"!==n.nodeName.toLowerCase()||n.previousElementSibling&&"br"!==n.previousElementSibling.nodeName.toLowerCase()&&""===n.previousElementSibling.textContent.trim())&&t.preventDefault()}}function n(t){var i=e.selection.getSelectionStart(this.options.ownerDocument),n=i&&i.nodeName.toLowerCase();"pre"===n&&(t.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(i)&&(t.preventDefault(),t.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function a(t){var i,n=e.selection.getSelectionStart(this.options.ownerDocument),a=n.nodeName.toLowerCase(),s=/^(\s+|<br\/?>)?$/i,o=/h\d/i;e.util.isKey(t,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&n.previousElementSibling&&o.test(a)&&0===e.selection.getCaretOffsets(n).left?e.util.isKey(t,e.util.keyCode.BACKSPACE)&&s.test(n.previousElementSibling.innerHTML)?(n.previousElementSibling.parentNode.removeChild(n.previousElementSibling),t.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(t,e.util.keyCode.ENTER)&&(i=this.options.ownerDocument.createElement("p"),i.innerHTML="<br>",n.previousElementSibling.parentNode.insertBefore(i,n),t.preventDefault()):e.util.isKey(t,e.util.keyCode.DELETE)&&n.nextElementSibling&&n.previousElementSibling&&!o.test(a)&&s.test(n.innerHTML)&&o.test(n.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,n.nextElementSibling),n.previousElementSibling.parentNode.removeChild(n),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&"li"===a&&s.test(n.innerHTML)&&!n.previousElementSibling&&!n.parentElement.previousElementSibling&&n.nextElementSibling&&"li"===n.nextElementSibling.nodeName.toLowerCase()?(i=this.options.ownerDocument.createElement("p"),i.innerHTML="<br>",n.parentElement.parentElement.insertBefore(i,n.parentElement),e.selection.moveCursor(this.options.ownerDocument,i),n.parentElement.removeChild(n),t.preventDefault()):e.util.isKey(t,e.util.keyCode.BACKSPACE)&&e.util.getClosestTag(n,"blockquote")!==!1&&0===e.selection.getCaretOffsets(n).left&&(t.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p"))}function s(t){var i,n=e.selection.getSelectionStart(this.options.ownerDocument);n&&(e.util.isMediumEditorElement(n)&&0===n.children.length&&!e.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!e.util.isKey(t,e.util.keyCode.ENTER)||e.util.isListItem(n)||e.util.isBlockContainer(n)||(i=n.nodeName.toLowerCase(),"a"===i?this.options.ownerDocument.execCommand("unlink",!1,null):t.shiftKey||t.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function o(e){e._mediumEditors||(e._mediumEditors=[null]),this.id||(this.id=e._mediumEditors.length),e._mediumEditors[this.id]=this}function r(e){e._mediumEditors&&e._mediumEditors[this.id]&&(e._mediumEditors[this.id]=null)}function l(t){t||(t=[]),"string"==typeof t&&(t=this.options.ownerDocument.querySelectorAll(t)),e.util.isElement(t)&&(t=[t]);var i=Array.prototype.slice.apply(t);this.elements=[],i.forEach(function(e,t){"textarea"===e.nodeName.toLowerCase()?this.elements.push(y.call(this,e,t)):this.elements.push(e)},this)}function c(e,t){return Object.keys(t).forEach(function(i){void 0===e[i]&&(e[i]=t[i])}),e}function u(e,t,i){var n={window:i.options.contentWindow,document:i.options.ownerDocument,base:i};return e=c(e,n),"function"==typeof e.init&&e.init(),e.name||(e.name=t),e}function d(){return this.elements.every(function(e){return!!e.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function h(){return d.call(this)?this.options.anchorPreview!==!1:!1}function p(){return this.options.placeholder!==!1}function f(){return this.options.autoLink!==!1}function m(){return this.options.imageDragging!==!1}function g(){return this.options.keyboardCommands!==!1}function v(){return!this.options.extensions.imageDragging}function y(e,t){for(var i=this.options.ownerDocument.createElement("div"),n=Date.now(),a="medium-editor-"+n+"-"+t,s=e.attributes;this.options.ownerDocument.getElementById(a);)n++,a="medium-editor-"+n+"-"+t;i.className=e.className,i.id=a,i.innerHTML=e.value,e.setAttribute("medium-editor-textarea-id",a);for(var o=0,r=s.length;r>o;o++)i.hasAttribute(s[o].nodeName)||i.setAttribute(s[o].nodeName,s[o].nodeValue);return e.classList.add("medium-editor-hidden"),e.parentNode.insertBefore(i,e),i}function b(){var e=!1;this.elements.forEach(function(t,i){this.options.disableEditing||t.getAttribute("data-disable-editing")||(t.setAttribute("contentEditable",!0),t.setAttribute("spellcheck",this.options.spellcheck)),t.setAttribute("data-medium-editor-element",!0),t.setAttribute("role","textbox"),t.setAttribute("aria-multiline",!0),t.setAttribute("medium-editor-index",i),t.hasAttribute("medium-editor-textarea-id")&&(e=!0)},this),e&&this.subscribe("editableInput",function(e,t){var i=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');i&&(i.value=this.serialize()[t.id].value)}.bind(this))}function w(){var e;if(this.subscribe("editableKeydownTab",n.bind(this)),this.subscribe("editableKeydownDelete",a.bind(this)),this.subscribe("editableKeydownEnter",a.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",t.bind(this)),this.options.disableReturn||this.options.disableDoubleReturn)this.subscribe("editableKeydownEnter",i.bind(this));else for(e=0;e<this.elements.length;e+=1)if(this.elements[e].getAttribute("data-disable-return")||this.elements[e].getAttribute("data-disable-double-return")){this.subscribe("editableKeydownEnter",i.bind(this));break}this.options.disableReturn||this.elements.forEach(function(e){e.getAttribute("data-disable-return")||this.on(e,"keyup",s.bind(this))},this)}function _(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(e){"toolbar"!==e&&this.options.extensions[e]&&this.extensions.push(u(this.options.extensions[e],e,this))},this),v.call(this)){var t=this.options.fileDragging;t||(t={},m.call(this)||(t.allowedTypes=[])),this.addBuiltInExtension("fileDragging",t)}var i={paste:!0,"anchor-preview":h.call(this),autoLink:f.call(this),keyboardCommands:g.call(this),placeholder:p.call(this)};Object.keys(i).forEach(function(e){i[e]&&this.addBuiltInExtension(e)},this);var n=this.options.extensions.toolbar;if(!n&&d.call(this)){var a=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});n=new e.extensions.toolbar(a)}n&&this.extensions.push(u(n,"toolbar",this))}function x(t,i){var n=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return i&&n.forEach(function(t){i.hasOwnProperty(t[0])&&void 0!==i[t[0]]&&e.util.deprecated(t[0],t[1],"v6.0.0")}),e.util.defaults({},i,t)}function C(t,i){var n,a=/^append-(.+)$/gi,s=/justify([A-Za-z]*)$/g;if(n=a.exec(t))return e.util.execFormatBlock(this.options.ownerDocument,n[1]);if("fontSize"===t)return this.options.ownerDocument.execCommand("fontSize",!1,i.size);if("fontName"===t)return this.options.ownerDocument.execCommand("fontName",!1,i.name);if("createLink"===t)return this.createLink(i);if("image"===t){var o=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,o)}if(s.exec(t)){var r=this.options.ownerDocument.execCommand(t,!1,null),l=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return l&&T.call(this,e.util.getTopBlockContainer(l)),r}return this.options.ownerDocument.execCommand(t,!1,null)}function T(t){if(t){var i,n=Array.prototype.slice.call(t.childNodes).filter(function(e){var t="div"===e.nodeName.toLowerCase();return t&&!i&&(i=e.style.textAlign),t});n.length&&(this.saveSelection(),n.forEach(function(t){if(t.style.textAlign===i){var n=t.lastChild;if(n){e.util.unwrap(t,this.options.ownerDocument);var a=this.options.ownerDocument.createElement("BR");n.parentNode.insertBefore(a,n.nextSibling)}}},this),t.style.textAlign=i,this.restoreSelection())}}e.prototype={init:function(e,t){return this.options=x.call(this,this.defaults,t),this.origElements=e,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(l.call(this,this.origElements),0!==this.elements.length&&(this.isActive=!0,o.call(this,this.options.contentWindow),this.events=new e.Events(this),b.call(this),_.call(this),w.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(e){"function"==typeof e.destroy&&e.destroy()},this),this.events.destroy(),this.elements.forEach(function(e){if(this.options.spellcheck&&(e.innerHTML=e.innerHTML),e.removeAttribute("contentEditable"),e.removeAttribute("spellcheck"),e.removeAttribute("data-medium-editor-element"),e.removeAttribute("role"),e.removeAttribute("aria-multiline"),e.removeAttribute("medium-editor-index"),e.hasAttribute("medium-editor-textarea-id")){var t=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');t&&t.classList.remove("medium-editor-hidden"),e.parentNode&&e.parentNode.removeChild(e)}},this),this.elements=[],r.call(this,this.options.contentWindow))},on:function(e,t,i,n){return this.events.attachDOMEvent(e,t,i,n),this},off:function(e,t,i,n){return this.events.detachDOMEvent(e,t,i,n),this},subscribe:function(e,t){return this.events.attachCustomEvent(e,t),this},unsubscribe:function(e,t){return this.events.detachCustomEvent(e,t),this},trigger:function(e,t,i){return this.events.triggerCustomEvent(e,t,i),this},delay:function(e){var t=this;return setTimeout(function(){t.isActive&&e()},this.options.delay)},serialize:function(){var e,t,i={};for(e=0;e<this.elements.length;e+=1)t=""!==this.elements[e].id?this.elements[e].id:"element-"+e,i[t]={value:this.elements[e].innerHTML.trim()};return i},getExtensionByName:function(e){var t;return this.extensions&&this.extensions.length&&this.extensions.some(function(i){return i.name===e?(t=i,!0):!1}),t},addBuiltInExtension:function(t,i){var n,a=this.getExtensionByName(t);if(a)return a;switch(t){case"anchor":n=e.util.extend({},this.options.anchor,i),a=new e.extensions.anchor(n);break;case"anchor-preview":a=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":a=new e.extensions.autoLink;break;case"fileDragging":a=new e.extensions.fileDragging(i);break;case"fontname":a=new e.extensions.fontName(this.options.fontName);break;case"fontsize":a=new e.extensions.fontSize(i);break;case"keyboardCommands":a=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":a=new e.extensions.paste(this.options.paste);break;case"placeholder":a=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(t)&&(i?(n=e.util.defaults({},i,e.extensions.button.prototype.defaults[t]),a=new e.extensions.button(n)):a=new e.extensions.button(t))}return a&&this.extensions.push(u(a,t,this)),a},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var e=this.getExtensionByName("toolbar");return e&&e.checkState(),this},queryCommandState:function(e){var t,i=/^full-(.+)$/gi,n=null;t=i.exec(e),t&&(e=t[1]);try{n=this.options.ownerDocument.queryCommandState(e)}catch(a){n=null}return n},execAction:function(t,i){var n,a,s=/^full-(.+)$/gi;return n=s.exec(t),n?(this.saveSelection(),this.selectAllContents(),a=C.call(this,n[1],i),this.restoreSelection()):a=C.call(this,t,i),"insertunorderedlist"!==t&&"insertorderedlist"!==t||e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),a},getSelectedParentElement:function(t){return void 0===t&&(t=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(t)},selectAllContents:function(){var t=e.selection.getSelectionElement(this.options.contentWindow);if(t){for(;1===t.children.length;)t=t.children[0];this.selectElement(t)}},selectElement:function(t){e.selection.selectNode(t,this.options.ownerDocument);var i=e.selection.getSelectionElement(this.options.contentWindow);i&&this.events.focusElement(i)},getFocusedElement:function(){var e;return this.elements.some(function(t){return!e&&t.getAttribute("data-medium-focused")&&(e=t),!!e},this),e},exportSelection:function(){var t=e.selection.getSelectionElement(this.options.contentWindow),i=this.elements.indexOf(t),n=null;return i>=0&&(n=e.selection.exportSelection(t,this.options.ownerDocument)),null!==n&&0!==i&&(n.editableElementIndex=i),
n},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(t,i){if(t){var n=this.elements[t.editableElementIndex||0];e.selection.importSelection(t,n,this.options.ownerDocument,i)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(t){var i=e.selection.getSelectionElement(this.options.contentWindow),n={};if(-1!==this.elements.indexOf(i)){try{if(this.events.disableCustomEvent("editableInput"),t.url&&t.url.trim().length>0){var a=this.options.contentWindow.getSelection();if(a){var s,o,r,l,c=a.getRangeAt(0),u=c.commonAncestorContainer;if(3===c.endContainer.nodeType&&3!==c.startContainer.nodeType&&0===c.startOffset&&c.startContainer.firstChild===c.endContainer&&(u=c.endContainer),o=e.util.getClosestBlockContainer(c.startContainer),r=e.util.getClosestBlockContainer(c.endContainer),3!==u.nodeType&&0!==u.textContent.length&&o===r){var d=o||i,h=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),s=this.exportSelection(),h.appendChild(d.cloneNode(!0)),i===d?e.selection.select(this.options.ownerDocument,d.firstChild,0,d.lastChild,3===d.lastChild.nodeType?d.lastChild.nodeValue.length:d.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,d,0,d,d.childNodes.length);var p=this.exportSelection();l=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,h,{start:s.start-p.start,end:s.end-p.start,editableElementIndex:s.editableElementIndex}),0===l.length&&(h=this.options.ownerDocument.createDocumentFragment(),h.appendChild(u.cloneNode(!0)),l=[h.firstChild.firstChild,h.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,l,t.url.trim());var f=(h.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,h.firstChild.innerHTML.replace(/^\s+/,"")),s.start-=f,s.end-=f,this.importSelection(s)}else this.options.ownerDocument.execCommand("createLink",!1,t.url);this.options.targetBlank||"_blank"===t.target?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),t.url):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),t.url),t.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),t.buttonClass)}}if(this.options.targetBlank||"_blank"===t.target||t.buttonClass){n=this.options.ownerDocument.createEvent("HTMLEvents"),n.initEvent("input",!0,!0,this.options.contentWindow);for(var m=0;m<this.elements.length;m+=1)this.elements[m].dispatchEvent(n)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",n,i)}},cleanPaste:function(e){this.getExtensionByName("paste").cleanPaste(e)},pasteHTML:function(e,t){this.getExtensionByName("paste").pasteHTML(e,t)},setContent:function(e,t){if(t=t||0,this.elements[t]){var i=this.elements[t];i.innerHTML=e,this.events.updateInput(i,{target:i,currentTarget:i})}}}}(),function(){e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),e.parseVersionString=function(e){var t=e.split("-"),i=t[0].split("."),n=t.length>1?t[1]:"";return{major:parseInt(i[0],10),minor:parseInt(i[1],10),revision:parseInt(i[2],10),preRelease:n,toString:function(){return[i[0],i[1],i[2]].join(".")+(n?"-"+n:"")}}},e.version=e.parseVersionString.call(this,{version:"5.16.1"}.version),e}()),function(e){"function"==typeof define&&define.amd?define(["jquery","handlebars/runtime","medium-editor","blueimp-file-upload","jquery-sortable"],e):"object"==typeof module&&module.exports?module.exports=function(t){if("undefined"==typeof window)throw new Error("medium-editor-insert-plugin runs only in a browser.");return void 0===t&&(t=require("jquery")),window.jQuery=t,Handlebars=require("handlebars/runtime"),MediumEditor=require("medium-editor"),require("jquery-sortable"),require("blueimp-file-upload"),e(t,Handlebars,MediumEditor),t}:e(jQuery,Handlebars,MediumEditor)}(function(e,t,i){this.MediumInsert=this.MediumInsert||{},this.MediumInsert.Templates=this.MediumInsert.Templates||{},this.MediumInsert.Templates["src/js/templates/core-buttons.hbs"]=t.template({1:function(e,t,i,n,a){var s,o,r=null!=t?t:{},l=i.helperMissing,c="function";return'            <li><button data-addon="'+e.escapeExpression((o=null!=(o=i.key||a&&a.key)?o:l,typeof o===c?o.call(r,{name:"key",hash:{},data:a}):o))+'" data-action="add" class="medium-insert-action" type="button">'+(null!=(o=null!=(o=i.label||(null!=t?t.label:t))?o:l,s=typeof o===c?o.call(r,{name:"label",hash:{},data:a}):o)?s:"")+"</button></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s;return'<div class="medium-insert-buttons" contenteditable="false" style="display: none">\n    <button class="medium-insert-buttons-show" type="button"><span>+</span></button>\n    <ul class="medium-insert-buttons-addons" style="display: none">\n'+(null!=(s=i.each.call(null!=t?t:{},null!=t?t.addons:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+"    </ul>\n</div>\n"},useData:!0}),this.MediumInsert.Templates["src/js/templates/core-caption.hbs"]=t.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s;return'<figcaption contenteditable="true" class="medium-insert-caption-placeholder" data-placeholder="'+e.escapeExpression((s=null!=(s=i.placeholder||(null!=t?t.placeholder:t))?s:i.helperMissing,"function"==typeof s?s.call(null!=t?t:{},{name:"placeholder",hash:{},data:a}):s))+'"></figcaption>'},useData:!0}),this.MediumInsert.Templates["src/js/templates/core-empty-line.hbs"]=t.template({compiler:[7,">= 4.0.0"],main:function(){return"<p><br></p>\n"},useData:!0}),this.MediumInsert.Templates["src/js/templates/embeds-toolbar.hbs"]=t.template({1:function(e,t,i,n,a){var s;return'    <div class="medium-insert-embeds-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active">\n        <ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(s=i.each.call(null!=t?t:{},null!=t?t.styles:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?s:"")+"        </ul>\n    </div>\n"},2:function(e,t,i,n,a){var s;return null!=(s=i["if"].call(null!=t?t:{},null!=t?t.label:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?s:""},3:function(e,t,i,n,a){var s,o,r=null!=t?t:{},l=i.helperMissing,c="function";return'                    <li>\n                        <button class="medium-editor-action" data-action="'+e.escapeExpression((o=null!=(o=i.key||a&&a.key)?o:l,typeof o===c?o.call(r,{name:"key",hash:{},data:a}):o))+'">'+(null!=(o=null!=(o=i.label||(null!=t?t.label:t))?o:l,s=typeof o===c?o.call(r,{name:"label",hash:{},data:a}):o)?s:"")+"</button>\n                    </li>\n"},5:function(e,t,i,n,a){var s;return'    <div class="medium-insert-embeds-toolbar2 medium-editor-toolbar medium-editor-toolbar-active">\n        <ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(s=i.each.call(null!=t?t:{},null!=t?t.actions:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?s:"")+"        </ul>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o=null!=t?t:{};return(null!=(s=i["if"].call(o,null!=t?t.styles:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+"\n"+(null!=(s=i["if"].call(o,null!=t?t.actions:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?s:"")},useData:!0}),this.MediumInsert.Templates["src/js/templates/embeds-wrapper.hbs"]=t.template({compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o;return'<div class="medium-insert-embeds" contenteditable="false">\n  <figure>\n      <div class="medium-insert-embed">\n           '+(null!=(o=null!=(o=i.html||(null!=t?t.html:t))?o:i.helperMissing,s="function"==typeof o?o.call(null!=t?t:{},{name:"html",hash:{},data:a}):o)?s:"")+'\n       </div>\n    </figure>\n <div class="medium-insert-embeds-overlay"></div>\n</div>'},useData:!0}),this.MediumInsert.Templates["src/js/templates/images-fileupload.hbs"]=t.template({compiler:[7,">= 4.0.0"],main:function(){return'<input type="file" multiple>'},useData:!0}),this.MediumInsert.Templates["src/js/templates/images-image.hbs"]=t.template({1:function(){return'        <div class="medium-insert-images-progress"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o,r=null!=t?t:{};return'<figure contenteditable="false">\n    <img src="'+e.escapeExpression((o=null!=(o=i.img||(null!=t?t.img:t))?o:i.helperMissing,"function"==typeof o?o.call(r,{name:"img",hash:{},data:a}):o))+'" alt="" />\n'+(null!=(s=i["if"].call(r,null!=t?t.progress:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+"</figure>\n"},useData:!0}),this.MediumInsert.Templates["src/js/templates/images-progressbar.hbs"]=t.template({compiler:[7,">= 4.0.0"],main:function(){return'<progress min="0" max="100" value="0">0</progress>'},useData:!0}),this.MediumInsert.Templates["src/js/templates/images-toolbar.hbs"]=t.template({1:function(e,t,i,n,a){var s;return null!=(s=i["if"].call(null!=t?t:{},null!=t?t.label:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?s:""},2:function(e,t,i,n,a){var s,o,r=null!=t?t:{},l=i.helperMissing,c="function";return'                <li>\n                    <button class="medium-editor-action" data-action="'+e.escapeExpression((o=null!=(o=i.key||a&&a.key)?o:l,typeof o===c?o.call(r,{name:"key",hash:{},data:a}):o))+'">'+(null!=(o=null!=(o=i.label||(null!=t?t.label:t))?o:l,s=typeof o===c?o.call(r,{name:"label",hash:{},data:a}):o)?s:"")+"</button>\n                </li>\n"},4:function(e,t,i,n,a){var s;return'  <div class="medium-insert-images-toolbar2 medium-editor-toolbar medium-editor-toolbar-active">\n      <ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(s=i.each.call(null!=t?t:{},null!=t?t.actions:t,{name:"each",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?s:"")+"     </ul>\n    </div>\n"},5:function(e,t,i,n,a){var s;return null!=(s=i["if"].call(null!=t?t:{},null!=t?t.label:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))?s:""},6:function(e,t,i,n,a){var s,o,r=null!=t?t:{},l=i.helperMissing,c="function";return'                  <li>\n                      <button class="medium-editor-action" data-action="'+e.escapeExpression((o=null!=(o=i.key||a&&a.key)?o:l,typeof o===c?o.call(r,{name:"key",hash:{},data:a}):o))+'">'+(null!=(o=null!=(o=i.label||(null!=t?t.label:t))?o:l,s=typeof o===c?o.call(r,{name:"label",hash:{},data:a}):o)?s:"")+"</button>\n                  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var s,o=null!=t?t:{};return'<div class="medium-insert-images-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active">\n    <ul class="medium-editor-toolbar-actions clearfix">\n'+(null!=(s=i.each.call(o,null!=t?t.styles:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?s:"")+"    </ul>\n</div>\n\n"+(null!=(s=i["if"].call(o,null!=t?t.actions:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?s:"")},useData:!0}),function(e,t,i,n){"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(i,a){var s;this.el=i,this.$el=e(i),this.templates=t.MediumInsert.Templates,a&&(s=a.editor,a.editor=null),this.options=e.extend(!0,{},r,a),this.options.editor=s,this._defaults=r,this._name=o,this.options&&this.options.editor&&(this.options.editor._serialize===n&&(this.options.editor._serialize=this.options.editor.serialize),this.options.editor._destroy===n&&(this.options.editor._destroy=this.options.editor.destroy),this.options.editor._setup===n&&(this.options.editor._setup=this.options.editor.setup),this.options.editor._hideInsertButtons=this.hideButtons,this.options.editor.serialize=this.editorSerialize,this.options.editor.destroy=this.editorDestroy,this.options.editor.setup=this.editorSetup,this.options.editor.getExtensionByName("placeholder")!==n&&(this.options.editor.getExtensionByName("placeholder").updatePlaceholder=this.editorUpdatePlaceholder))}var o="mediumInsert",r={editor:null,enabled:!0,addons:{images:!0,embeds:!0}};s.prototype.init=function(){this.$el.addClass("medium-editor-insert-plugin"),"object"==typeof this.options.addons&&0!==Object.keys(this.options.addons).length||this.disable(),this.initAddons(),this.clean(),this.events()},s.prototype.events=function(){var i=this;this.$el.on("dragover drop",function(e){e.preventDefault()}).on("keyup click",e.proxy(this,"toggleButtons")).on("selectstart mousedown",".medium-insert, .medium-insert-buttons",e.proxy(this,"disableSelection")).on("click",".medium-insert-buttons-show",e.proxy(this,"toggleAddons")).on("click",".medium-insert-action",e.proxy(this,"addonAction")).on("paste",".medium-insert-caption-placeholder",function(t){e.proxy(i,"removeCaptionPlaceholder")(e(t.target))}),e(t).on("resize",e.proxy(this,"positionButtons",null))},s.prototype.getEditor=function(){return this.options.editor},s.prototype.editorSerialize=function(){var t=this._serialize();return e.each(t,function(i){var n=e("<div />").html(t[i].value);n.find(".medium-insert-buttons").remove(),n.find(".medium-insert-active").removeClass("medium-insert-active"),n.find("[data-embed-code]").each(function(){var t=e(this),i=e("<div />").html(t.attr("data-embed-code")).text();t.html(i)}),t[i].value=n.html()}),t},s.prototype.editorDestroy=function(){e.each(this.elements,function(t,i){e(i).data("plugin_"+o)instanceof s&&e(i).data("plugin_"+o).disable()}),this._destroy()},s.prototype.editorSetup=function(){this._setup(),e.each(this.elements,function(t,i){e(i).data("plugin_"+o)instanceof s&&e(i).data("plugin_"+o).enable()})},s.prototype.editorUpdatePlaceholder=function(t,i){var n=e(t).children().not(".medium-insert-buttons").contents();i||1!==n.length||"br"!==n[0].nodeName.toLowerCase()?this.hidePlaceholder(t):(this.showPlaceholder(t),this.base._hideInsertButtons(e(t)))},s.prototype.triggerInput=function(){this.getEditor()&&this.getEditor().trigger("editableInput",null,this.el)},s.prototype.deselect=function(){i.getSelection().removeAllRanges()},s.prototype.disable=function(){this.options.enabled=!1,this.$el.find(".medium-insert-buttons").addClass("hide")},s.prototype.enable=function(){this.options.enabled=!0,this.$el.find(".medium-insert-buttons").removeClass("hide")},s.prototype.disableSelection=function(t){var i=e(t.target);(i.is("img")===!1||i.hasClass("medium-insert-buttons-show"))&&t.preventDefault()},s.prototype.initAddons=function(){var t=this;this.options.addons&&0!==this.options.addons.length&&e.each(this.options.addons,function(e,i){var n=o+a(e);return i===!1?void delete t.options.addons[e]:(t.$el[n](i),void(t.options.addons[e]=t.$el.data("plugin_"+n).options))})},s.prototype.clean=function(){var t,i,n,a=this;this.options.enabled!==!1&&(0===this.$el.children().length&&this.$el.html(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),n=this.$el.contents().filter(function(){return"#text"===this.nodeName&&""!==e.trim(e(this).text())||"br"===this.nodeName.toLowerCase()}),n.each(function(){e(this).wrap("<p />"),a.moveCaret(e(this).parent(),e(this).text().length)}),this.addButtons(),t=this.$el.find(".medium-insert-buttons"),i=t.prev(),i.attr("class")&&i.attr("class").match(/medium\-insert(?!\-active)/)&&t.before(this.templates["src/js/templates/core-empty-line.hbs"]().trim()))},s.prototype.getButtons=function(){return this.options.enabled!==!1?this.templates["src/js/templates/core-buttons.hbs"]({addons:this.options.addons}).trim():void 0},s.prototype.addButtons=function(){0===this.$el.find(".medium-insert-buttons").length&&this.$el.append(this.getButtons())},s.prototype.toggleButtons=function(i){var n,a,s,o,r=e(i.target),l=t.getSelection(),c=this;this.options.enabled!==!1&&(l&&0!==l.rangeCount?(n=l.getRangeAt(0),a=e(n.commonAncestorContainer)):a=r,a.hasClass("medium-editor-insert-plugin")&&(a=a.find("p:first")),s=a.is("p")?a:a.closest("p"),this.clean(),r.hasClass("medium-editor-placeholder")===!1&&0===r.closest(".medium-insert-buttons").length&&0===a.closest(".medium-insert-buttons").length&&(this.$el.find(".medium-insert-active").removeClass("medium-insert-active"),e.each(this.options.addons,function(e){return r.closest(".medium-insert-"+e).length&&(a=r),a.closest(".medium-insert-"+e).length?(s=a.closest(".medium-insert-"+e),void(o=e)):void 0}),s.length&&(""===s.text().trim()&&!o||"images"===o)?(s.addClass("medium-insert-active"),"images"===o?this.$el.find(".medium-insert-buttons").attr("data-active-addon",o):this.$el.find(".medium-insert-buttons").removeAttr("data-active-addon"),setTimeout(function(){c.positionButtons(o),c.showButtons(o)},o?100:0)):this.hideButtons()))},s.prototype.showButtons=function(e){var t=this.$el.find(".medium-insert-buttons");t.show(),t.find("li").show(),e&&(t.find("li").hide(),t.find('button[data-addon="'+e+'"]').parent().show())},s.prototype.hideButtons=function(e){e=e||this.$el,e.find(".medium-insert-buttons").hide(),e.find(".medium-insert-buttons-addons").hide(),e.find(".medium-insert-buttons-show").removeClass("medium-insert-buttons-rotate")},s.prototype.positionButtons=function(i){var n=this.$el.find(".medium-insert-buttons"),a=this.$el.find(".medium-insert-active"),s=a.hasClass("medium-insert-images-grid")?[]:a.find("figure:last figcaption"),o=this.getEditor()?this.getEditor().options.elementsContainer:e("body").get(0),r=["absolute","fixed"].indexOf(t.getComputedStyle(o).getPropertyValue("position"))>-1,l={};a.length&&(l.left=a.position().left,l.top=a.position().top,i?(l.left+=a.width()-n.find(".medium-insert-buttons-show").width()-10,l.top+=a.height()-20+(s.length?-s.height()-parseInt(s.css("margin-top"),10):10)):(l.left+=-parseInt(n.find(".medium-insert-buttons-addons").css("left"),10)-parseInt(n.find(".medium-insert-buttons-addons button:first").css("margin-left"),10),l.top+=parseInt(a.css("margin-top"),10)),r&&(l.top+=o.scrollTop),this.$el.hasClass("medium-editor-placeholder")===!1&&l.left<0&&(l.left=a.position().left),n.css(l))},s.prototype.toggleAddons=function(){return"images"===this.$el.find(".medium-insert-buttons").attr("data-active-addon")?void this.$el.find(".medium-insert-buttons").find('button[data-addon="images"]').click():(this.$el.find(".medium-insert-buttons-addons").fadeToggle(),void this.$el.find(".medium-insert-buttons-show").toggleClass("medium-insert-buttons-rotate"))},s.prototype.hideAddons=function(){this.$el.find(".medium-insert-buttons-addons").hide(),this.$el.find(".medium-insert-buttons-show").removeClass("medium-insert-buttons-rotate")},s.prototype.addonAction=function(t){var i=e(t.currentTarget),n=i.data("addon"),s=i.data("action");this.$el.data("plugin_"+o+a(n))[s]()},s.prototype.moveCaret=function(e,n){var a,s,o,r;n=n||0,a=i.createRange(),s=t.getSelection(),o=e.get(0),o.childNodes.length||(r=i.createTextNode(" "),o.appendChild(r)),a.setStart(o.childNodes[0],n),a.collapse(!0),s.removeAllRanges(),s.addRange(a)},s.prototype.addCaption=function(e,t){var i=e.find("figcaption");0===i.length&&e.append(this.templates["src/js/templates/core-caption.hbs"]({placeholder:t}))},s.prototype.removeCaptions=function(t){var i=this.$el.find("figcaption");t&&(i=i.not(t)),i.each(function(){(e(this).hasClass("medium-insert-caption-placeholder")||""===e(this).text().trim())&&e(this).remove()})},s.prototype.removeCaptionPlaceholder=function(e){var t=e.is("figcaption")?e:e.find("figcaption");t.length&&t.removeClass("medium-insert-caption-placeholder").removeAttr("data-placeholder")},e.fn[o]=function(t){return this.each(function(){var i,n=this;e(n).is("textarea")&&(i=e(n).attr("medium-editor-textarea-id"),n=e(n).siblings('[medium-editor-textarea-id="'+i+'"]').get(0)),e.data(n,"plugin_"+o)?"string"==typeof t&&e.data(n,"plugin_"+o)[t]&&e.data(n,"plugin_"+o)[t]():(e.data(n,"plugin_"+o,new s(n,t)),e.data(n,"plugin_"+o).init())})}}(jQuery,window,document),function(e,t,i){"use strict";function n(i,n){this.el=i,this.$el=e(i),this.templates=t.MediumInsert.Templates,this.core=this.$el.data("plugin_"+a),this.options=e.extend(!0,{},o,n),this._defaults=o,this._name=a,this.core.getEditor()&&(this.core.getEditor()._serializePreEmbeds=this.core.getEditor().serialize,this.core.getEditor().serialize=this.editorSerialize),this.init()}var a="mediumInsert",s="Embeds",o={label:'<span class="fa fa-youtube-play"></span>',placeholder:"Paste a YouTube, Vimeo, Facebook, Twitter or Instagram link and press Enter",oembedProxy:"http://medium.iframe.ly/api/oembed?iframe=1",captions:!0,captionPlaceholder:"Type caption (optional)",storeMeta:!1,styles:{wide:{label:'<span class="fa fa-align-justify"></span>'},left:{label:'<span class="fa fa-align-left"></span>'},right:{label:'<span class="fa fa-align-right"></span>'}},actions:{remove:{label:'<span class="fa fa-times"></span>',clicked:function(){var t=e.Event("keydown");t.which=8,e(i).trigger(t)}}},parseOnPaste:!1};n.prototype.init=function(){var t=this.$el.find(".medium-insert-embeds");t.attr("contenteditable",!1),t.each(function(){0===e(this).find(".medium-insert-embeds-overlay").length&&e(this).append(e("<div />").addClass("medium-insert-embeds-overlay"))}),this.events(),this.backwardsCompatibility()},n.prototype.events=function(){e(i).on("click",e.proxy(this,"unselectEmbed")).on("keydown",e.proxy(this,"removeEmbed")).on("click",".medium-insert-embeds-toolbar .medium-editor-action",e.proxy(this,"toolbarAction")).on("click",".medium-insert-embeds-toolbar2 .medium-editor-action",e.proxy(this,"toolbar2Action")),this.$el.on("keyup click paste",e.proxy(this,"togglePlaceholder")).on("keydown",e.proxy(this,"processLink")).on("click",".medium-insert-embeds-overlay",e.proxy(this,"selectEmbed")).on("contextmenu",".medium-insert-embeds-placeholder",e.proxy(this,"fixRightClickOnPlaceholder")),this.options.parseOnPaste&&this.$el.on("paste",e.proxy(this,"processPasted")),e(t).on("resize",e.proxy(this,"autoRepositionToolbars"))},n.prototype.backwardsCompatibility=function(){var t=this;this.$el.find(".mediumInsert-embeds").removeClass("mediumInsert-embeds").addClass("medium-insert-embeds"),this.$el.find(".medium-insert-embeds").each(function(){0===e(this).find(".medium-insert-embed").length&&(e(this).after(t.templates["src/js/templates/embeds-wrapper.hbs"]({html:e(this).html()})),e(this).remove())})},n.prototype.editorSerialize=function(){var t=this._serializePreEmbeds();return e.each(t,function(i){var n=e("<div />").html(t[i].value);n.find(".medium-insert-embeds").removeAttr("contenteditable"),n.find(".medium-insert-embeds-overlay").remove(),t[i].value=n.html()}),t},n.prototype.add=function(){var e=this.$el.find(".medium-insert-active");e.html(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),e.is("p")&&(e.replaceWith('<div class="medium-insert-active">'+e.html()+"</div>"),e=this.$el.find(".medium-insert-active"),this.core.moveCaret(e)),e.addClass("medium-insert-embeds medium-insert-embeds-input medium-insert-embeds-active"),this.togglePlaceholder({target:e.get(0)}),e.click(),this.core.hideButtons()},n.prototype.togglePlaceholder=function(i){var n,a,s,o=e(i.target),r=t.getSelection();r&&0!==r.rangeCount&&(n=r.getRangeAt(0),a=e(n.commonAncestorContainer),a.hasClass("medium-insert-embeds-active")?o=a:a.closest(".medium-insert-embeds-active").length&&(o=a.closest(".medium-insert-embeds-active")),o.hasClass("medium-insert-embeds-active")?(s=o.text().trim(),""===s&&o.hasClass("medium-insert-embeds-placeholder")===!1?o.addClass("medium-insert-embeds-placeholder").attr("data-placeholder",this.options.placeholder):""!==s&&o.hasClass("medium-insert-embeds-placeholder")&&o.removeClass("medium-insert-embeds-placeholder").removeAttr("data-placeholder")):this.$el.find(".medium-insert-embeds-active").remove())},n.prototype.fixRightClickOnPlaceholder=function(t){this.core.moveCaret(e(t.target))},n.prototype.processLink=function(e){var t,i=this.$el.find(".medium-insert-embeds-active");if(i.length)return t=i.text().trim(),""===t&&-1!==[8,46,13].indexOf(e.which)?void i.remove():void(13===e.which&&(e.preventDefault(),e.stopPropagation(),this.options.oembedProxy?this.oembed(t):this.parseUrl(t)))},n.prototype.processPasted=function(t){var i,n;e(".medium-insert-embeds-active").length||(i=t.originalEvent.clipboardData.getData("text"),n=new RegExp("^(http(s?):)?//","i"),n.test(i)&&(this.options.oembedProxy?this.oembed(i,!0):this.parseUrl(i,!0)))},n.prototype.oembed=function(i,n){var a=this;e.support.cors=!0,e.ajax({crossDomain:!0,cache:!1,url:this.options.oembedProxy,dataType:"json",data:{url:i},success:function(t){var s=t&&t.html;return a.options.storeMeta&&(s+='<div class="medium-insert-embeds-meta"><script type="text/json">'+JSON.stringify(t)+"</script></div>"),t&&!s&&"photo"===t.type&&t.url&&(s='<img src="'+t.url+'" alt="">'),s?void(n?e.proxy(a,"embed",s,i)():e.proxy(a,"embed",s)()):void e.proxy(a,"convertBadEmbed",i)()},error:function(n,s,o){var r=function(){try{return JSON.parse(n.responseText)}catch(e){}}();"undefined"!=typeof t.console?t.console.log(r&&r.error||n.status||o.message):t.alert("Error requesting media from "+a.options.oembedProxy+" to insert: "+o+" (response status: "+n.status+")"),e.proxy(a,"convertBadEmbed",i)()}})},n.prototype.parseUrl=function(t,i){var n;return new RegExp(["youtube","youtu.be","vimeo","instagram","twitter","facebook"].join("|")).test(t)?(n=t.replace(/\n?/g,"").replace(/^((http(s)?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|v\/)?)([a-zA-Z0-9\-_]+)(.*)?$/,'<div class="video video-youtube"><iframe width="420" height="315" src="//www.youtube.com/embed/$7" frameborder="0" allowfullscreen></iframe></div>').replace(/^https?:\/\/vimeo\.com(\/.+)?\/([0-9]+)$/,'<div class="video video-vimeo"><iframe src="//player.vimeo.com/video/$2" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>').replace(/^https:\/\/twitter\.com\/(\w+)\/status\/(\d+)\/?$/,'<blockquote class="twitter-tweet" align="center" lang="en"><a href="https://twitter.com/$1/statuses/$2"></a></blockquote><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>').replace(/^(https:\/\/www\.facebook\.com\/(.*))$/,'<script src="//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.2" async></script><div class="fb-post" data-href="$1"><div class="fb-xfbml-parse-ignore"><a href="$1">Loading Facebook post...</a></div></div>').replace(/^https?:\/\/instagram\.com\/p\/(.+)\/?$/,'<span class="instagram"><iframe src="//instagram.com/p/$1/embed/" width="612" height="710" frameborder="0" scrolling="no" allowtransparency="true"></iframe></span>'),this.options.storeMeta&&(n+='<div class="medium-insert-embeds-meta"><script type="text/json">'+JSON.stringify({})+"</script></div>"),/<("[^"]*"|'[^']*'|[^'">])*>/.test(n)===!1?(e.proxy(this,"convertBadEmbed",t)(),!1):void(i?this.embed(n,t):this.embed(n))):(e.proxy(this,"convertBadEmbed",t)(),!1)},n.prototype.embed=function(t,i){var n,a=this.$el.find(".medium-insert-embeds-active");return t?(t.indexOf("</script>")>-1&&(n=e("<div>").attr("data-embed-code",e("<div />").text(t).html()).html(t),t=e("<div>").append(n).html()),i?(a=this.$el.find(":not(iframe, script, style)").contents().filter(function(){return 3===this.nodeType&&this.textContent.indexOf(i)>-1}).parent(),a.after(this.templates["src/js/templates/embeds-wrapper.hbs"]({html:t})),a.text(a.text().replace(i,""))):(a.after(this.templates["src/js/templates/embeds-wrapper.hbs"]({html:t})),a.remove()),this.core.triggerInput(),-1!==t.indexOf("facebook")&&"undefined"!=typeof FB&&setTimeout(function(){FB.XFBML.parse()},2e3),void 0):(alert("Incorrect URL format specified"),!1)},n.prototype.convertBadEmbed=function(t){var i,n,a,s=this.templates["src/js/templates/core-empty-line.hbs"]().trim();i=this.$el.find(".medium-insert-embeds-active"),a=e(s),i.before(a),i.remove(),a.html(t),n=e(s),a.after(n),this.core.triggerInput(),this.core.moveCaret(n)},n.prototype.selectEmbed=function(t){var i,n=this;this.core.options.enabled&&(i=e(t.target).hasClass("medium-insert-embeds")?e(t.target):e(t.target).closest(".medium-insert-embeds"),i.addClass("medium-insert-embeds-selected"),setTimeout(function(){n.addToolbar(),n.options.captions&&n.core.addCaption(i.find("figure"),n.options.captionPlaceholder)},50))},n.prototype.unselectEmbed=function(t){var i=e(t.target).hasClass("medium-insert-embeds")?e(t.target):e(t.target).closest(".medium-insert-embeds"),n=this.$el.find(".medium-insert-embeds-selected");return i.hasClass("medium-insert-embeds-selected")?(n.not(i).removeClass("medium-insert-embeds-selected"),e(".medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2").remove(),this.core.removeCaptions(i.find("figcaption")),void((e(t.target).is(".medium-insert-caption-placeholder")||e(t.target).is("figcaption"))&&(i.removeClass("medium-insert-embeds-selected"),this.core.removeCaptionPlaceholder(i.find("figure"))))):(n.removeClass("medium-insert-embeds-selected"),e(".medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2").remove(),void(e(t.target).is(".medium-insert-caption-placeholder")?this.core.removeCaptionPlaceholder(i.find("figure")):e(t.target).is("figcaption")===!1&&this.core.removeCaptions()))},n.prototype.removeEmbed=function(t){var i,n;8!==t.which&&46!==t.which||(i=this.$el.find(".medium-insert-embeds-selected"),i.length&&(t.preventDefault(),e(".medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2").remove(),n=e(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),i.before(n),i.remove(),this.core.hideAddons(),this.core.moveCaret(n),this.core.triggerInput()))},n.prototype.addToolbar=function(){var t,i,n,a,s=this.$el.find(".medium-insert-embeds-selected"),o=!1;0!==s.length&&(n=this.core.getEditor(),a=n.options.elementsContainer||"body",e(a).append(this.templates["src/js/templates/embeds-toolbar.hbs"]({styles:this.options.styles,actions:this.options.actions}).trim()),t=e(".medium-insert-embeds-toolbar"),i=e(".medium-insert-embeds-toolbar2"),t.find("button").each(function(){s.hasClass("medium-insert-embeds-"+e(this).data("action"))&&(e(this).addClass("medium-editor-button-active"),o=!0)}),o===!1&&t.find("button").first().addClass("medium-editor-button-active"),this.repositionToolbars(),t.fadeIn(),i.fadeIn())},n.prototype.autoRepositionToolbars=function(){setTimeout(function(){this.repositionToolbars(),this.repositionToolbars()}.bind(this),0)},n.prototype.repositionToolbars=function(){var i=e(".medium-insert-embeds-toolbar"),n=e(".medium-insert-embeds-toolbar2"),a=this.$el.find(".medium-insert-embeds-selected"),s=this.core.getEditor().options.elementsContainer,o=["absolute","fixed"].indexOf(t.getComputedStyle(s).getPropertyValue("position"))>-1,r=o?s.getBoundingClientRect():null,l=e(t).width(),c={};n.length&&(c.top=a.offset().top+2,c.left=a.offset().left+a.width()-n.width()-4,o&&(c.top+=s.scrollTop-r.top,c.left-=r.left,l=e(s).width()),c.left+n.width()>l&&(c.left=l-n.width()),n.css(c)),i.length&&(c.left=a.offset().left+a.width()/2-i.width()/2,c.top=a.offset().top-i.height()-8-2-5,o&&(c.top+=s.scrollTop-r.top,c.left-=r.left),c.top<0&&(c.top=0),i.css(c))},n.prototype.toolbarAction=function(t){var i=e(t.target).is("button")?e(t.target):e(t.target).closest("button"),n=i.closest("li"),a=n.closest("ul"),s=a.find("li"),o=this.$el.find(".medium-insert-embeds-selected"),r=this;i.addClass("medium-editor-button-active"),n.siblings().find(".medium-editor-button-active").removeClass("medium-editor-button-active"),s.find("button").each(function(){var t="medium-insert-embeds-"+e(this).data("action");e(this).hasClass("medium-editor-button-active")?(o.addClass(t),r.options.styles[e(this).data("action")].added&&r.options.styles[e(this).data("action")].added(o)):(o.removeClass(t),r.options.styles[e(this).data("action")].removed&&r.options.styles[e(this).data("action")].removed(o))}),this.core.triggerInput()},n.prototype.toolbar2Action=function(t){var i=e(t.target).is("button")?e(t.target):e(t.target).closest("button"),n=this.options.actions[i.data("action")].clicked;n&&n(this.$el.find(".medium-insert-embeds-selected")),this.core.triggerInput()},e.fn[a+s]=function(t){return this.each(function(){e.data(this,"plugin_"+a+s)||e.data(this,"plugin_"+a+s,new n(this,t))})}}(jQuery,window,document),function(e,t,n){"use strict";function a(i,n){this.el=i,this.$el=e(i),this.$currentImage=null,this.templates=t.MediumInsert.Templates,this.core=this.$el.data("plugin_"+s),this.options=e.extend(!0,{},r,n),this._defaults=r,this._name=s,this.options.preview&&!t.FileReader&&(this.options.preview=!1),this.core.getEditor()&&(this.core.getEditor()._serializePreImages=this.core.getEditor().serialize,this.core.getEditor().serialize=this.editorSerialize),
this.init()}var s="mediumInsert",o="Images",r={label:'<span class="fa fa-camera"></span>',deleteMethod:"POST",deleteScript:"delete.php",preview:!0,captions:!0,captionPlaceholder:"Type caption for image (optional)",autoGrid:3,fileUploadOptions:{url:null,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i},fileDeleteOptions:{},styles:{wide:{label:'<span class="fa fa-align-justify"></span>'},left:{label:'<span class="fa fa-align-left"></span>'},right:{label:'<span class="fa fa-align-right"></span>'},grid:{label:'<span class="fa fa-th"></span>'}},actions:{remove:{label:'<span class="fa fa-times"></span>',clicked:function(){var t=e.Event("keydown");t.which=8,e(n).trigger(t)}}},sorting:function(){var t=this;e(".medium-insert-images").sortable({group:"medium-insert-images",containerSelector:".medium-insert-images",itemSelector:"figure",placeholder:'<figure class="placeholder">',handle:"img",nested:!1,vertical:!1,afterMove:function(){t.core.triggerInput()}})},messages:{acceptFileTypesError:"This file is not in a supported format: ",maxFileSizeError:"This file is too big: "}};a.prototype.init=function(){var e=this.$el.find(".medium-insert-images");e.find("figcaption").attr("contenteditable",!0),e.find("figure").attr("contenteditable",!1),this.events(),this.backwardsCompatibility(),this.sorting()},a.prototype.events=function(){e(n).on("click",e.proxy(this,"unselectImage")).on("keydown",e.proxy(this,"removeImage")).on("click",".medium-insert-images-toolbar .medium-editor-action",e.proxy(this,"toolbarAction")).on("click",".medium-insert-images-toolbar2 .medium-editor-action",e.proxy(this,"toolbar2Action")),this.$el.on("click",".medium-insert-images img",e.proxy(this,"selectImage")),e(t).on("resize",e.proxy(this,"autoRepositionToolbars"))},a.prototype.backwardsCompatibility=function(){this.$el.find(".mediumInsert").removeClass("mediumInsert").addClass("medium-insert-images"),this.$el.find(".medium-insert-images.small").removeClass("small").addClass("medium-insert-images-left")},a.prototype.editorSerialize=function(){var t=this._serializePreImages();return e.each(t,function(i){var n=e("<div />").html(t[i].value);n.find(".medium-insert-images").find("figcaption, figure").removeAttr("contenteditable"),n.find(".medium-insert-images-progress").remove(),t[i].value=n.html()}),t},a.prototype.add=function(){var t=this,i=e(this.templates["src/js/templates/images-fileupload.hbs"]()),n={dataType:"json",add:function(i,n){e.proxy(t,"uploadAdd",i,n)()},done:function(i,n){e.proxy(t,"uploadDone",i,n)()}};(new XMLHttpRequest).upload&&(n.progress=function(i,n){e.proxy(t,"uploadProgress",i,n)()},n.progressall=function(i,n){e.proxy(t,"uploadProgressall",i,n)()}),i.fileupload(e.extend(!0,{},this.options.fileUploadOptions,n)),i.click()},a.prototype.uploadAdd=function(t,i){var n,a=this.$el.find(".medium-insert-active"),s=this,o=[],r=i.files[0],l=this.options.fileUploadOptions.acceptFileTypes,c=this.options.fileUploadOptions.maxFileSize;return l&&!l.test(r.type)?o.push(this.options.messages.acceptFileTypesError+r.name):c&&r.size>c&&o.push(this.options.messages.maxFileSizeError+r.name),o.length>0?void alert(o.join("\n")):(this.core.hideButtons(),a.is("p")&&(a.replaceWith('<div class="medium-insert-active">'+a.html()+"</div>"),a=this.$el.find(".medium-insert-active"),a.next().is("p")?this.core.moveCaret(a.next()):(a.after("<p><br></p>"),this.core.moveCaret(a.next()))),a.addClass("medium-insert-images"),this.options.preview===!1&&0===a.find("progress").length&&(new XMLHttpRequest).upload&&a.append(this.templates["src/js/templates/images-progressbar.hbs"]()),void((i.autoUpload||i.autoUpload!==!1&&e(t.target).fileupload("option","autoUpload"))&&i.process().done(function(){s.options.preview?(n=new FileReader,n.onload=function(t){e.proxy(s,"showImage",t.target.result,i)()},n.readAsDataURL(i.files[0])):i.submit()})))},a.prototype.uploadProgressall=function(e,t){var i,n;this.options.preview===!1&&(i=parseInt(t.loaded/t.total*100,10),n=this.$el.find(".medium-insert-active").find("progress"),n.attr("value",i).text(i),100===i&&n.remove())},a.prototype.uploadProgress=function(e,t){var i,n;this.options.preview&&(i=100-parseInt(t.loaded/t.total*100,10),n=t.context.find(".medium-insert-images-progress"),n.css("width",i+"%"),0===i&&n.remove())},a.prototype.uploadDone=function(t,i){e.proxy(this,"showImage",i.result.files[0].url,i)(),this.core.clean(),this.sorting()},a.prototype.showImage=function(t,i){var n,a,s=this.$el.find(".medium-insert-active");return s.click(),a=this,this.options.preview&&i.context?(n=this.getDOMImage(),n.onload=function(){i.context.find("img").attr("src",n.src),this.options.uploadCompleted&&this.options.uploadCompleted(i.context,i),a.core.triggerInput()}.bind(this),n.src=t):(i.context=e(this.templates["src/js/templates/images-image.hbs"]({img:t,progress:this.options.preview})).appendTo(s),s.find("br").remove(),this.options.autoGrid&&s.find("figure").length>=this.options.autoGrid&&(e.each(this.options.styles,function(e,t){var i="medium-insert-images-"+e;s.removeClass(i),t.removed&&t.removed(s)}),s.addClass("medium-insert-images-grid"),this.options.styles.grid.added&&this.options.styles.grid.added(s)),this.options.preview?i.submit():this.options.uploadCompleted&&this.options.uploadCompleted(i.context,i)),this.core.triggerInput(),i.context},a.prototype.getDOMImage=function(){return new t.Image},a.prototype.selectImage=function(t){var i,n=this;this.core.options.enabled&&(i=e(t.target),this.$currentImage=i,this.$el.blur(),i.addClass("medium-insert-image-active"),i.closest(".medium-insert-images").addClass("medium-insert-active"),setTimeout(function(){n.addToolbar(),n.options.captions&&n.core.addCaption(i.closest("figure"),n.options.captionPlaceholder)},50))},a.prototype.unselectImage=function(t){var i=e(t.target),n=this.$el.find(".medium-insert-image-active");return i.is("img")&&i.hasClass("medium-insert-image-active")?(n.not(i).removeClass("medium-insert-image-active"),e(".medium-insert-images-toolbar, .medium-insert-images-toolbar2").remove(),void this.core.removeCaptions(i)):(n.removeClass("medium-insert-image-active"),e(".medium-insert-images-toolbar, .medium-insert-images-toolbar2").remove(),i.is(".medium-insert-caption-placeholder")?this.core.removeCaptionPlaceholder(n.closest("figure")):i.is("figcaption")===!1&&this.core.removeCaptions(),void(this.$currentImage=null))},a.prototype.removeImage=function(a){var s,o,r,l,c,u,d,h,p,f,m=[],g=this.$el.find(".medium-insert-image-active");if((8===a.which||46===a.which)&&(g.length&&m.push(g),r=t.getSelection(),r&&r.rangeCount&&(l=r.getRangeAt(0),c=l.commonAncestorContainer,d="#text"===c.nodeName?e(c).parent():e(c),u=i.selection.getCaretOffsets(c).left,8===a.which&&0===u?h=d.prev():46===a.which&&u===d.text().length&&(h=d.next()),h&&h.hasClass("medium-insert-images")&&m.push(h.find("img")),p=i.selection.getSelectionHtml(n),p&&e("<div></div>").html(p).find(".medium-insert-images img").each(function(){m.push(e(this))})),m.length)){for(f=0;f<m.length;f++)this.deleteFile(m[f].attr("src")),s=m[f].closest(".medium-insert-images"),m[f].closest("figure").remove(),0===s.find("figure").length&&(o=s.next(),o.is("p")!==!1&&""===o.text()||(o=e(this.templates["src/js/templates/core-empty-line.hbs"]().trim()),s.before(o)),s.remove());this.core.hideAddons(),!p&&o&&(a.preventDefault(),this.core.moveCaret(o)),e(".medium-insert-images-toolbar, .medium-insert-images-toolbar2").remove(),this.core.triggerInput()}},a.prototype.deleteFile=function(t){this.options.deleteScript&&e.ajax(e.extend(!0,{},{url:this.options.deleteScript,type:this.options.deleteMethod||"POST",data:{file:t}},this.options.fileDeleteOptions))},a.prototype.addToolbar=function(){var t,i,n=this.$el.find(".medium-insert-image-active"),a=n.closest(".medium-insert-images"),s=!1,o=this.core.getEditor(),r=o.options.elementsContainer||"body";e(r).append(this.templates["src/js/templates/images-toolbar.hbs"]({styles:this.options.styles,actions:this.options.actions}).trim()),t=e(".medium-insert-images-toolbar"),i=e(".medium-insert-images-toolbar2"),t.find("button").each(function(){a.hasClass("medium-insert-images-"+e(this).data("action"))&&(e(this).addClass("medium-editor-button-active"),s=!0)}),s===!1&&t.find("button").first().addClass("medium-editor-button-active"),this.repositionToolbars(),t.fadeIn(),i.fadeIn()},a.prototype.autoRepositionToolbars=function(){setTimeout(function(){this.repositionToolbars(),this.repositionToolbars()}.bind(this),0)},a.prototype.repositionToolbars=function(){var i=e(".medium-insert-images-toolbar"),n=e(".medium-insert-images-toolbar2"),a=this.$el.find(".medium-insert-image-active"),s=this.core.getEditor().options.elementsContainer,o=["absolute","fixed"].indexOf(t.getComputedStyle(s).getPropertyValue("position"))>-1,r=o?s.getBoundingClientRect():null,l=e(t).width(),c={};n.length&&(c.top=a.offset().top+2,c.left=a.offset().left+a.width()-n.width()-4,o&&(c.top+=s.scrollTop-r.top,c.left-=r.left,l=e(s).width()),c.left+n.width()>l&&(c.left=l-n.width()),n.css(c)),i.length&&(a.closest(".medium-insert-images-grid-active").length&&(a=a.closest(".medium-insert-images-grid-active")),c.top=a.offset().top-i.height()-8-2-5,c.left=a.offset().left+a.width()/2-i.width()/2,o&&(c.top+=s.scrollTop-r.top,c.left-=r.left),c.top<0&&(c.top=0),i.css(c))},a.prototype.toolbarAction=function(t){var i,n,a,s,o,r=this;null!==this.$currentImage&&(i=e(t.target).is("button")?e(t.target):e(t.target).closest("button"),n=i.closest("li"),a=n.closest("ul"),s=a.find("li"),o=this.$el.find(".medium-insert-active"),i.addClass("medium-editor-button-active"),n.siblings().find(".medium-editor-button-active").removeClass("medium-editor-button-active"),s.find("button").each(function(){var t="medium-insert-images-"+e(this).data("action");e(this).hasClass("medium-editor-button-active")?(o.addClass(t),r.options.styles[e(this).data("action")].added&&r.options.styles[e(this).data("action")].added(o)):(o.removeClass(t),r.options.styles[e(this).data("action")].removed&&r.options.styles[e(this).data("action")].removed(o))}),this.core.hideButtons(),this.core.triggerInput())},a.prototype.toolbar2Action=function(t){var i,n;null!==this.$currentImage&&(i=e(t.target).is("button")?e(t.target):e(t.target).closest("button"),n=this.options.actions[i.data("action")].clicked,n&&n(this.$el.find(".medium-insert-image-active")),this.core.hideButtons(),this.core.triggerInput())},a.prototype.sorting=function(){e.proxy(this.options.sorting,this)()},e.fn[s+o]=function(t){return this.each(function(){e.data(this,"plugin_"+s+o)||e.data(this,"plugin_"+s+o,new a(this,t))})}}(jQuery,window,document,i.util)}),!function(e,t,i,n){function a(e,t){var i=Math.max(0,e[0]-t[0],t[0]-e[1]),n=Math.max(0,e[2]-t[1],t[1]-e[3]);return i+n}function s(t,i,n,a){for(var s=t.length,a=a?"offset":"position",n=n||0;s--;){var o=t[s].el?t[s].el:e(t[s]),r=o[a]();r.left+=parseInt(o.css("margin-left"),10),r.top+=parseInt(o.css("margin-top"),10),i[s]=[r.left-n,r.left+o.outerWidth()+n,r.top-n,r.top+o.outerHeight()+n]}}function o(e,t){var i=t.offset();return{left:e.left-i.left,top:e.top-i.top}}function r(e,t,i){for(var n,t=[t.left,t.top],i=i&&[i.left,i.top],s=e.length,o=[];s--;)n=e[s],o[s]=[s,a(n,t),i&&a(n,i)];return o=o.sort(function(e,t){return t[1]-e[1]||t[2]-e[2]||t[0]-e[0]})}function l(t){this.options=e.extend({},h,t),this.containers=[],this.options.rootGroup||(this.scrollProxy=e.proxy(this.scroll,this),this.dragProxy=e.proxy(this.drag,this),this.dropProxy=e.proxy(this.drop,this),this.placeholder=e(this.options.placeholder),t.isValidTarget||(this.options.isValidTarget=n))}function c(t,i){this.el=t,this.options=e.extend({},d,i),this.group=l.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var n=this.rootGroup.options.itemPath;this.target=n?this.el.find(n):this.el,this.target.on(u.start,this.handle,e.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var u,d={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},h={afterMove:function(){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",isValidTarget:function(){return!0},onCancel:function(){},onDrag:function(e,t){e.css(t)},onDragStart:function(t){t.css({height:t.height(),width:t.width()}),t.addClass("dragged"),e("body").addClass("dragging")},onDrop:function(t){t.removeClass("dragged").removeAttr("style"),e("body").removeClass("dragging")},onMousedown:function(e,t,i){return i.target.nodeName.match(/^(input|select)$/i)?void 0:(i.preventDefault(),!0)},placeholder:'<li class="placeholder"/>',pullPlaceholder:!0,serialize:function(t,i,n){return t=e.extend({},t.data()),n?[i]:(i[0]&&(t.children=i),delete t.subContainers,delete t.sortable,t)},tolerance:0},p={},f=0,m={left:0,top:0,bottom:0,right:0};u={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},l.get=function(e){return p[e.group]||(e.group===n&&(e.group=f++),p[e.group]=new l(e)),p[e.group]},l.prototype={dragInit:function(t,i){this.$document=e(i.el[0].ownerDocument),this.item=e(t.target).closest(this.options.itemSelector),this.itemContainer=i,!this.item.is(this.options.exclude)&&this.options.onMousedown(this.item,h.onMousedown,t)&&(this.setPointer(t),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0)},drag:function(e){if(!this.dragging){if(!this.distanceMet(e)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,h.onDragStart,e),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(e),this.options.onDrag(this.item,o(this.pointer,this.item.offsetParent()),h.onDrag,e);var t=e.pageX||e.originalEvent.pageX,e=e.pageY||e.originalEvent.pageY,i=this.sameResultBox,n=this.options.tolerance;(!i||i.top-n>e||i.bottom+n<e||i.left-n>t||i.right+n<t)&&(this.searchValidTarget()||this.placeholder.detach())},drop:function(e){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,h.onCancel,e),this.options.onDrop(this.item,this.getContainer(this.item),h.onDrop,e),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=n,this.dragging=!1)},searchValidTarget:function(e,t){e||(e=this.relativePointer||this.pointer,t=this.lastRelativePointer||this.lastPointer);for(var i=r(this.getContainerDimensions(),e,t),a=i.length;a--;){var s=i[a][0];if((!i[a][1]||this.options.pullPlaceholder)&&(s=this.containers[s],!s.disabled)){if(!this.$getOffsetParent())var l=s.getItemOffsetParent(),e=o(e,l),t=o(t,l);if(s.searchValidTarget(e,t))return!0}}this.sameResultBox&&(this.sameResultBox=n)},movePlaceholder:function(e,t,i,n){var a=this.lastAppendedItem;!n&&a&&a[0]===t[0]||(t[i](this.placeholder),this.lastAppendedItem=t,this.sameResultBox=n,this.options.afterMove(this.placeholder,e,t))},getContainerDimensions:function(){return this.containerDimensions||s(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(e){return e.closest(this.options.containerSelector).data(i)},$getOffsetParent:function(){if(this.offsetParent===n){var e=this.containers.length-1,t=this.containers[e].getItemOffsetParent();if(!this.options.rootGroup)for(;e--;)if(t[0]!=this.containers[e].getItemOffsetParent()[0]){t=!1;break}this.offsetParent=t}return this.offsetParent},setPointer:function(e){if(e=this.getPointer(e),this.$getOffsetParent()){var t=o(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=t}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(e){return e=this.getPointer(e),Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(e){return{left:e.pageX||e.originalEvent.pageX,top:e.pageY||e.originalEvent.pageY}},setupDelayTimer:function(){var e=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){e.delayMet=!0},this.options.delay))},scroll:function(){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(t){var i=this;e.each(["drag","drop","scroll"],function(e,n){i.$document[t](u[n],i[n+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=n},clearDimensions:function(){this.traverse(function(e){e._clearDimensions()})},traverse:function(e){e(this);for(var t=this.containers.length;t--;)this.containers[t].traverse(e)},_clearDimensions:function(){this.containerDimensions=n},_destroy:function(){p[this.options.group]=n}},c.prototype={dragInit:function(e){var t=this.rootGroup;!this.disabled&&!t.dragInitDone&&this.options.drag&&this.isValidDrag(e)&&t.dragInit(e,this)},isValidDrag:function(e){return 1==e.which||"touchstart"==e.type&&1==e.originalEvent.touches.length},searchValidTarget:function(e,t){var i=r(this.getItemDimensions(),e,t),n=i.length,a=this.rootGroup,s=!a.options.isValidTarget||a.options.isValidTarget(a.item,this);if(!n&&s)return a.movePlaceholder(this,this.target,"append"),!0;for(;n--;)if(a=i[n][0],!i[n][1]&&this.hasChildGroup(a)){if(this.getContainerGroup(a).searchValidTarget(e,t))return!0}else if(s)return this.movePlaceholder(a,e),!0},movePlaceholder:function(t,i){var n=e(this.items[t]),a=this.itemDimensions[t],s="after",o=n.outerWidth(),r=n.outerHeight(),l=n.offset(),l={left:l.left,right:l.left+o,top:l.top,bottom:l.top+r};this.options.vertical?i.top<=(a[2]+a[3])/2?(s="before",l.bottom-=r/2):l.top+=r/2:i.left<=(a[0]+a[1])/2?(s="before",l.right-=o/2):l.left+=o/2,this.hasChildGroup(t)&&(l=m),this.rootGroup.movePlaceholder(this,n,s,l)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(.placeholder, .dragged)").get(),s(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var e=this.el;return"relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(e){return this.options.nested&&this.getContainerGroup(e)},getContainerGroup:function(t){var a=e.data(this.items[t],"subContainers");if(a===n){var s=this.$getChildren(this.items[t],"container"),a=!1;s[0]&&(a=e.extend({},this.options,{rootGroup:this.rootGroup,group:f++}),a=s[i](a).data(i).group),e.data(this.items[t],"subContainers",a)}return a},$getChildren:function(t,i){var n=this.rootGroup.options,a=n[i+"Path"],n=n[i+"Selector"],t=e(t);return a&&(t=t.find(a)),t.children(n)},_serialize:function(t,i){var n=this,a=this.$getChildren(t,i?"item":"container").not(this.options.exclude).map(function(){return n._serialize(e(this),!i)}).get();return this.rootGroup.options.serialize(t,a,i)},traverse:function(t){e.each(this.items||[],function(){var i=e.data(this,"subContainers");i&&i.traverse(t)}),t(this)},_clearDimensions:function(){this.itemDimensions=n},_destroy:function(){var t=this;this.target.off(u.start,this.handle),this.el.removeData(i),this.options.drop&&(this.group.containers=e.grep(this.group.containers,function(e){return e!=t})),e.each(this.items||[],function(){e.removeData(this,"subContainers")})}};var g={enable:function(){this.traverse(function(e){e.disabled=!1})},disable:function(){this.traverse(function(e){e.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(e){e._clearDimensions()})},destroy:function(){this.traverse(function(e){e._destroy()})}};e.extend(c.prototype,g),e.fn[i]=function(t){var a=Array.prototype.slice.call(arguments,1);return this.map(function(){var s=e(this),o=s.data(i);return o&&g[t]?g[t].apply(o,a)||this:(!o&&(t===n||"object"==typeof t)&&s.data(i,new c(s,t)),this)})}}(jQuery,window,"sortable");var doughnutData=[{value:300,color:"#F7464A",highlight:"#FF5A5E",label:"Red"},{value:50,color:"#46BFBD",highlight:"#5AD3D1",label:"Green"},{value:100,color:"#FDB45C",highlight:"#FFC870",label:"Yellow"},{value:40,color:"#949FB1",highlight:"#A8B3C5",label:"Grey"},{value:120,color:"#4D5360",highlight:"#616774",label:"Dark Grey"}],doughnutData2=[{value:300,color:"#F7464A",highlight:"#FF5A5E",label:"Red"},{value:50,color:"#46BFBD",highlight:"#5AD3D1",label:"Green"},{value:100,color:"#FDB45C",highlight:"#FFC870",label:"Yellow"},{value:40,color:"#949FB1",highlight:"#A8B3C5",label:"Grey"},{value:120,color:"#4D5360",highlight:"#616774",label:"Dark Grey"}];$(document).ready(function(){function e(){var e=$(".img-rounded.edit-profile img");$.each(e,function(e,t){setTimeout(function(){$(t).height()<100&&$(t).css({height:"100px","max-width":"initial"})},500),setTimeout(function(){$(t).width()>100&&(width=$(t).width(),width_plus=width-100,margin=width_plus/2,$(t).css({left:-margin}))},500)})}function t(e){content=$(".content-editable"),$("#story_content").val(content.html());var i=e,n=new Date,a="Last Autosaved At: "+n.getHours()+":"+n.getMinutes();$.ajax({type:"POST",url:"/stories/"+i,data:$(".edit_story").serialize(),dataType:"json",success:function(){var e=document.querySelector("#autosave-status");e.innerHTML=a}}),setTimeout(function(){t(i)},6e4)}function i(){$(".img-rounded.edit-profile").mouseover(function(){$(".avatar-text").show()}),$(".img-rounded.edit-profile").mouseleave(function(){$(".avatar-text").hide()}),$(".img-rounded.edit-profile").click(function(){$("#user_avatar").click()}),$("#avatar-upload").fileupload({add:function(t,i){if($(".avatar-img").hide(),$(".avatar-text").text("Click to change your avatar"),$("#submit-upload").click(function(){i.submit()}),i.files&&i.files[0]){var n=new FileReader;n.onload=function(e){$("#image-avatar-preview").show().attr("src",e.target.result)},n.readAsDataURL(i.files[0])}e()}})}if(getThumbnail(),setUpModalUserPhoto(),setModalOpeningHour(),setModalTickets(),setModalReview(),setModalPhoto(),setModalEditPhoto(),setupNav(),setImagesPosition(),funFact(),setUpChart(),$("#place-data").length>0){var n=$(".area-content").data("long"),a=$(".area-content").data("lat");$.ajax({url:"https://api.forecast.io/forecast/5e484ae84d059b196a7b91faaa86cc32/"+a+","+n,dataType:"jsonp",success:function(e){data_weather=e.daily.data.slice(1,4),$.each(data_weather,function(e,t){var i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=Math.round(5*(t.temperatureMax-32)/9),a=Math.round(5*(t.temperatureMin-32)/9),s=new Date(1e3*t.time),o=s.getDate(),r=s.getMonth(),l=i[r]+" "+o;$(".t-block").append('<li>                                    <span class="t-high">'+n+'</span>                                    <span class="t-low">'+a+'</span>                                    <span class="month">'+l+"</span>                                </li>")})}})}if(document.querySelector("#edit-story-page"))var s=new MediumEditor(".content-editable",{placeholder:{text:""},targetBlank:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","h4","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",relativeContainer:null,standardizeSelectionStart:!1,"static":!1,align:"center",sticky:!1,updateOnEmptySelection:!1}});else var s=new MediumEditor(".content-editable",{placeholder:{text:"Tell your story"},targetBlank:!0,autoLink:!0,toolbar:{allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","h4","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",relativeContainer:null,standardizeSelectionStart:!1,"static":!1,align:"center",sticky:!1,updateOnEmptySelection:!1}});$(function(){var e=document.querySelector("#edit-story-page");if(e){var i=e.dataset.storyId;$(".edit_story").length>0&&setTimeout(function(){t(i)},6e4)}}),$(function(){var e=document.querySelector("#edit-story-page");if(e){var t=e.dataset.storyId;$(".content-editable").mediumInsert({editor:s,addons:{images:{deleteScript:"/stories/"+t+"/delete_image",fileUploadOptions:{url:"/stories/"+t+"/upload_image",acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i}}}})}}),$("#submit_story").click(function(){content=$(".content-editable"),$("#story_content").val(content.html()),$("#submit-form-story").click()}),$("#edit-story-page")&&($(".content-editable").data("placeholder",""),setTimeout(function(){var e=$("#edit-story-page").data("content");$(".content-editable").find("p").replaceWith(e)},2e3)),$(function(){$("#form_change_password").submit(function(e){e.preventDefault();var t=$(this).serialize();$.ajax({url:"/update_password_user",type:"post",dataType:"json",data:t}).done(function(e){1==e.success?(success="<div class='alert alert-success alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>Succesfully changed password</div>",$("#messages-devise").append(success),$("#form_change_password input").val("")):(error="<div class='alert alert-warning alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>"+e.messages+"</div>",$("#messages-devise").append(error),$("#form_change_password input").val(""))}).fail(function(){})})}),i(),e();var o=location.search.substring(1);"video"===o.substr(0,5)&&(videoId=o.split("=")[1],div=$('*[data-id="'+videoId+'"]'),video=div.parents().find("video.play-in-modal"),showAndPlayVideoOnModal($(video)))}),$(window).resize(function(){setImagesPosition()}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(document).on("ajax:beforeSend","a.single-pagination",function(){container=$(this).closest("div.single-pagination-container"),container.find("div.single-pagination-loader").removeClass("hidden"),$(this).addClass("hidden")}).on("ajax:success","a.single-pagination",function(){container=$(this).closest("div.single-pagination-container"),container.find("div.single-pagination-loader").addClass("hidden"),$(this).removeClass("hidden")}).on("ajax:error","a.single-pagination",function(){container=$(this).closest("div.single-pagination-container"),container.find("div.single-pagination-loader").addClass("hidden"),$(this).removeClass("hidden")}),$(document).ready(function(){$(document).on("click",".play-in-modal",function(){showAndPlayVideoOnModal($(this))}),$("div.video-modal").on("hide.bs.modal",function(){$(this).find("iframe").attr("src",null)}),$("div.modal-video").on("hide.bs.modal",function(){$(this).find("iframe").attr("src",null)}),$(document).on("click","a.play-video",function(e){div=$(this).closest("div"),video=div.find(".play-in-modal"),showAndPlayVideoOnModal($(video)),e.preventDefault()})}),function(e){function t(t,i){var a=!1;if(t.text.indexOf(":")>-1){var s=t.text.split(":");s.length>1&&(a=!0)}e.getJSON(t.uri,function(o){e.each(o,function(n,o){var r="";a?s.forEach(function(e){r+=o[e]+" "}):r=o[t.text],e("<option>",{value:o[t.value],text:r,selected:i.some(function(e){return e[t.value]===o[t.value]})===!0}).appendTo(t.element)}),n(t)})}function i(t){var i=e(t.parentElement+" .unselected"),n=e(t.parentElement+" .selected");e(t.parentElement).find("button").bind("click",function(){switch(e(this).data("type")){case"str":i.find("option:selected").appendTo(n),e(this).prop("disabled",!0);break;case"atr":(i.find("option").length>=t.maxAllBtn&&confirm(t.warning)||i.find("option").length<t.maxAllBtn)&&i.find("option").each(function(){e(this).isVisible()&&e(this).remove().appendTo(n)});break;case"stl":n.find("option:selected").remove().appendTo(i),e(this).prop("disabled",!0);break;case"atl":(n.find("option").length>=t.maxAllBtn&&confirm(t.warning)||n.find("option").length<t.maxAllBtn)&&n.find("option").each(function(){e(this).isVisible()&&e(this).remove().appendTo(i)})}i.filterByText(e(t.parentElement+" .filter-unselected"),t.timeout,t.parentElement).scrollTop(0).sortOptions(),n.filterByText(e(t.parentElement+" .filter-selected"),t.timeout,t.parentElement).scrollTop(0).sortOptions(),l(t)}),e(t.parentElement).closest("form").submit(function(){n.find("option").prop("selected",!0)}),e(t.parentElement).find('input[type="text"]').keypress(function(e){13===e.which&&event.preventDefault()}),n.filterByText(e(t.parentElement+" .filter-selected"),t.timeout,t.parentElement).scrollTop(0).sortOptions(),i.filterByText(e(t.parentElement+" .filter-unselected"),t.timeout,t.parentElement).scrollTop(0).sortOptions()}function n(e){s(e),c(e),i(e)}function a(t){var i=0,n=0;setTimeout(function(){e(t+" .unselected").find("option").each(function(){e(this).isVisible()&&i++}),e(t+" .selected").find("option").each(function(){e(this).isVisible()&&n++}),e(t+" .unselected-count").text(i),e(t+" .selected-count").text(n),u(t)},100)}function s(t){e(t.element).parent().attr("id",t.parent),e(t.parentElement).addClass("row").append((0==t.horizontal?'   <div class="col-md-5">':'   <div class="col-md-6">')+'       <h4><span class="unselected-title"></span> <small>- showing <span class="unselected-count"></span></small></h4>       <input class="filter form-control filter-unselected" type="text" placeholder="Filter" style="margin-bottom: 5px;">'+(0==t.horizontal?"":o(1,t.moveAllBtn))+'       <select class="unselected '+t.selectClass+'" style="height: 200px; width: 100%;" multiple></select>   </div>'+(0==t.horizontal?r(t.moveAllBtn):"")+(0==t.horizontal?'   <div class="col-md-5">':'   <div class="col-md-6">')+'       <h4><span class="selected-title"></span> <small>- showing <span class="selected-count"></span></small></h4>       <input class="filter form-control filter-selected" type="text" placeholder="Filter" style="margin-bottom: 5px;">'+(0==t.horizontal?"":o(2,t.moveAllBtn))+'       <select class="selected '+t.selectClass+'" style="height: 200px; width: 100%;" multiple></select>   </div>'),e(t.parentElement+" .selected").prop("name",e(t.element).prop("name")),e(t.parentElement+" .unselected-title").text("Available "+t.title),e(t.parentElement+" .selected-title").text("Selected "+t.title)}function o(e,t){return 1==e?(t?'       <button type="button" class="btn btn-default atr" data-type="atr" style="margin-bottom: 5px;"><span class="fa fa-list"></span> <span class="fa fa-chevron-right"></span></button>':"")+'       <button type="button" class="btn btn-default '+(t?"pull-right col-md-6":"col-md-12")+' str" data-type="str" style="margin-bottom: 5px;" disabled><span class="fa fa-arrow-right"></span></button>':'       <button type="button" class="btn btn-default '+(t?"col-md-6":"col-md-12")+' stl" data-type="stl" style="margin-bottom: 5px;" disabled><span class="fa fa-arrow-left"></span></button>'+(t?'       <button type="button" class="btn btn-default col-md-6 pull-right atl" data-type="atl" style="margin-bottom: 5px;"><span class="fa fa-arrow-left"></span> <span class="fa fa-list"></span></button>':"")}function r(e){return'   <div class="col-md-2 center-block" style="margin-top: '+(e?"80px":"130px")+'">'+(e?'       <button type="button" class="btn btn-default col-md-8 col-md-offset-2 atr" data-type="atr" style="margin-bottom: 10px;"><span class="fa fa-list"></span> <span class="fa fa-arrow-right"></span></button>':"")+'       <button type="button" class="btn btn-default col-md-8 col-md-offset-2 str" data-type="str" style="margin-bottom: 20px;" disabled><span class="fa fa-arrow-right"></span></button>       <button type="button" class="btn btn-default col-md-8 col-md-offset-2 stl" data-type="stl" style="margin-bottom: 10px;" disabled><span class="fa fa-arrow-left"></span></button>'+(e?'       <button type="button" class="btn btn-default col-md-8 col-md-offset-2 atl" data-type="atl" style="margin-bottom: 10px;"><span class="fa fa-arrow-left"></span> <span class="fa fa-list"></span></button>':"")+"   </div>"}function l(t){e(t.parentElement+" .unselected").find("option:selected").prop("selected",!1),e(t.parentElement+" .selected").find("option:selected").prop("selected",!1),e(t.parentElement+" .filter").val(""),e(t.parentElement+" select").find("option").each(function(){e(this).show()}),a(t.parentElement)}function c(t){var i=!1;e(t.element).find("option").text(function(n,a){return e(this).data("title",a),a.length>t.textLength?(i=!0,a.substr(0,t.textLength)+"..."):void 0}).each(function(){i&&e(this).prop("title",e(this).data("title")),e(this).is(":selected")?e(this).appendTo(t.parentElement+" .selected"):e(this).appendTo(t.parentElement+" .unselected")}),e(t.element).remove(),l(t)}function u(t){e(t+" .unselected").change(function(){e(t+" .str").prop("disabled",!1)}),e(t+" .selected").change(function(){e(t+" .stl").prop("disabled",!1);
}),0==e(t+" .unselected").has("option").length?(e(t+" .atr").prop("disabled",!0),e(t+" .str").prop("disabled",!0)):e(t+" .atr").prop("disabled",!1),0==e(t+" .selected").has("option").length?(e(t+" .atl").prop("disabled",!0),e(t+" .stl").prop("disabled",!0)):e(t+" .atl").prop("disabled",!1)}e.fn.DualListBox=function(i,a){return this.each(function(){var s={element:e(this).context,uri:"local.json",value:"id",text:"name",title:"Example",json:!0,timeout:500,horizontal:!1,textLength:45,moveAllBtn:!0,maxAllBtn:500,selectClass:"form-control",warning:"Are you sure you want to move this many items? Doing so can cause your browser to become unresponsive."},o={element:e(this).context,uri:e(this).data("source"),value:e(this).data("value"),text:e(this).data("text"),title:e(this).data("title"),json:e(this).data("json"),timeout:e(this).data("timeout"),horizontal:e(this).data("horizontal"),textLength:e(this).data("textLength"),moveAllBtn:e(this).data("moveAllBtn"),maxAllBtn:e(this).data("maxAllBtn"),selectClass:e(this).data("selectClass")},r=e.extend({},s,o,i);e.each(r,function(e,t){if(void 0===t||null===t)throw"DualListBox: "+e+" is undefined."}),r.parent="dual-list-box-"+r.title,r.parentElement="#"+r.parent,a=e.extend([{}],a),r.json?t(r,a):n(r)})},e.fn.filterByText=function(t,i,n){return this.each(function(){var s=this,o=[];e(s).find("option").each(function(){o.push({value:e(this).val(),text:e(this).text()})}),e(s).data("options",o),e(t).bind("change keyup",function(){d(function(){var i=e(s).data("options"),o=e.trim(e(t).val()),r=new RegExp(o,"gi");e.each(i,function(t){null===i[t].text.match(r)?e(s).find(e('option[value="'+i[t].value+'"]')).hide():e(s).find(e('option[value="'+i[t].value+'"]')).show()}),a(n)},i)})})},e.fn.isVisible=function(){return!("hidden"==e(this).css("visibility")||"none"==e(this).css("display"))},e.fn.sortOptions=function(){return this.each(function(){e(this).append(e(this).find("option").remove().sort(function(t,i){var n=e(t).text(),a=e(i).text();return n>a?1:a>n?-1:0}))})};var d=function(){var e=0;return function(t,i){clearTimeout(e),e=setTimeout(t,i)}}()}(jQuery),$(document).ready(function(){$("#js-area-dual-box").DualListBox()}),function(e){window.NestedFormEvents=function(){this.addFields=e.proxy(this.addFields,this),this.removeFields=e.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(t){var i=t.currentTarget,n=e(i).data("association"),a=e("#"+e(i).data("blueprint-id")),s=a.data("blueprint"),o=(e(i).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(o)for(var r=o.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=o.match(/[0-9]+/g)||[],c=0;c<r.length;c++)l[c]&&(s=s.replace(new RegExp("(_"+r[c]+")_.+?_","g"),"$1_"+l[c]+"_"),s=s.replace(new RegExp("(\\["+r[c]+"\\])\\[.+?\\]","g"),"$1["+l[c]+"]"));var u=new RegExp("new_"+n,"g"),d=this.newId();s=e.trim(s.replace(u,d));var h=this.insertFields(s,n,i);return h.trigger({type:"nested:fieldAdded",field:h}).trigger({type:"nested:fieldAdded:"+n,field:h}),!1},newId:function(){return(new Date).getTime()},insertFields:function(t,i,n){var a=e(n).data("target");return a?e(t).appendTo(e(a)):e(t).insertBefore(n)},removeFields:function(t){var i=e(t.currentTarget),n=i.data("association"),a=i.prev("input[type=hidden]");a.val("1");var s=i.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+n,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,e(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(e){e.fn.closestChild=function(t){if(t&&""!=t){var i=[];for(i.push(this);i.length>0;)for(var n=i.shift(),a=n.children(),s=0;s<a.length;++s){var o=e(a[s]);if(o.is(t))return o;i.push(o)}}return e()}}(jQuery),!function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],e):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=e(window.blueimp.helper||window.jQuery))}(function(e){"use strict";function t(e,i){return void 0===document.body.style.maxHeight?null:this&&this.options===t.prototype.options?e&&e.length?(this.list=e,this.num=e.length,this.initOptions(i),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",e):new t(e,i)}return e.extend(t.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",srcsetProperty:"urlset",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(t){function i(){var e,i,n=a.transition;document.body.appendChild(t),n&&(e=n.name.slice(0,-9)+"ransform",void 0!==t.style[e]&&(t.style[e]="translateZ(0)",i=window.getComputedStyle(t).getPropertyValue(n.prefix+"transform"),a.transform={prefix:n.prefix,name:e,translate:!0,translateZ:!!i&&"none"!==i})),void 0!==t.style.backgroundSize&&(a.backgroundSize={},t.style.backgroundSize="contain",a.backgroundSize.contain="contain"===window.getComputedStyle(t).getPropertyValue("background-size"),t.style.backgroundSize="cover",a.backgroundSize.cover="cover"===window.getComputedStyle(t).getPropertyValue("background-size")),document.body.removeChild(t)}var n,a={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},s={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};for(n in s)if(s.hasOwnProperty(n)&&void 0!==t.style[n]){a.transition=s[n],a.transition.name=n;break}return document.body?i():e(document).on("DOMContentLoaded",i),a}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()!==!1&&(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(e,t){window.clearTimeout(this.timeout);var i,n,a,s=this.index;if(s!==e&&1!==this.num){if(t||(t=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(e=this.circle(e)),i=Math.abs(s-e)/(s-e),this.options.continuous&&(n=i,i=-this.positions[this.circle(e)]/this.slideWidth,i!==n&&(e=-i*this.num+e)),a=Math.abs(s-e)-1;a;)a-=1,this.move(this.circle((e>s?e:s)-a-1),this.slideWidth*i,0);e=this.circle(e),this.move(s,this.slideWidth*i,t),this.move(e,0,t),this.options.continuous&&this.move(this.circle(e-i),-(this.slideWidth*i),0)}else e=this.circle(e),this.animate(s*-this.slideWidth,e*-this.slideWidth,t);this.onslide(e)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(e){var t=this;window.clearTimeout(this.timeout),this.interval=e||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(e,i){t.animationFrameId=t.requestAnimationFrame.call(window,function(){t.slide(e,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(e){var t;for(e.concat||(e=Array.prototype.slice.call(e)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(e),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),t=this.num-e.length;t<this.num;t+=1)this.addSlide(t),this.positionSlide(t);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var e=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(e.displayClass).removeClass(e.singleClass).removeClass(e.leftEdgeClass).removeClass(e.rightEdgeClass),e.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){function e(i){i.target===t.container[0]&&(t.container.off(t.support.transition.end,e),t.handleClose())}var t=this;this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,e),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(e){return(this.num+e%this.num)%this.num},move:function(e,t,i){this.translateX(e,t,i),this.positions[e]=t},translate:function(e,t,i,n){var a=this.slides[e].style,s=this.support.transition,o=this.support.transform;a[s.name+"Duration"]=n+"ms",a[o.name]="translate("+t+"px, "+i+"px)"+(o.translateZ?" translateZ(0)":"")},translateX:function(e,t,i){this.translate(e,t,0,i)},translateY:function(e,t,i){this.translate(e,0,t,i)},animate:function(e,t,i){if(!i)return void(this.slidesContainer[0].style.left=t+"px");var n=this,a=(new Date).getTime(),s=window.setInterval(function(){var o=(new Date).getTime()-a;return o>i?(n.slidesContainer[0].style.left=t+"px",n.ontransitionend(),void window.clearInterval(s)):void(n.slidesContainer[0].style.left=(t-e)*(Math.floor(o/i*100)/100)+e+"px")},4)},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(e){e.which&&1===e.which&&"VIDEO"!==e.target.nodeName&&(e.preventDefault(),(e.originalEvent||e).touches=[{pageX:e.pageX,pageY:e.pageY}],this.ontouchstart(e))},onmousemove:function(e){this.touchStart&&((e.originalEvent||e).touches=[{pageX:e.pageX,pageY:e.pageY}],this.ontouchmove(e))},onmouseup:function(e){this.touchStart&&(this.ontouchend(e),delete this.touchStart)},onmouseout:function(t){if(this.touchStart){var i=t.target,n=t.relatedTarget;n&&(n===i||e.contains(i,n))||this.onmouseup(t)}},ontouchstart:function(e){this.options.stopTouchEventsPropagation&&this.stopPropagation(e);var t=(e.originalEvent||e).touches[0];this.touchStart={x:t.pageX,y:t.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(e){this.options.stopTouchEventsPropagation&&this.stopPropagation(e);var t,i,n=(e.originalEvent||e).touches[0],a=(e.originalEvent||e).scale,s=this.index;if(!(n.length>1||a&&1!==a))if(this.options.disableScroll&&e.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},t=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(t)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(s,this.touchDelta.y+this.positions[s],0);else for(e.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(s+1),s,this.circle(s-1)]:(this.touchDelta.x=t/=!s&&t>0||s===this.num-1&&0>t?Math.abs(t)/this.slideWidth+1:1,i=[s],s&&i.push(s-1),s<this.num-1&&i.unshift(s+1));i.length;)s=i.pop(),this.translateX(s,t+this.positions[s],0)},ontouchend:function(e){this.options.stopTouchEventsPropagation&&this.stopPropagation(e);var t,i,n,a,s,o=this.index,r=this.options.transitionSpeed,l=this.slideWidth,c=Number(Date.now()-this.touchStart.time)<250,u=c&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>l/2,d=!o&&this.touchDelta.x>0||o===this.num-1&&this.touchDelta.x<0,h=!u&&this.options.closeOnSwipeUpOrDown&&(c&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(d=!1),t=this.touchDelta.x<0?-1:1,this.isScrolling?h?this.close():this.translateY(o,0,r):u&&!d?(i=o+t,n=o-t,a=l*t,s=-l*t,this.options.continuous?(this.move(this.circle(i),a,0),this.move(this.circle(o-2*t),s,0)):i>=0&&i<this.num&&this.move(i,a,0),this.move(o,this.positions[o]+a,r),this.move(this.circle(n),this.positions[this.circle(n)]+a,r),o=this.circle(n),this.onslide(o)):this.options.continuous?(this.move(this.circle(o-1),-l,r),this.move(o,0,r),this.move(this.circle(o+1),l,r)):(o&&this.move(o-1,-l,r),this.move(o,0,r),o<this.num-1&&this.move(o+1,l,r))},ontouchcancel:function(e){this.touchStart&&(this.ontouchend(e),delete this.touchStart)},ontransitionend:function(e){var t=this.slides[this.index];e&&t!==e.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,t]))},oncomplete:function(t){var i,n=t.target||t.srcElement,a=n&&n.parentNode;n&&a&&(i=this.getNodeIndex(a),e(a).removeClass(this.options.slideLoadingClass),"error"===t.type?(e(a).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,n.clientHeight>this.container[0].clientHeight&&(n.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===a&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,a]))},onload:function(e){this.oncomplete(e)},onerror:function(e){this.oncomplete(e)},onkeydown:function(e){switch(e.which||e.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(e),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),e.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(e),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(e),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(e),this.next())}},handleClick:function(t){function i(t){return e(a).hasClass(t)||e(s).hasClass(t)}var n=this.options,a=t.target||t.srcElement,s=a.parentNode;i(n.toggleClass)?(this.preventDefault(t),this.toggleControls()):i(n.prevClass)?(this.preventDefault(t),this.prev()):i(n.nextClass)?(this.preventDefault(t),this.next()):i(n.closeClass)?(this.preventDefault(t),this.close()):i(n.playPauseClass)?(this.preventDefault(t),this.toggleSlideshow()):s===this.slidesContainer[0]?n.closeOnSlideClick?(this.preventDefault(t),this.close()):n.toggleControlsOnSlideClick&&(this.preventDefault(t),this.toggleControls()):s.parentNode&&s.parentNode===this.slidesContainer[0]&&n.toggleControlsOnSlideClick&&(this.preventDefault(t),this.toggleControls())},onclick:function(e){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(e)},updateEdgeClasses:function(e){e?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),e===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(e){this.options.continuous||this.updateEdgeClasses(e),this.loadElements(e),this.options.unloadElements&&this.unloadElements(e),this.setTitle(e)},onslide:function(e){this.index=e,this.handleSlide(e),this.setTimeout(this.options.onslide,[e,this.slides[e]])},setTitle:function(e){var t=this.slides[e].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),t&&i[0].appendChild(document.createTextNode(t)))},setTimeout:function(e,t,i){var n=this;return e&&window.setTimeout(function(){e.apply(n,t||[])},i||0)},imageFactory:function(t,i){function n(t){if(!a){if(t={type:t.type,target:s},!s.parentNode)return r.setTimeout(n,[t]);a=!0,e(l).off("load error",n),u&&"load"===t.type&&(s.style.background='url("'+c+'") center no-repeat',s.style.backgroundSize=u),i(t)}}var a,s,o,r=this,l=this.imagePrototype.cloneNode(!1),c=t,u=this.options.stretchImages;return"string"!=typeof c&&(c=this.getItemProperty(t,this.options.urlProperty),o=this.getItemProperty(t,this.options.titleProperty)),u===!0&&(u="contain"),u=this.support.backgroundSize&&this.support.backgroundSize[u]&&u,u?s=this.elementPrototype.cloneNode(!1):(s=l,l.draggable=!1),o&&(s.title=o),e(l).on("load error",n),l.src=c,s},createElement:function(t,i){var n=t&&this.getItemProperty(t,this.options.typeProperty),a=n&&this[n.split("/")[0]+"Factory"]||this.imageFactory,s=t&&a.call(this,t,i),o=this.getItemProperty(t,this.options.srcsetProperty);return s||(s=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:s}])),o&&s.setAttribute("srcset",o),e(s).addClass(this.options.slideContentClass),s},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=e(this.slides[t]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[t]=1,e(this.slides[t]).addClass(this.options.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(e){var t,i=Math.min(this.num,2*this.options.preloadRange+1),n=e;for(t=0;i>t;t+=1)n+=t*(t%2===0?-1:1),n=this.circle(n),this.loadElement(n)},unloadElements:function(e){var t,i;for(t in this.elements)this.elements.hasOwnProperty(t)&&(i=Math.abs(e-t),i>this.options.preloadRange&&i+this.options.preloadRange<this.num&&(this.unloadSlide(t),delete this.elements[t]))},addSlide:function(e){var t=this.slidePrototype.cloneNode(!1);t.setAttribute("data-index",e),this.slidesContainer[0].appendChild(t),this.slides.push(t)},positionSlide:function(e){var t=this.slides[e];t.style.width=this.slideWidth+"px",this.support.transform&&(t.style.left=e*-this.slideWidth+"px",this.move(e,this.index>e?-this.slideWidth:this.index<e?this.slideWidth:0,0))},initSlides:function(t){var i,n;for(t||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),e(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),n=0;n<this.num;n+=1)i&&this.addSlide(n),this.positionSlide(n);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(e){var t,i;t=this.slides[e],i=t.firstChild,null!==i&&t.removeChild(i)},unloadAllSlides:function(){var e,t;for(e=0,t=this.slides.length;t>e;e++)this.unloadSlide(e)},toggleControls:function(){var e=this.options.controlsClass;this.container.hasClass(e)?this.container.removeClass(e):this.container.addClass(e)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(e){return parseInt(e.getAttribute("data-index"),10)},getNestedProperty:function(e,t){return t.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(t,i,n,a,s){var o=s||i||n||a&&parseInt(a,10);t&&e&&(e=e[o])}),e},getDataProperty:function(e,t){if(e.getAttribute){var i=e.getAttribute("data-"+t.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof i){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(i))try{return n.parseJSON(i)}catch(n){}return i}}},getItemProperty:function(e,t){var i=e[t];return void 0===i&&(i=this.getDataProperty(e,t),void 0===i&&(i=this.getNestedProperty(e,t))),i},initStartIndex:function(){var e,t=this.options.index,i=this.options.urlProperty;if(t&&"number"!=typeof t)for(e=0;e<this.num;e+=1)if(this.list[e]===t||this.getItemProperty(this.list[e],i)===this.getItemProperty(t,i)){t=e;break}this.index=this.circle(parseInt(t,10)||0)},initEventListeners:function(){function t(e){var t=i.support.transition&&i.support.transition.end===e.type?"transitionend":e.type;i["on"+t](e)}var i=this,n=this.slidesContainer;e(window).on("resize",t),e(document.body).on("keydown",t),this.container.on("click",t),this.support.touch?n.on("touchstart touchmove touchend touchcancel",t):this.options.emulateTouchEvents&&this.support.transition&&n.on("mousedown mousemove mouseup mouseout",t),this.support.transition&&n.on(this.support.transition.end,t),this.proxyListener=t},destroyEventListeners:function(){var t=this.slidesContainer,i=this.proxyListener;e(window).off("resize",i),e(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?t.off("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&this.support.transition&&t.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&t.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){function t(e){e.target===i.container[0]&&(i.container.off(i.support.transition.end,t),i.handleOpen())}var i=this;return this.container=e(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,t):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(t){this.options=e.extend({},this.options),(t&&t.carousel||this.options.carousel&&(!t||t.carousel!==!1))&&e.extend(this.options,this.carouselOptions),e.extend(this.options,t),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),t}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";e.extend(t.prototype.options,{fullScreen:!1});var i=t.prototype.initialize,n=t.prototype.close;return e.extend(t.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){i.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),n.call(this)}}),t}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";e.extend(t.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=t.prototype.initSlides,n=t.prototype.addSlide,a=t.prototype.resetSlides,s=t.prototype.handleClick,o=t.prototype.handleSlide,r=t.prototype.handleClose;return e.extend(t.prototype,{createIndicator:function(t){var i,n,a=this.indicatorPrototype.cloneNode(!1),s=this.getItemProperty(t,this.options.titleProperty),o=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(o&&(i=this.getItemProperty(t,o)),void 0===i&&(n=t.getElementsByTagName&&e(t).find("img")[0],n&&(i=n.src)),i&&(a.style.backgroundImage='url("'+i+'")')),s&&(a.title=s),a},addIndicator:function(e){if(this.indicatorContainer.length){var t=this.createIndicator(this.list[e]);t.setAttribute("data-index",e),this.indicatorContainer[0].appendChild(t),this.indicators.push(t)}},setActiveIndicator:function(t){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=e(this.indicators[t]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(e){e||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),i.call(this,e)},addSlide:function(e){n.call(this,e),this.addIndicator(e)},resetSlides:function(){a.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(e){var t=e.target||e.srcElement,i=t.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(e),this.slide(this.getNodeIndex(t));else{if(i.parentNode!==this.indicatorContainer[0])return s.call(this,e);this.preventDefault(e),this.slide(this.getNodeIndex(i))}},handleSlide:function(e){o.call(this,e),this.setActiveIndicator(e)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),r.call(this)}}),t}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";e.extend(t.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var i=t.prototype.handleSlide;return e.extend(t.prototype,{handleSlide:function(e){i.call(this,e),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(t,i,n){var a,s,o,r,l,c=this,u=this.options,d=this.elementPrototype.cloneNode(!1),h=e(d),p=[{type:"error",target:d}],f=n||document.createElement("video"),m=this.getItemProperty(t,u.urlProperty),g=this.getItemProperty(t,u.typeProperty),v=this.getItemProperty(t,u.titleProperty),y=this.getItemProperty(t,u.videoPosterProperty),b=this.getItemProperty(t,u.videoSourcesProperty);if(h.addClass(u.videoContentClass),v&&(d.title=v),f.canPlayType)if(m&&g&&f.canPlayType(g))f.src=m;else if(b)for(;b.length;)if(s=b.shift(),m=this.getItemProperty(s,u.urlProperty),g=this.getItemProperty(s,u.typeProperty),m&&g&&f.canPlayType(g)){f.src=m;break}return y&&(f.poster=y,a=this.imagePrototype.cloneNode(!1),e(a).addClass(u.toggleClass),a.src=y,a.draggable=!1,d.appendChild(a)),o=document.createElement("a"),o.setAttribute("target","_blank"),n||o.setAttribute("download",v),o.href=m,f.src&&(f.controls=!0,(n||e(f)).on("error",function(){c.setTimeout(i,p)}).on("pause",function(){f.seeking||(r=!1,h.removeClass(c.options.videoLoadingClass).removeClass(c.options.videoPlayingClass),l&&c.container.addClass(c.options.controlsClass),delete c.playingVideo,c.interval&&c.play())}).on("playing",function(){r=!1,h.removeClass(c.options.videoLoadingClass).addClass(c.options.videoPlayingClass),c.container.hasClass(c.options.controlsClass)?(l=!0,c.container.removeClass(c.options.controlsClass)):l=!1}).on("play",function(){window.clearTimeout(c.timeout),r=!0,h.addClass(c.options.videoLoadingClass),c.playingVideo=f}),e(o).on("click",function(e){c.preventDefault(e),r?f.pause():f.play()}),d.appendChild(n&&n.element||f)),d.appendChild(o),this.setTimeout(i,[{type:"load",target:d}]),d}}),t}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";if(!window.postMessage)return t;e.extend(t.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var i=t.prototype.textFactory||t.prototype.imageFactory,n=function(e,t,i,n){this.url=e,this.videoId=t,this.playerId=i,this.clickToPlay=n,this.element=document.createElement("div"),this.listeners={}},a=0;return e.extend(n.prototype,{canPlayType:function(){return!0},on:function(e,t){return this.listeners[e]=t,this},loadAPI:function(){function t(){!n&&a.playOnReady&&a.play(),n=!0}for(var i,n,a=this,s="//f.vimeocdn.com/js/froogaloop2.min.js",o=document.getElementsByTagName("script"),r=o.length;r;)if(r-=1,o[r].src===s){i=o[r];break}i||(i=document.createElement("script"),i.src=s),e(i).on("load",t),o[0].parentNode.insertBefore(i,o[0]),/loaded|complete/.test(i.readyState)&&t()},onReady:function(){var e=this;this.ready=!0,this.player.addEvent("play",function(){e.hasPlayed=!0,e.onPlaying()}),this.player.addEvent("pause",function(){e.onPause()}),this.player.addEvent("finish",function(){e.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var e=document.createElement("iframe");e.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),e.id=this.playerId,this.element.parentNode.replaceChild(e,this.element),this.element=e},play:function(){var e=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){e.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),e.extend(t.prototype,{VimeoPlayer:n,textFactory:function(e,t){var s=this.options,o=this.getItemProperty(e,s.vimeoVideoIdProperty);return o?(void 0===this.getItemProperty(e,s.urlProperty)&&(e[s.urlProperty]="//vimeo.com/"+o),a+=1,this.videoFactory(e,t,new n(s.vimeoPlayerUrl,o,s.vimeoPlayerIdPrefix+a,s.vimeoClickToPlay))):i.call(this,e,t)}}),t}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";if(!window.postMessage)return t;e.extend(t.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var i=t.prototype.textFactory||t.prototype.imageFactory,n=function(e,t,i){this.videoId=e,this.playerVars=t,this.clickToPlay=i,this.element=document.createElement("div"),
this.listeners={}};return e.extend(n.prototype,{canPlayType:function(){return!0},on:function(e,t){return this.listeners[e]=t,this},loadAPI:function(){var e,t=this,i=window.onYouTubeIframeAPIReady,n="//www.youtube.com/iframe_api",a=document.getElementsByTagName("script"),s=a.length;for(window.onYouTubeIframeAPIReady=function(){i&&i.apply(this),t.playOnReady&&t.play()};s;)if(s-=1,a[s].src===n)return;e=document.createElement("script"),e.src=n,a[0].parentNode.insertBefore(e,a[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){t.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){this.stateChange!==YT.PlayerState.PAUSED&&this.stateChange!==YT.PlayerState.ENDED||(this.listeners.pause(),delete this.playStatus)},onStateChange:function(e){switch(e.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=e.data},onError:function(e){this.listeners.error(e)},play:function(){var e=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){e.onReady()},onStateChange:function(t){e.onStateChange(t)},onError:function(t){e.onError(t)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),e.extend(t.prototype,{YouTubePlayer:n,textFactory:function(e,t){var a=this.options,s=this.getItemProperty(e,a.youTubeVideoIdProperty);return s?(void 0===this.getItemProperty(e,a.urlProperty)&&(e[a.urlProperty]="//www.youtube.com/watch?v="+s),void 0===this.getItemProperty(e,a.videoPosterProperty)&&(e[a.videoPosterProperty]="//img.youtube.com/vi/"+s+"/maxresdefault.jpg"),this.videoFactory(e,t,new n(s,a.youTubePlayerVars,a.youTubeClickToPlay))):i.call(this,e,t)}}),t}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],e):e(window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";e(document).on("click","[data-gallery]",function(i){var n=e(this).data("gallery"),a=e(n),s=a.length&&a||e(t.prototype.options.container),o={onopen:function(){s.data("gallery",this).trigger("open")},onopened:function(){s.trigger("opened")},onslide:function(){s.trigger("slide",arguments)},onslideend:function(){s.trigger("slideend",arguments)},onslidecomplete:function(){s.trigger("slidecomplete",arguments)},onclose:function(){s.trigger("close")},onclosed:function(){s.trigger("closed").removeData("gallery")}},r=e.extend(s.data(),{container:s[0],index:this,event:i},o),l=e('[data-gallery="'+n+'"]');return r.filter&&(l=l.filter(r.filter)),new t(l,r)})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";e.extend(t.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var i=t.prototype.handleSlide;return e.extend(t.prototype,{handleSlide:function(e){i.call(this,e),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(t,i,n){var a,s,o,r,l,c=this,u=this.options,d=this.elementPrototype.cloneNode(!1),h=e(d),p=[{type:"error",target:d}],f=n||document.createElement("video"),m=this.getItemProperty(t,u.urlProperty),g=this.getItemProperty(t,u.typeProperty),v=this.getItemProperty(t,u.titleProperty),y=this.getItemProperty(t,u.videoPosterProperty),b=this.getItemProperty(t,u.videoSourcesProperty);if(h.addClass(u.videoContentClass),v&&(d.title=v),f.canPlayType)if(m&&g&&f.canPlayType(g))f.src=m;else if(b)for(;b.length;)if(s=b.shift(),m=this.getItemProperty(s,u.urlProperty),g=this.getItemProperty(s,u.typeProperty),m&&g&&f.canPlayType(g)){f.src=m;break}return y&&(f.poster=y,a=this.imagePrototype.cloneNode(!1),e(a).addClass(u.toggleClass),a.src=y,a.draggable=!1,d.appendChild(a)),o=document.createElement("a"),o.setAttribute("target","_blank"),n||o.setAttribute("download",v),o.href=m,f.src&&(f.controls=!0,(n||e(f)).on("error",function(){c.setTimeout(i,p)}).on("pause",function(){f.seeking||(r=!1,h.removeClass(c.options.videoLoadingClass).removeClass(c.options.videoPlayingClass),l&&c.container.addClass(c.options.controlsClass),delete c.playingVideo,c.interval&&c.play())}).on("playing",function(){r=!1,h.removeClass(c.options.videoLoadingClass).addClass(c.options.videoPlayingClass),c.container.hasClass(c.options.controlsClass)?(l=!0,c.container.removeClass(c.options.controlsClass)):l=!1}).on("play",function(){window.clearTimeout(c.timeout),r=!0,h.addClass(c.options.videoLoadingClass),c.playingVideo=f}),e(o).on("click",function(e){c.preventDefault(e),r?f.pause():f.play()}),d.appendChild(n&&n.element||f)),d.appendChild(o),this.setTimeout(i,[{type:"load",target:d}]),d}}),t}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";if(!window.postMessage)return t;e.extend(t.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var i=t.prototype.textFactory||t.prototype.imageFactory,n=function(e,t,i){this.videoId=e,this.playerVars=t,this.clickToPlay=i,this.element=document.createElement("div"),this.listeners={}};return e.extend(n.prototype,{canPlayType:function(){return!0},on:function(e,t){return this.listeners[e]=t,this},loadAPI:function(){var e,t=this,i=window.onYouTubeIframeAPIReady,n="//www.youtube.com/iframe_api",a=document.getElementsByTagName("script"),s=a.length;for(window.onYouTubeIframeAPIReady=function(){i&&i.apply(this),t.playOnReady&&t.play()};s;)if(s-=1,a[s].src===n)return;e=document.createElement("script"),e.src=n,a[0].parentNode.insertBefore(e,a[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){t.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){this.stateChange!==YT.PlayerState.PAUSED&&this.stateChange!==YT.PlayerState.ENDED||(this.listeners.pause(),delete this.playStatus)},onStateChange:function(e){switch(e.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=e.data},onError:function(e){this.listeners.error(e)},play:function(){var e=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){e.onReady()},onStateChange:function(t){e.onStateChange(t)},onError:function(t){e.onError(t)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),e.extend(t.prototype,{YouTubePlayer:n,textFactory:function(e,t){var a=this.options,s=this.getItemProperty(e,a.youTubeVideoIdProperty);return s?(void 0===this.getItemProperty(e,a.urlProperty)&&(e[a.urlProperty]="//www.youtube.com/watch?v="+s),void 0===this.getItemProperty(e,a.videoPosterProperty)&&(e[a.videoPosterProperty]="//img.youtube.com/vi/"+s+"/maxresdefault.jpg"),this.videoFactory(e,t,new n(s,a.youTubePlayerVars,a.youTubeClickToPlay))):i.call(this,e,t)}}),t}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){"use strict";if(!window.postMessage)return t;e.extend(t.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var i=t.prototype.textFactory||t.prototype.imageFactory,n=function(e,t,i,n){this.url=e,this.videoId=t,this.playerId=i,this.clickToPlay=n,this.element=document.createElement("div"),this.listeners={}},a=0;return e.extend(n.prototype,{canPlayType:function(){return!0},on:function(e,t){return this.listeners[e]=t,this},loadAPI:function(){function t(){!n&&a.playOnReady&&a.play(),n=!0}for(var i,n,a=this,s="https://player.vimeo.com/api/player.js",o=document.getElementsByTagName("script"),r=o.length;r;)if(r-=1,o[r].src===s){i=o[r];break}i||(i=document.createElement("script"),i.src=s),e(i).on("load",t),o[0].parentNode.insertBefore(i,o[0]),/loaded|complete/.test(i.readyState)&&t()},onReady:function(){var e=this;this.ready=!0,this.player.on("play",function(){e.hasPlayed=!0,e.onPlaying()}),this.player.on("pause",function(){e.onPause()}),this.player.on("seek",function(){e.onSeek()}),this.player.on("ended",function(){e.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onSeek:function(){this.listeners.playing()},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var e=document.createElement("iframe");e.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),e.id=this.playerId,this.element.parentNode.replaceChild(e,this.element),this.element=e},play:function(){var e=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.play():(this.playOnReady=!0,window.apiLoaded?this.player||(this.insertIframe(),this.player=new Vimeo.Player(this.element),e.onReady()):(this.loadAPI(),window.apiLoaded=!0))},pause:function(){console.log("pause"),this.ready?this.player.pause():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),e.extend(t.prototype,{VimeoPlayer:n,textFactory:function(e,t){var s=this.options,o=this.getItemProperty(e,s.vimeoVideoIdProperty);return o?(void 0===this.getItemProperty(e,s.urlProperty)&&(e[s.urlProperty]="//vimeo.com/"+o),a+=1,this.videoFactory(e,t,new n(s.vimeoPlayerUrl,o,s.vimeoPlayerIdPrefix+a,s.vimeoClickToPlay))):i.call(this,e,t)}}),t}),$(document).ready(function(){function e(){$("iframe.slick-active").length>0?$(".slider-for").addClass("video-frame"):$(".slider-for").removeClass("video-frame")}function t(e){$("#user_crop_x").val(e.x),$("#user_crop_y").val(e.y),$("#user_crop_w").val(e.w),$("#user_crop_h").val(e.h),i(e)}function i(e){$("#preview").css({width:Math.round(100/e.w*$("#cropbox").width())+"px",height:Math.round(100/e.h*$("#cropbox").height())+"px",marginLeft:"-"+Math.round(100/e.w*e.x)+"px",marginTop:"-"+Math.round(100/e.h*e.y)+"px"})}video_play();var n=function(){for(var e={},t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var a=i[n].split("=");if("undefined"==typeof e[a[0]])e[a[0]]=decodeURIComponent(a[1]);else if("string"==typeof e[a[0]]){var s=[e[a[0]],decodeURIComponent(a[1])];e[a[0]]=s}else e[a[0]].push(decodeURIComponent(a[1]))}return e}(),a=function(e,t,i){if(dt_controller=$("#similar-places-js").data("controllers"),e.length>0&&t.length>0)for(var n=0;n<t.length;n++)"nil"!==t[n]&&("attractions"==dt_controller?$(i).append("<option value='"+t[n].attraction_id+"' name="+t[n].attraction_name+"' >"+t[n].attraction_name+"</option>"):"regions"==dt_controller?$(i).append("<option value='"+t[n].region_id+"' name="+t[n].region_name+"' >"+t[n].region_name+"</option>"):"countries"==dt_controller?$(i).append("<option value='"+t[n].country_id+"' name="+t[n].country_name+"' >"+t[n].country_name+"</option>"):"related_offers"==dt_controller?$(i).append("<option value='"+t[n].offer_id+"' name="+t[n].offer_name+"' >"+t[n].offer_name+"</option>"):$(i).append("<option value='"+t[n].place_id+"' name="+t[n].place_name+"' >"+t[n].place_name+"</option>"))};if($("#populate-passenger").on("click",function(){$.ajax({url:"/checkout",dataType:"json",success:function(e){$("#customer_first_name").val(e.passenger.first_name),$("#customer_last_name").val(e.passenger.last_name),$("#customer_email").val(e.passenger.email),$("#customer_phone_number").val(e.passenger.telephone),$("#customer_title").val(e.passenger.title)}})}),$(".simple_form.edit_subcategory #subcategory_category_type").on("change",function(){"subcategory"==$(this).val()?$(".subcategory").show():$(".subcategory").hide()}),$(".header__signing--sign-in").click(function(){console.log("aaaa")}),setTimeout(function(){$(".slider-for .slick-slide").each(function(){var e=$(this).find("img").attr("src");$(this).css("background-image","url("+e+")")}),$(".slider-nav .slick-slide").each(function(){var e=$(this).find("img").attr("src");$(this).css("background-image","url("+e+")")}),e(),$(".slider-for button").click(function(){e()}),$(".slick-slide.slick-active").click(function(){e()})},100),$(".js-add-places-tag").on("click",function(e){e.preventDefault(),container=$(".place_tags .controls"),element='<input class="text optional" name="place[tags][]" type="text" value="">',container.append(element)}),$("#cropbox").Jcrop({onChange:t,onSelect:t,setSelect:[0,0,500,500],aspectRatio:1}),$(".close_avatar_modal").click(function(){$("#editAvatar").removeClass("in").addClass("out"),setTimeout(function(){$("#editAvatar").hide()},200)}),"show_modal=true"==window.location.search.substring(1)&&setTimeout(function(){$("#change-location, #change-location2").click()},100),$(".small-videos-component-wrapper .single-pagination").click(function(){video_play()}),$("#shareBtn").click(function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+$(this).data("url"),"pop","width=600, height=400, scrollbars=no")}),$(".kic-item.short.currency table tr:nth-child(even),      .kic-item.short.currency table tr:nth-child(7)").addClass("col-xs-6"),""!=$(".kic-item.currency .kici-heading").data("currency")){var s=$(".kic-item.currency .kici-heading").data("currency");$(".kic-item.short.currency table tr:nth-child(6) option").each(function(){$(this).val()==s&&$(this).attr("selected",!0).change()})}if($(".kic-item.short.currency table").fadeIn(),n.video){var o=$("#"+n.video)[0];o&&(data_src=$(o).data("video-url"),$("#video-modal iframe").prop("src",data_src),$("#video-modal").modal("show"))}if("true"===n.modal&&$("#one-minute-modal").modal("show"),a($("#dual-list-box-Places"),$("#similar-places-js").data("similar"),$("[name*='places_post[place_ids][]']")),a($("#dual-list-box-stories-places"),$("#similar-places-js").data("similar"),$("[name*='places_story[place_ids][]']")),a($("#dual-list-box-stories-attractions"),$("#similar-places-js").data("similar"),$("[name*='attractions_story[attraction_ids][]']")),a($("#dual-list-box-stories-regions"),$("#similar-places-js").data("similar"),$("[name*='regions_story[region_ids][]']")),a($("#dual-list-box-offers-attractions"),$("#similar-places-js").data("similar"),$("[name*='attractions_offers[attraction_ids][]']")),a($("#dual-list-box-offers-places"),$("#similar-places-js").data("similar"),$("[name*='places_offers[place_ids][]']")),a($("#dual-list-box-offers-countries"),$("#similar-places-js").data("similar"),$("[name*='countries_offer[country_ids][]']")),a($("#dual-list-box-offers-regions"),$("#similar-places-js").data("similar"),$("[name*='regions_offers[region_ids][]']")),a($("#dual-list-box-related-offer"),$("#similar-places-js").data("similar"),$("[name*='related_offer[related_offer_ids][]']")),$("#dual-list-box-stories-countries").length>0){var r=($("#dual-list-box-stories-countries"),$("#similar-countries-js").data("similar")),l=$("[name*='countries_story[country_ids][]']");if(r.length>0)for(var c=0;c<r.length;c++)"nil"!==r[c]&&$(l).append("<option value='"+r[c].country_id+"' name="+r[c].country_name+"' >"+r[c].country_name+"</option>")}if($("#dual-list-box-Countries").length>0){var r=($("#dual-list-box-Countries"),$("#similar-countries-js").data("similar")),l=$("[name*='countries_post[country_ids][]']");if(r.length>0)for(var c=0;c<r.length;c++)"nil"!==r[c]&&$(l).append("<option value='"+r[c].country_id+"' name="+r[c].country_name+"' >"+r[c].country_name+"</option>")}if($("#dual-list-box-Destinations").length>0){console.log("Similar Places");var r=($("#dual-list-box-Destinations"),$("#similar-places-js").data("similar")),l=$("[name*='similar_place[similar_place_ids][]']");if(r.length>0)for(var c=0;c<r.length;c++)"nil"!==r[c]&&$(l).append("<option value='"+r[c].place_id+"' name="+r[c].place_name+"' >"+r[c].place_name+"</option>")}$("#place_is_area").length>0&&($("#place_is_area").is(":checked")&&($(".js-primary-category").hide(),$(".js-special-requirements").hide()),$("#place_special_requirements").length>0?($("#special-requirements-box").prop("checked",!0),$(".js-special-requirements").show()):$(".js-special-requirements").hide(),$("#place_is_area").change(function(){$("#place_is_area").is(":checked")?$(".js-primary-category").hide():$(".js-primary-category").show()}),$("#special-requirements-box").change(function(){$("#special-requirements-box").is(":checked")?$(".js-special-requirements").show():($(".js-special-requirements").hide(),$("#place_special_requirements").val(""))}));var u=$("[data-action='onload']").data("controller");$(function(){$("input[type=radio][name=parentable_chose]").change(function(){id_chosen=$(this).attr("id"),"parentable_chose_country"==id_chosen?(document.getElementById("chosen_country").style.display="",document.getElementById("chosen_region").style.display="none",document.getElementById("chosen_place").style.display="none","attractions"==u&&(document.getElementById("chosen_attraction").style.display="none"),"country"==$(this).val()&&($(".no_parent_select").prop("disabled",!0),"regions"==u?($(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Country"),$(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Country"),$("#chosen_region").find("select").val("")):($("#chosen_place").find("select").prop("disabled",!1).val(""),$("#chosen_region").find("select").prop("disabled",!1).val(""),$("#chosen_attraction").find("select").prop("disabled",!1).val(""),$("#chosen_country").find("select").prop("disabled",!1).val(""),$(".place_parent_attributes_parentable_type_place").prop("disabled",!1).val("Country"),$(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Country"),$(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Country"),"attractions"==u&&$(".place_parent_attributes_parentable_type_attraction").prop("disabled",!1).val("Country")))):"parentable_chose_region"==id_chosen?($(".no_parent_select").prop("disabled",!0),"regions"==u?document.getElementById("chosen_region").style.display="":"countries"==u?document.getElementById("chosen_region").style.display="":(document.getElementById("chosen_region").style.display="",document.getElementById("chosen_place").style.display="none",document.getElementById("chosen_country").style.display="none","attractions"==u&&(document.getElementById("chosen_attraction").style.display="none")),"region"==$(this).val()&&("regions"==u?($(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Region"),$(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Region"),$("#chosen_country").find("select").val("").prop("disabled",!1),$("#chosen_region").find("select").prop("disabled",!1)):"countries"==u?($("#chosen_region").find("select").prop("disabled",!1).val(""),$(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Region")):($("#chosen_place").find("select").prop("disabled",!1).val(""),$("#chosen_country").find("select").prop("disabled",!1).val(""),$("#chosen_attraction").find("select").prop("disabled",!1).val(""),$("#chosen_region").find("select").prop("disabled",!1).val(""),$(".place_parent_attributes_parentable_type_place").prop("disabled",!1).val("Region"),$(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Region"),$(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Region"),"attractions"==u&&$(".place_parent_attributes_parentable_type_attraction").prop("disabled",!1).val("Region")))):"parentable_chose_place"==id_chosen?(document.getElementById("chosen_place").style.display="",document.getElementById("chosen_region").style.display="none",document.getElementById("chosen_country").style.display="none",$(".no_parent_select").prop("disabled",!0),"attractions"==u&&(document.getElementById("chosen_attraction").style.display="none"),"place"==$(this).val()&&($("#chosen_country").find("select").prop("disabled",!1).val(""),$("#chosen_region").find("select").prop("disabled",!1).val(""),$("#chosen_attraction").find("select").prop("disabled",!1).val(""),$("#chosen_place").find("select").prop("disabled",!1).val(""),$(".place_parent_attributes_parentable_type_place").prop("disabled",!1).val("Place"),$(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Place"),$(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Place"),"attractions"==u&&$(".place_parent_attributes_parentable_type_attraction").prop("disabled",!1).val("Place"))):"parentable_chose_attraction"==id_chosen?(document.getElementById("chosen_attraction").style.display="",document.getElementById("chosen_place").style.display="none",document.getElementById("chosen_region").style.display="none",document.getElementById("chosen_country").style.display="none",$(".no_parent_select").prop("disabled",!0),"attraction"==$(this).val()&&($("#chosen_country").find("select").prop("disabled",!1).val(""),$("#chosen_region").find("select").prop("disabled",!1).val(""),$("#chosen_place").find("select").prop("disabled",!1).val(""),$("#chosen_attraction").find("select").prop("disabled",!1).val(""),$(".place_parent_attributes_parentable_type_place").prop("disabled",!1).val("Attraction"),$(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Attraction"),$(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Attraction"),$(".place_parent_attributes_parentable_type_attraction").prop("disabled",!1).val("Attraction"))):"parentable_chose_no_parent"==id_chosen&&($(".no_parent_select").prop("disabled",!1),"regions"==u?(document.getElementById("chosen_region").style.display="none",$("#chosen_region").find("select").prop("disabled",!0),$(".place_parent_attributes_parentable_type_region").prop("disabled",!0).val("Region")):"attractions"==u?(document.getElementById("chosen_country").style.display="none",document.getElementById("chosen_place").style.display="none",document.getElementById("chosen_attraction").style.display="none",document.getElementById("chosen_region").style.display="none",$("#chosen_country").find("select").val("").prop("disabled",!0),$("#chosen_attraction").find("select").val("").prop("disabled",!0),$("#chosen_place").find("select").val("").prop("disabled",!0),$("#chosen_region").find("select").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_country").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_region").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_attraction").val("Attraction").prop("disabled",!0),$(".place_parent_attributes_parentable_type_place").val("").prop("disabled",!0)):"places"==u?(document.getElementById("chosen_country").style.display="none",document.getElementById("chosen_place").style.display="none",document.getElementById("chosen_region").style.display="none",$("#chosen_country").find("select").prop("disabled",!0).val(""),$("#chosen_place").find("select").prop("disabled",!0).val(""),$("#chosen_region").find("select").prop("disabled",!0).val(""),$(".place_parent_attributes_parentable_type_country").prop("disabled",!0).val(""),$(".place_parent_attributes_parentable_type_region").prop("disabled",!0).val(""),$(".place_parent_attributes_parentable_type_place").prop("disabled",!0).val("Place")):"countries"==u&&(document.getElementById("chosen_region").style.display="none",$("#chosen_region").find("select").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_region").val("").prop("disabled",!0)))})}),1==$("#parentable_chose_country").is(":checked")&&(document.getElementById("chosen_country").style.display="",$(".no_parent_select").prop("disabled",!0),"regions"==u?($(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Country"),$(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Country"),$("#chosen_region").find("select").val("")):($("#chosen_place").find("select").val(""),$("#chosen_region").find("select").val(""),"attractions"==u&&$("#chosen_attraction").find("select").val(""),$(".place_parent_attributes_parentable_type_place").val("Country"),$(".place_parent_attributes_parentable_type_country").val("Country"),$(".place_parent_attributes_parentable_type_attraction").val("Country"),$(".place_parent_attributes_parentable_type_region").val("Country"))),1==$("#parentable_chose_region").is(":checked")&&(document.getElementById("chosen_region").style.display="",$(".no_parent_select").prop("disabled",!0),"regions"==u?($(".place_parent_attributes_parentable_type_region").prop("disabled",!1).val("Region"),$(".place_parent_attributes_parentable_type_country").prop("disabled",!1).val("Region"),$("#chosen_country").find("select").val("")):($("#chosen_country").find("select").val(""),$("#chosen_place").find("select").val(""),"attractions"==u&&$("#chosen_attraction").find("select").val(""),$(".place_parent_attributes_parentable_type_place").val("Region"),$(".place_parent_attributes_parentable_type_country").val("Region"),$(".place_parent_attributes_parentable_type_attraction").val("Region"),$(".place_parent_attributes_parentable_type_region").val("Region"))),1==$("#parentable_chose_place").is(":checked")&&(document.getElementById("chosen_place").style.display="",$(".no_parent_select").prop("disabled",!0),$("#chosen_country").find("select").val(""),$("#chosen_region").find("select").val(""),"attractions"==u&&$("#chosen_attraction").find("select").val(""),$(".place_parent_attributes_parentable_type_place").val("Place"),$(".place_parent_attributes_parentable_type_country").val("Place"),$(".place_parent_attributes_parentable_type_attraction").val("Place"),$(".place_parent_attributes_parentable_type_region").val("Place")),1==$("#parentable_chose_attraction").is(":checked")&&(document.getElementById("chosen_attraction").style.display="",$(".no_parent_select").prop("disabled",!0),$("#chosen_country").find("select").val(""),$("#chosen_place").find("select").val(""),$("#chosen_region").find("select").val(""),$(".place_parent_attributes_parentable_type_place").val("Attraction"),$(".place_parent_attributes_parentable_type_country").val("Attraction"),$(".place_parent_attributes_parentable_type_attraction").val("Attraction"),$(".place_parent_attributes_parentable_type_region").val("Attraction")),1==$("#parentable_chose_no_parent").is(":checked")&&($(".no_parent_select").prop("disabled",!1),"regions"==u?(document.getElementById("chosen_region").style.display="none",$("#chosen_region").find("select").prop("disabled",!0),$(".place_parent_attributes_parentable_type_region").prop("disabled",!0).val("Region")):"attractions"==u?(document.getElementById("chosen_country").style.display="none",document.getElementById("chosen_place").style.display="none",document.getElementById("chosen_attraction").style.display="none",document.getElementById("chosen_region").style.display="none",$("#chosen_country").find("select").val("").prop("disabled",!0),$("#chosen_attraction").find("select").val("").prop("disabled",!0),$("#chosen_place").find("select").val("").prop("disabled",!0),$("#chosen_region").find("select").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_country").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_region").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_attraction").val("Attraction").prop("disabled",!0),$(".place_parent_attributes_parentable_type_place").val("").prop("disabled",!0)):"places"==u?(document.getElementById("chosen_country").style.display="none",document.getElementById("chosen_place").style.display="none",document.getElementById("chosen_region").style.display="none",$("#chosen_country").find("select").prop("disabled",!0).val(""),$("#chosen_place").find("select").prop("disabled",!0).val(""),$("#chosen_region").find("select").prop("disabled",!0).val(""),$(".place_parent_attributes_parentable_type_country").prop("disabled",!0).val(""),$(".place_parent_attributes_parentable_type_region").prop("disabled",!0).val(""),$(".place_parent_attributes_parentable_type_place").prop("disabled",!0).val("Place")):"countries"==u&&(document.getElementById("chosen_region").style.display="none",$("#chosen_region").find("select").val("").prop("disabled",!0),$(".place_parent_attributes_parentable_type_region").val("").prop("disabled",!0))),$("#download-itinerary").click(function(){$("#waitMeee").waitMe({effect:"roundBounce",text:"Generating...",color:"#ff4b1a",maxSize:"",fontSize:"18px"})}),$(".dropdown-home .dropdown-menu li a").click(function(){$(".btn-selectedd:first-child").html($(this).text()+"&nbsp;&nbsp;<span class='caret'></span>"),$(".btn-selectedd:first-child").val($(this).data("value"))}),$(".search-box-bottom").on("keyup",function(){var e=$(".btn-selectedd").text().replace(/\s/g,"").toLowerCase();"within"!=e&&setTimeout(function(){$dataDes=$(".show-hide-within"),$.each($dataDes,function(){destination=$(this).data("destinations").toLowerCase(),"destinations"==e?"places"==destination||"region"==destination?$(this).css("display",""):$(this).css("display","none"):"holidays"==e?(e="offers",destination!=e&&$(this).css("display","none")):destination!=e&&$(this).css("display","none")})},700)})}),function(){var e="6cd1112100c1424a9368e441f50cb642";$.ajax({url:"//api.tripadvisor.com/api/partner/2.0/location/256522?key="+e,type:"GET",success:function(e){console.log(e)}})}(),function(){var e,t,i;i=function(){function t(t){this.$element=e(t),this.initOptions(),this.bindForm(),this.createClickHandler(),this.$element.click(this.clickHandler),this.updateDisplayValue(this.$element.text())}return t.prototype.activate=function(){return this.oldValue=this.elementHTML(),this.$element.trigger("activate.rest-in-place"),this.$element.addClass("rip-active"),this.$element.unbind("click",this.clickHandler),this.activateForm(),this.$element.trigger("ready.rest-in-place")},t.prototype.abort=function(){return this.$element.trigger("abort.rest-in-place"),this.updateDisplayValue(this.oldValue),this.$element.removeClass("rip-active").click(this.clickHandler)},t.prototype.update=function(){var e;return this.$element.trigger("update.rest-in-place"),e=this.ajax({type:"post",data:this.requestData()}),e.done(function(e){return function(t){return t?e.loadSuccessCallback(t):e.loadViaGET()}}(this)),e.fail(function(e){return function(t,i){return 200===t.status&&"parsererror"===i?e.loadViaGET():(e.$element.trigger("failure.rest-in-place",t.responseJSON),e.abort())}}(this)),this.$element.html("saving...")},t.prototype.loadViaGET=function(){var e;return e=this.ajax(),e.done(function(e){return function(t){return e.loadSuccessCallback(t)}}(this)),e.fail(function(t){return function(){return t.$element.trigger("failure.rest-in-place",e.responseJSON)}}(this))},t.prototype.activateForm=function(){return alert("The form was not properly initialized. activateForm is unbound")},t.prototype.getValue=function(){return alert("The form was not properly initialized. getValue is unbound")},t.prototype.initOptions=function(){return this.$element.parents().each(function(t){return function(i,n){return t.url=t.url||e(n).attr("data-url"),t.formType=t.formType||e(n).attr("data-formtype"),t.objectName=t.objectName||e(n).attr("data-object"),t.attributeName=t.attributeName||e(n).attr("data-attribute"),t.placeholder=t.placeholder||e(n).attr("data-placeholder")}}(this)),this.$element.parents().each(function(e){return function(t,i){var n;return(n=i.id.match(/^(\w+)_(\d+)$/i))?e.objectName=e.objectName||n[1]:void 0;
}}(this)),this.url=this.$element.attr("data-url")||this.url||document.location.pathname,this.formType=this.$element.attr("data-formtype")||this.formType||"input",this.objectName=this.$element.attr("data-object")||this.objectName,this.attributeName=this.$element.attr("data-attribute")||this.attributeName,this.placeholder=this.$element.attr("data-placeholder")||this.placeholder||""},t.prototype.bindForm=function(){return this.activateForm=t.forms[this.formType].activateForm,this.getValue=t.forms[this.formType].getValue},t.prototype.requestData=function(){var e;return e=this.getEncodedTokenAuthenticationParams(),e._method="put",e[this.objectName+"["+this.attributeName+"]"]=this.getValue(),e},t.prototype.getEncodedTokenAuthenticationParams=function(){var t,i,n;return t={},i=e("meta[name=csrf-param]").attr("content"),n=e("meta[name=csrf-token]").attr("content"),i&&n&&(t[i]=n),t},t.prototype.ajax=function(t){return null==t&&(t={}),t.url=this.url,t.dataType="json",e.ajax(t)},t.prototype.extractAttributeFromData=function(e){return this.include_root_in_json?e[this.objectName][this.attributeName]:e[this.attributeName]},t.prototype.updateDisplayValue=function(t){return e.trim(t).length<1?this.$element.html(this.placeholderHTML()):this.$element.text(t)},t.prototype.placeholderHTML=function(){return'<span class="rest-in-placeholder">'+this.placeholder+"</span>"},t.prototype.elementHTML=function(){var e;return e=this.$element.text(),e===this.placeholderHTML()&&(e=""),e},t.prototype.loadSuccessCallback=function(e){return this.updateDisplayValue(this.extractAttributeFromData(e)),this.$element.click(this.clickHandler),this.$element.removeClass("rip-active"),this.$element.trigger("success.rest-in-place",e)},t.prototype.createClickHandler=function(){return this.clickHandler=function(e){return function(){return e.activate()}}(this)},t}(),i.forms={input:{activateForm:function(){var i;return i=e.trim(this.elementHTML()),this.$element.html('<form action="javascript:void(0)" style="display:inline;">\n<input type="text" class="rest-in-place-'+this.attributeName+'" placeholder="'+this.placeholder+'">\n</form>'),this.$element.find("input").val(i),this.$element.find("input")[0].select(),this.$element.find("form").submit(function(e){return function(){return e.update(),!1}}(this)),this.$element.find("input").keyup(function(e){return function(i){return i.keyCode===t?e.abort():void 0}}(this)),this.$element.find("input").blur(function(e){return function(){return e.abort()}}(this))},getValue:function(){return this.$element.find("input").val()}},textarea:{activateForm:function(){var i;return i=e.trim(this.elementHTML()),this.$element.html('<form action="javascript:void(0)" style="display:inline;">\n<textarea class="rest-in-place-'+this.attributeName+'" placeholder="'+this.placeholder+'"></textarea>\n</form>'),this.$element.find("textarea").val(i),this.$element.find("textarea")[0].select(),this.$element.find("textarea").keyup(function(e){return function(i){return i.keyCode===t?e.abort():void 0}}(this)),this.$element.find("textarea").blur(function(e){return function(){return e.update()}}(this))},getValue:function(){return this.$element.find("textarea").val()}}},t=27,e=jQuery,i.prototype.include_root_in_json=!1,window.RestInPlaceEditor=i,e.fn.restInPlace=function(){return this.each(function(){return e(this).data("restInPlaceEditor",new i(this))}),this},e(document).on("ready page:load",function(){return e(".rest-in-place").restInPlace()})}.call(this),$(document).ready(function(){document.querySelector("#select_video_id")&&("Youtube"===$("#select_video_id option:selected").text()&&$("#vimeo-block").hide(),$("#select_video_id").on("change",function(){"Youtube"===$("#select_video_id option:selected").text()?($("#vimeo-block").hide(),$("#youtube-block").show(),$("#vimeo-id").val("")):($("#vimeo-block").show(),$("#youtube-block").hide(),$("#video_youtube_id").val(""))})),$(".edit-video").on("click",function(){var t=$(this),i=$(this).data("video-id");i>0&&$.ajax({type:"GET",url:"/videos/"+i+".json",success:function(i){$("#video-thumbnail").empty().html("<img id='video-thumbnail' class='width100' src='"+i.vimeo_thumbnail+"'>'"),e(t)}})}),$("#videoEditModal").on("hidden.bs.modal",function(){t($(this))});var e=function(e){$("#youtube-edit-id").val($(e).data("youtube-id")),$("#vimeo-edit-id").val($(e).data("vimeo-id")),$("#video_edit_priority").val($(e).data("priority")),$("#video_edit_status").val($(e).data("status")),$("#video_edit_title").val($(e).data("title")),$("#video_edit_description").val($(e).data("description")),$("#video_edit_transcript").val($(e).data("transcript")),$("#edit-video-form").get(0).setAttribute("action",$(e).data("path")),"youtube"===$(e).data("video-type")?$("#vimeo-edit-block").hide():$("#youtube-edit-block").hide()},t=function(){$("#youtube-edit-id").val(""),$("#vimeo-edit-id").val(""),$("#video_edit_priority").val(""),$("#video_edit_status").val(""),$("#video_edit_title").val(""),$("#video_edit_description").val(""),$("#video_edit_transcript").val(""),$("#vimeo-edit-block").show(),$("#youtube-edit-block").show(),$("#edit-video-form").get(0).setAttribute("action","")}}),$(window).load(function(){"product"!=$(".container").data("controller")?mapAdmin():$("#accordion .panel.panel-default").click(function(){mapAdmin()})}),$(document).ready(function(){}),function(){jQuery(function(){return $(".js-add-offers-tag").on("click",function(e){var t,i;return console.log("TAGS"),e.preventDefault(),t=$(".product_tags .controls"),i='<input class="text optional" name="product[tags][]" type="text" value="">',t.append(i)}),$(".js-add-places_visited-tag").on("click",function(e){var t,i;return e.preventDefault(),t=$(".product_places_visited .controls"),i='<input class="text optional" name="product[places_visited][]" type="text" value="">',t.append(i)}),$("#offer_attraction_ids").DualListBox({json:!1,title:"Attractions"}),$("#offer_place_ids").DualListBox({json:!1,title:"Places"}),$("#offer_country_ids").DualListBox({json:!1,title:"Countries"}),$("#offer_subcategory_ids").DualListBox({json:!1,title:"Subcategories"}),$("#offer_region_ids").DualListBox({json:!1,title:"Regions"}),$(".js-add-product-departure-dates").on("click",function(e){var t,i;return e.preventDefault(),t=$(".departure_dates .departure_datessssss"),i='<label>Month</label>&nbsp;<input class="text optional product_departure_dates_month" name="product[departure_dates][month][]" type="text" value=""> &nbsp;&nbsp; <label>Dates</label>&nbsp;<input class="text optional product_departure_dates_dates" name="product[departure_dates][dates][]" type="text" value=""><br>',t.append(i),$(".product_departure_dates_month").datepicker({format:"yyyy-mm",startView:"months",minViewMode:"months"}),$(".product_departure_dates_month").on("change",function(){var e;return e=new Date($(this).val()+"-1"),$(".product_departure_dates_dates").datepicker("setStartDate",e)})}),$(".js-edit-product-departure-dates").on("click",function(){return $(".product_departure_dates_month").datepicker({format:"yyyy-mm",startView:"months",minViewMode:"months"}),$(".product_departure_dates_month").on("change",function(){var e;return e=new Date($(this).val()+"-1"),$(".product_departure_dates_dates").datepicker("setStartDate",e)})})})}.call(this),$(window).resize(function(){responsiveModalVideo()}),$(document).ready(function(){if($("#publish-review-button").on("click",function(){$("#ReviewModal").modal("hide")}),$(".place-date").datepicker(),chooseHero(),setUpfileUpload(".file-upload",".lis-file-upload"),setUpfileUpload(".file-upload2",".lis-file-upload2"),setUpfileUpload(),setUpLoadMore(),responsiveModalVideo(),setFeaturedStory(),$("#map").length){var e=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng($(".area-content").data("lat"),$(".area-content").data("long")),zoom:13});if($("#place-opening-hours").length){opening_hours=$("#place-opening-hours"),place_id=opening_hours.data("place-id");var t=new google.maps.places.PlacesService(e),i={placeId:place_id};t.getDetails(i,function(e,t){if(t==google.maps.places.PlacesServiceStatus.OK){var i,n=new Date;if(e.opening_hours)var a=e.opening_hours.weekday_text;var s='<p class="text-center"><b>No schedule found</b></p>';if(a)for(s="",i=0;i<a.length;i++)open_now="",n.getDay()===i&&e.opening_hours.open_now===!0&&(open_now='<span class="label label-info">Open now</span>'),schedule=a[i],schedule=schedule.split(" "),s+='<div class="modal-footer">',s+='<div class="col-xs-12 col-sm-12" align="left">',s+="  <p> "+schedule.shift()+" "+open_now+"</p>",s+="  <p><b>"+schedule.join(" ")+"</b></p>",s+=" </div>",s+="</div>";modal_target=opening_hours.data("target"),$(modal_target).length&&($(modal_target).find("div.modal-footer").remove(),$(modal_target).find("div.modal-content").append(s))}})}}document.querySelector("#photoEditModal")&&($(".edit-photo").on("click",function(){var e=$(this);if("Photo"===$(this).data("type")){var t=$(this).data("photo-id");t>0&&$.ajax({type:"GET",url:"/photos/"+t+".json",success:function(i){$("#photo").empty().html("<img class='newPhoto' src='"+i.path.medium.url+"'>'"),$("#photoInfo").empty().html("<div id='photoData' data-photo-id='"+t+"'></div>"),n(e)}})}else{var t=$(this).data("photo-id");t>0&&$.ajax({type:"GET",url:"/user_photos/"+t+".json",success:function(i){$("#photo").empty().html("<img class='newPhoto' src='"+i.path.medium.url+"'>'"),$("#photoInfo").empty().html("<div id='photoData' data-photo-id='"+t+"'></div>"),n(e)}})}}),$("#photoEditModal").on("hidden.bs.modal",function(){a($(this))}),$("#photo-file").change(function(){console.log($(this).val())}));var n=function(e){$("#caption").val($(e).data("caption")).attr("name",$(e).data("instance")+"[caption]"),$("#photo-file").attr("name",$(e).data("instance")+"[path]"),"user_photo"===$(e).data("instance")?$("#credit").hide():$("#credit").val($(e).data("credit")).attr("name",$(e).data("instance")+"[credit]"),$("#alt-tag").val($(e).data("alt")).attr("name",$(e).data("instance")+"[alt_tag]"),$("#priority").val($(e).data("priority")).attr("name",$(e).data("instance")+"[priority]"),$("#status").val($(e).data("status")).attr("name",$(e).data("instance")+"[status]"),$("#edit-photo-form").get(0).setAttribute("action",$(e).data("path")),$(".newPhoto").click(function(){$("#photo-file").click()}),s()},a=function(e){"none"===$("#credit").attr("display")&&$("#credit").show(),$(e).find("#caption").val("").attr("name",""),$(e).find("#credit").val("").attr("name",""),$(e).find("#alt-tag").val("").attr("name",""),$(e).find("#photo-file").attr("name",""),$(e).find("#photo").empty(),$("#edit-photo-form").get(0).setAttribute("action",""),$("#photo-preview").attr("src","")},s=function(){$("#edit-photo-form").fileupload({add:function(e,t){if($(".newPhoto").hide(),$(".avatar-text").text("Click to change photo"),$("#submit-upload").click(function(){t.submit()}),t.files&&t.files[0]){var i=new FileReader;i.onload=function(e){$("#photo-preview").show().attr("src",e.target.result)},i.readAsDataURL(t.files[0])}}})}}),function(){"use strict";function e(t,n){function a(e,t){return function(){return e.apply(t,arguments)}}var s;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,l=0,c=o.length;c>l;l++)r[o[l]]=a(r[o[l]],r);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,i.hijacked||i,n):a.call(t,e,i,n)},t.addEventListener=function(e,i,n){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),n):a.call(t,e,i,n)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(e){s(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!t,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,a=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=n&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(n&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},e.prototype.determineEventType=function(e){return i&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;n&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,i;if(t=e.fastClickScrollParent,!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,i,s;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],n){if(s=window.getSelection(),s.rangeCount&&!s.isCollapsed)return!0;if(!a){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,o,r,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=u.tagName.toLowerCase(),"label"===r){if(t=this.findControl(u)){if(this.focus(u),i)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-o>100||n&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),n&&"select"===r||(this.targetElement=null,e.preventDefault()),!1);return n&&!a&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;i&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,n,a,s;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),a[1]>=10&&a[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(s=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],s>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction)},e.attach=function(t,i){return new e(t,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(){"use strict";function e(e){e.fn.swiper=function(t){var n;return e(this).each(function(){var e=new i(this,t);n||(n=e)}),n}}var t,i=function(e,n){function s(e){return Math.floor(e)}function o(){var e=x.params.autoplay,t=x.slides.eq(x.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||x.params.autoplay),x.autoplayTimeoutId=setTimeout(function(){x.params.loop?(x.fixLoop(),x._slideNext(),x.emit("onAutoplay",x)):x.isEnd?n.autoplayStopOnLast?x.stopAutoplay():(x._slideTo(0),x.emit("onAutoplay",x)):(x._slideNext(),x.emit("onAutoplay",x))},e)}function r(e,i){var n=t(e.target);if(!n.is(i))if("string"==typeof i)n=n.parents(i);else if(i.nodeType){var a;return n.parents().each(function(e,t){t===i&&(a=i)}),a?i:void 0}if(0!==n.length)return n[0]}function l(e,t){t=t||{};var i=window.MutationObserver||window.WebkitMutationObserver,n=new i(function(e){e.forEach(function(e){x.onResize(!0),x.emit("onObserverUpdate",x,e)})});n.observe(e,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,characterData:"undefined"==typeof t.characterData?!0:t.characterData}),x.observers.push(n)}function c(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!x.params.allowSwipeToNext&&(x.isHorizontal()&&39===t||!x.isHorizontal()&&40===t))return!1;if(!x.params.allowSwipeToPrev&&(x.isHorizontal()&&37===t||!x.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var i=!1;if(x.container.parents("."+x.params.slideClass).length>0&&0===x.container.parents("."+x.params.slideActiveClass).length)return;var n={left:window.pageXOffset,top:window.pageYOffset},a=window.innerWidth,s=window.innerHeight,o=x.container.offset();x.rtl&&(o.left=o.left-x.container[0].scrollLeft);for(var r=[[o.left,o.top],[o.left+x.width,o.top],[o.left,o.top+x.height],[o.left+x.width,o.top+x.height]],l=0;l<r.length;l++){var c=r[l];c[0]>=n.left&&c[0]<=n.left+a&&c[1]>=n.top&&c[1]<=n.top+s&&(i=!0)}if(!i)return}x.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!x.rtl||37===t&&x.rtl)&&x.slideNext(),(37===t&&!x.rtl||39===t&&x.rtl)&&x.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&x.slideNext(),38===t&&x.slidePrev())}}function u(){var e="onwheel",t=e in document;if(!t){var i=document.createElement("div");i.setAttribute(e,"return;"),t="function"==typeof i[e]}return!t&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}function d(e){e.originalEvent&&(e=e.originalEvent);var t=0,i=x.rtl?-1:1,n=h(e);if(x.params.mousewheelForceToAxis)if(x.isHorizontal()){if(!(Math.abs(n.pixelX)>Math.abs(n.pixelY)))return;t=n.pixelX*i}else{if(!(Math.abs(n.pixelY)>Math.abs(n.pixelX)))return;t=n.pixelY}else t=Math.abs(n.pixelX)>Math.abs(n.pixelY)?-n.pixelX*i:-n.pixelY;if(0!==t){if(x.params.mousewheelInvert&&(t=-t),x.params.freeMode){var a=x.getWrapperTranslate()+t*x.params.mousewheelSensitivity,s=x.isBeginning,o=x.isEnd;if(a>=x.minTranslate()&&(a=x.minTranslate()),a<=x.maxTranslate()&&(a=x.maxTranslate()),x.setWrapperTransition(0),x.setWrapperTranslate(a),x.updateProgress(),x.updateActiveIndex(),(!s&&x.isBeginning||!o&&x.isEnd)&&x.updateClasses(),x.params.freeModeSticky?(clearTimeout(x.mousewheel.timeout),x.mousewheel.timeout=setTimeout(function(){x.slideReset()},300)):x.params.lazyLoading&&x.lazy&&x.lazy.load(),x.emit("onScroll",x,e),x.params.autoplay&&x.params.autoplayDisableOnInteraction&&x.stopAutoplay(),0===a||a===x.maxTranslate())return}else{if((new window.Date).getTime()-x.mousewheel.lastScrollTime>60)if(0>t)if(x.isEnd&&!x.params.loop||x.animating){if(x.params.mousewheelReleaseOnEdges)return!0}else x.slideNext(),x.emit("onScroll",x,e);else if(x.isBeginning&&!x.params.loop||x.animating){if(x.params.mousewheelReleaseOnEdges)return!0}else x.slidePrev(),x.emit("onScroll",x,e);x.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function h(e){var t=10,i=40,n=800,a=0,s=0,o=0,r=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(a=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(a=s,s=0),o=a*t,r=s*t,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||r)&&e.deltaMode&&(1===e.deltaMode?(o*=i,r*=i):(o*=n,r*=n)),o&&!a&&(a=1>o?-1:1),r&&!s&&(s=1>r?-1:1),{spinX:a,spinY:s,pixelX:o,pixelY:r}}function p(e,i){e=t(e);var n,a,s,o=x.rtl?-1:1;n=e.attr("data-swiper-parallax")||"0",a=e.attr("data-swiper-parallax-x"),s=e.attr("data-swiper-parallax-y"),a||s?(a=a||"0",s=s||"0"):x.isHorizontal()?(a=n,s="0"):(s=n,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*i*o+"%":a*i*o+"px",s=s.indexOf("%")>=0?parseInt(s,10)*i+"%":s*i+"px",e.transform("translate3d("+a+", "+s+",0px)")}function f(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof i))return new i(e,n);var m={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},g=n&&n.virtualTranslate;n=n||{};var v={};for(var y in n)if("object"!=typeof n[y]||null===n[y]||(n[y].nodeType||n[y]===window||n[y]===document||"undefined"!=typeof Dom7&&n[y]instanceof Dom7||"undefined"!=typeof jQuery&&n[y]instanceof jQuery))v[y]=n[y];else{v[y]={};for(var b in n[y])v[y][b]=n[y][b]}for(var w in m)if("undefined"==typeof n[w])n[w]=m[w];else if("object"==typeof n[w])for(var _ in m[w])"undefined"==typeof n[w][_]&&(n[w][_]=m[w][_]);var x=this;if(x.params=n,x.originalParams=v,x.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof Dom7&&(t=Dom7),("undefined"!=typeof t||(t="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(x.$=t,x.currentBreakpoint=void 0,x.getActiveBreakpoint=function(){if(!x.params.breakpoints)return!1;var e,t=!1,i=[];for(e in x.params.breakpoints)x.params.breakpoints.hasOwnProperty(e)&&i.push(e);i.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var n=0;n<i.length;n++)e=i[n],e>=window.innerWidth&&!t&&(t=e);return t||"max"},x.setBreakpoint=function(){var e=x.getActiveBreakpoint();if(e&&x.currentBreakpoint!==e){var t=e in x.params.breakpoints?x.params.breakpoints[e]:x.originalParams,i=x.params.loop&&t.slidesPerView!==x.params.slidesPerView;for(var n in t)x.params[n]=t[n];x.currentBreakpoint=e,i&&x.destroyLoop&&x.reLoop(!0)}},x.params.breakpoints&&x.setBreakpoint(),x.container=t(e),0!==x.container.length)){if(x.container.length>1){var C=[];return x.container.each(function(){C.push(new i(this,n))}),C}x.container[0].swiper=x,x.container.data("swiper",x),x.classNames.push(x.params.containerModifierClass+x.params.direction),x.params.freeMode&&x.classNames.push(x.params.containerModifierClass+"free-mode"),x.support.flexbox||(x.classNames.push(x.params.containerModifierClass+"no-flexbox"),x.params.slidesPerColumn=1),x.params.autoHeight&&x.classNames.push(x.params.containerModifierClass+"autoheight"),(x.params.parallax||x.params.watchSlidesVisibility)&&(x.params.watchSlidesProgress=!0),x.params.touchReleaseOnEdges&&(x.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(x.params.effect)>=0&&(x.support.transforms3d?(x.params.watchSlidesProgress=!0,x.classNames.push(x.params.containerModifierClass+"3d")):x.params.effect="slide"),"slide"!==x.params.effect&&x.classNames.push(x.params.containerModifierClass+x.params.effect),"cube"===x.params.effect&&(x.params.resistanceRatio=0,x.params.slidesPerView=1,x.params.slidesPerColumn=1,x.params.slidesPerGroup=1,x.params.centeredSlides=!1,x.params.spaceBetween=0,x.params.virtualTranslate=!0,x.params.setWrapperSize=!1),"fade"!==x.params.effect&&"flip"!==x.params.effect||(x.params.slidesPerView=1,x.params.slidesPerColumn=1,x.params.slidesPerGroup=1,x.params.watchSlidesProgress=!0,x.params.spaceBetween=0,x.params.setWrapperSize=!1,"undefined"==typeof g&&(x.params.virtualTranslate=!0)),x.params.grabCursor&&x.support.touch&&(x.params.grabCursor=!1),x.wrapper=x.container.children("."+x.params.wrapperClass),x.params.pagination&&(x.paginationContainer=t(x.params.pagination),x.params.uniqueNavElements&&"string"==typeof x.params.pagination&&x.paginationContainer.length>1&&1===x.container.find(x.params.pagination).length&&(x.paginationContainer=x.container.find(x.params.pagination)),"bullets"===x.params.paginationType&&x.params.paginationClickable?x.paginationContainer.addClass(x.params.paginationModifierClass+"clickable"):x.params.paginationClickable=!1,x.paginationContainer.addClass(x.params.paginationModifierClass+x.params.paginationType)),(x.params.nextButton||x.params.prevButton)&&(x.params.nextButton&&(x.nextButton=t(x.params.nextButton),x.params.uniqueNavElements&&"string"==typeof x.params.nextButton&&x.nextButton.length>1&&1===x.container.find(x.params.nextButton).length&&(x.nextButton=x.container.find(x.params.nextButton))),x.params.prevButton&&(x.prevButton=t(x.params.prevButton),x.params.uniqueNavElements&&"string"==typeof x.params.prevButton&&x.prevButton.length>1&&1===x.container.find(x.params.prevButton).length&&(x.prevButton=x.container.find(x.params.prevButton)))),x.isHorizontal=function(){return"horizontal"===x.params.direction},x.rtl=x.isHorizontal()&&("rtl"===x.container[0].dir.toLowerCase()||"rtl"===x.container.css("direction")),x.rtl&&x.classNames.push(x.params.containerModifierClass+"rtl"),x.rtl&&(x.wrongRTL="-webkit-box"===x.wrapper.css("display")),x.params.slidesPerColumn>1&&x.classNames.push(x.params.containerModifierClass+"multirow"),x.device.android&&x.classNames.push(x.params.containerModifierClass+"android"),x.container.addClass(x.classNames.join(" ")),x.translate=0,x.progress=0,x.velocity=0,x.lockSwipeToNext=function(){x.params.allowSwipeToNext=!1,x.params.allowSwipeToPrev===!1&&x.params.grabCursor&&x.unsetGrabCursor()},x.lockSwipeToPrev=function(){x.params.allowSwipeToPrev=!1,x.params.allowSwipeToNext===!1&&x.params.grabCursor&&x.unsetGrabCursor()},x.lockSwipes=function(){x.params.allowSwipeToNext=x.params.allowSwipeToPrev=!1,x.params.grabCursor&&x.unsetGrabCursor();
},x.unlockSwipeToNext=function(){x.params.allowSwipeToNext=!0,x.params.allowSwipeToPrev===!0&&x.params.grabCursor&&x.setGrabCursor()},x.unlockSwipeToPrev=function(){x.params.allowSwipeToPrev=!0,x.params.allowSwipeToNext===!0&&x.params.grabCursor&&x.setGrabCursor()},x.unlockSwipes=function(){x.params.allowSwipeToNext=x.params.allowSwipeToPrev=!0,x.params.grabCursor&&x.setGrabCursor()},x.setGrabCursor=function(e){x.container[0].style.cursor="move",x.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",x.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",x.container[0].style.cursor=e?"grabbing":"grab"},x.unsetGrabCursor=function(){x.container[0].style.cursor=""},x.params.grabCursor&&x.setGrabCursor(),x.imagesToLoad=[],x.imagesLoaded=0,x.loadImage=function(e,t,i,n,a,s){function o(){s&&s()}var r;e.complete&&a?o():t?(r=new window.Image,r.onload=o,r.onerror=o,n&&(r.sizes=n),i&&(r.srcset=i),t&&(r.src=t)):o()},x.preloadImages=function(){function e(){"undefined"!=typeof x&&null!==x&&(void 0!==x.imagesLoaded&&x.imagesLoaded++,x.imagesLoaded===x.imagesToLoad.length&&(x.params.updateOnImagesReady&&x.update(),x.emit("onImagesReady",x)))}x.imagesToLoad=x.container.find("img");for(var t=0;t<x.imagesToLoad.length;t++)x.loadImage(x.imagesToLoad[t],x.imagesToLoad[t].currentSrc||x.imagesToLoad[t].getAttribute("src"),x.imagesToLoad[t].srcset||x.imagesToLoad[t].getAttribute("srcset"),x.imagesToLoad[t].sizes||x.imagesToLoad[t].getAttribute("sizes"),!0,e)},x.autoplayTimeoutId=void 0,x.autoplaying=!1,x.autoplayPaused=!1,x.startAutoplay=function(){return"undefined"!=typeof x.autoplayTimeoutId?!1:x.params.autoplay?x.autoplaying?!1:(x.autoplaying=!0,x.emit("onAutoplayStart",x),void o()):!1},x.stopAutoplay=function(){x.autoplayTimeoutId&&(x.autoplayTimeoutId&&clearTimeout(x.autoplayTimeoutId),x.autoplaying=!1,x.autoplayTimeoutId=void 0,x.emit("onAutoplayStop",x))},x.pauseAutoplay=function(e){x.autoplayPaused||(x.autoplayTimeoutId&&clearTimeout(x.autoplayTimeoutId),x.autoplayPaused=!0,0===e?(x.autoplayPaused=!1,o()):x.wrapper.transitionEnd(function(){x&&(x.autoplayPaused=!1,x.autoplaying?o():x.stopAutoplay())}))},x.minTranslate=function(){return-x.snapGrid[0]},x.maxTranslate=function(){return-x.snapGrid[x.snapGrid.length-1]},x.updateAutoHeight=function(){var e=[],t=0;if("auto"!==x.params.slidesPerView&&x.params.slidesPerView>1)for(a=0;a<Math.ceil(x.params.slidesPerView);a++){var i=x.activeIndex+a;if(i>x.slides.length)break;e.push(x.slides.eq(i)[0])}else e.push(x.slides.eq(x.activeIndex)[0]);for(a=0;a<e.length;a++)if("undefined"!=typeof e[a]){var n=e[a].offsetHeight;t=n>t?n:t}t&&x.wrapper.css("height",t+"px")},x.updateContainerSize=function(){var e,t;e="undefined"!=typeof x.params.width?x.params.width:x.container[0].clientWidth,t="undefined"!=typeof x.params.height?x.params.height:x.container[0].clientHeight,0===e&&x.isHorizontal()||0===t&&!x.isHorizontal()||(e=e-parseInt(x.container.css("padding-left"),10)-parseInt(x.container.css("padding-right"),10),t=t-parseInt(x.container.css("padding-top"),10)-parseInt(x.container.css("padding-bottom"),10),x.width=e,x.height=t,x.size=x.isHorizontal()?x.width:x.height)},x.updateSlidesSize=function(){x.slides=x.wrapper.children("."+x.params.slideClass),x.snapGrid=[],x.slidesGrid=[],x.slidesSizesGrid=[];var e,t=x.params.spaceBetween,i=-x.params.slidesOffsetBefore,n=0,a=0;if("undefined"!=typeof x.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*x.size),x.virtualSize=-t,x.rtl?x.slides.css({marginLeft:"",marginTop:""}):x.slides.css({marginRight:"",marginBottom:""});var o;x.params.slidesPerColumn>1&&(o=Math.floor(x.slides.length/x.params.slidesPerColumn)===x.slides.length/x.params.slidesPerColumn?x.slides.length:Math.ceil(x.slides.length/x.params.slidesPerColumn)*x.params.slidesPerColumn,"auto"!==x.params.slidesPerView&&"row"===x.params.slidesPerColumnFill&&(o=Math.max(o,x.params.slidesPerView*x.params.slidesPerColumn)));var r,l=x.params.slidesPerColumn,c=o/l,u=c-(x.params.slidesPerColumn*c-x.slides.length);for(e=0;e<x.slides.length;e++){r=0;var d=x.slides.eq(e);if(x.params.slidesPerColumn>1){var h,p,f;"column"===x.params.slidesPerColumnFill?(p=Math.floor(e/l),f=e-p*l,(p>u||p===u&&f===l-1)&&++f>=l&&(f=0,p++),h=p+f*o/l,d.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):(f=Math.floor(e/c),p=e-f*c),d.css("margin-"+(x.isHorizontal()?"top":"left"),0!==f&&x.params.spaceBetween&&x.params.spaceBetween+"px").attr("data-swiper-column",p).attr("data-swiper-row",f)}"none"!==d.css("display")&&("auto"===x.params.slidesPerView?(r=x.isHorizontal()?d.outerWidth(!0):d.outerHeight(!0),x.params.roundLengths&&(r=s(r))):(r=(x.size-(x.params.slidesPerView-1)*t)/x.params.slidesPerView,x.params.roundLengths&&(r=s(r)),x.isHorizontal()?x.slides[e].style.width=r+"px":x.slides[e].style.height=r+"px"),x.slides[e].swiperSlideSize=r,x.slidesSizesGrid.push(r),x.params.centeredSlides?(i=i+r/2+n/2+t,0===e&&(i=i-x.size/2-t),Math.abs(i)<.001&&(i=0),a%x.params.slidesPerGroup===0&&x.snapGrid.push(i),x.slidesGrid.push(i)):(a%x.params.slidesPerGroup===0&&x.snapGrid.push(i),x.slidesGrid.push(i),i=i+r+t),x.virtualSize+=r+t,n=r,a++)}x.virtualSize=Math.max(x.virtualSize,x.size)+x.params.slidesOffsetAfter;var m;if(x.rtl&&x.wrongRTL&&("slide"===x.params.effect||"coverflow"===x.params.effect)&&x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"}),x.support.flexbox&&!x.params.setWrapperSize||(x.isHorizontal()?x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"}):x.wrapper.css({height:x.virtualSize+x.params.spaceBetween+"px"})),x.params.slidesPerColumn>1&&(x.virtualSize=(r+x.params.spaceBetween)*o,x.virtualSize=Math.ceil(x.virtualSize/x.params.slidesPerColumn)-x.params.spaceBetween,x.isHorizontal()?x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"}):x.wrapper.css({height:x.virtualSize+x.params.spaceBetween+"px"}),x.params.centeredSlides)){for(m=[],e=0;e<x.snapGrid.length;e++)x.snapGrid[e]<x.virtualSize+x.snapGrid[0]&&m.push(x.snapGrid[e]);x.snapGrid=m}if(!x.params.centeredSlides){for(m=[],e=0;e<x.snapGrid.length;e++)x.snapGrid[e]<=x.virtualSize-x.size&&m.push(x.snapGrid[e]);x.snapGrid=m,Math.floor(x.virtualSize-x.size)-Math.floor(x.snapGrid[x.snapGrid.length-1])>1&&x.snapGrid.push(x.virtualSize-x.size)}0===x.snapGrid.length&&(x.snapGrid=[0]),0!==x.params.spaceBetween&&(x.isHorizontal()?x.rtl?x.slides.css({marginLeft:t+"px"}):x.slides.css({marginRight:t+"px"}):x.slides.css({marginBottom:t+"px"})),x.params.watchSlidesProgress&&x.updateSlidesOffset()}},x.updateSlidesOffset=function(){for(var e=0;e<x.slides.length;e++)x.slides[e].swiperSlideOffset=x.isHorizontal()?x.slides[e].offsetLeft:x.slides[e].offsetTop},x.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=x.translate||0),0!==x.slides.length){"undefined"==typeof x.slides[0].swiperSlideOffset&&x.updateSlidesOffset();var t=-e;x.rtl&&(t=e),x.slides.removeClass(x.params.slideVisibleClass);for(var i=0;i<x.slides.length;i++){var n=x.slides[i],a=(t+(x.params.centeredSlides?x.minTranslate():0)-n.swiperSlideOffset)/(n.swiperSlideSize+x.params.spaceBetween);if(x.params.watchSlidesVisibility){var s=-(t-n.swiperSlideOffset),o=s+x.slidesSizesGrid[i],r=s>=0&&s<x.size||o>0&&o<=x.size||0>=s&&o>=x.size;r&&x.slides.eq(i).addClass(x.params.slideVisibleClass)}n.progress=x.rtl?-a:a}}},x.updateProgress=function(e){"undefined"==typeof e&&(e=x.translate||0);var t=x.maxTranslate()-x.minTranslate(),i=x.isBeginning,n=x.isEnd;0===t?(x.progress=0,x.isBeginning=x.isEnd=!0):(x.progress=(e-x.minTranslate())/t,x.isBeginning=x.progress<=0,x.isEnd=x.progress>=1),x.isBeginning&&!i&&x.emit("onReachBeginning",x),x.isEnd&&!n&&x.emit("onReachEnd",x),x.params.watchSlidesProgress&&x.updateSlidesProgress(e),x.emit("onProgress",x,x.progress)},x.updateActiveIndex=function(){var e,t,i,n=x.rtl?x.translate:-x.translate;for(t=0;t<x.slidesGrid.length;t++)"undefined"!=typeof x.slidesGrid[t+1]?n>=x.slidesGrid[t]&&n<x.slidesGrid[t+1]-(x.slidesGrid[t+1]-x.slidesGrid[t])/2?e=t:n>=x.slidesGrid[t]&&n<x.slidesGrid[t+1]&&(e=t+1):n>=x.slidesGrid[t]&&(e=t);x.params.normalizeSlideIndex&&(0>e||"undefined"==typeof e)&&(e=0),i=Math.floor(e/x.params.slidesPerGroup),i>=x.snapGrid.length&&(i=x.snapGrid.length-1),e!==x.activeIndex&&(x.snapIndex=i,x.previousIndex=x.activeIndex,x.activeIndex=e,x.updateClasses(),x.updateRealIndex())},x.updateRealIndex=function(){x.realIndex=x.slides.eq(x.activeIndex).attr("data-swiper-slide-index")||x.activeIndex},x.updateClasses=function(){x.slides.removeClass(x.params.slideActiveClass+" "+x.params.slideNextClass+" "+x.params.slidePrevClass+" "+x.params.slideDuplicateActiveClass+" "+x.params.slideDuplicateNextClass+" "+x.params.slideDuplicatePrevClass);var e=x.slides.eq(x.activeIndex);e.addClass(x.params.slideActiveClass),n.loop&&(e.hasClass(x.params.slideDuplicateClass)?x.wrapper.children("."+x.params.slideClass+":not(."+x.params.slideDuplicateClass+')[data-swiper-slide-index="'+x.realIndex+'"]').addClass(x.params.slideDuplicateActiveClass):x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+x.realIndex+'"]').addClass(x.params.slideDuplicateActiveClass));var i=e.next("."+x.params.slideClass).addClass(x.params.slideNextClass);x.params.loop&&0===i.length&&(i=x.slides.eq(0),i.addClass(x.params.slideNextClass));var a=e.prev("."+x.params.slideClass).addClass(x.params.slidePrevClass);if(x.params.loop&&0===a.length&&(a=x.slides.eq(-1),a.addClass(x.params.slidePrevClass)),n.loop&&(i.hasClass(x.params.slideDuplicateClass)?x.wrapper.children("."+x.params.slideClass+":not(."+x.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicateNextClass):x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicateNextClass),a.hasClass(x.params.slideDuplicateClass)?x.wrapper.children("."+x.params.slideClass+":not(."+x.params.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicatePrevClass):x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(x.params.slideDuplicatePrevClass)),x.paginationContainer&&x.paginationContainer.length>0){var s,o=x.params.loop?Math.ceil((x.slides.length-2*x.loopedSlides)/x.params.slidesPerGroup):x.snapGrid.length;if(x.params.loop?(s=Math.ceil((x.activeIndex-x.loopedSlides)/x.params.slidesPerGroup),s>x.slides.length-1-2*x.loopedSlides&&(s-=x.slides.length-2*x.loopedSlides),s>o-1&&(s-=o),0>s&&"bullets"!==x.params.paginationType&&(s=o+s)):s="undefined"!=typeof x.snapIndex?x.snapIndex:x.activeIndex||0,"bullets"===x.params.paginationType&&x.bullets&&x.bullets.length>0&&(x.bullets.removeClass(x.params.bulletActiveClass),x.paginationContainer.length>1?x.bullets.each(function(){t(this).index()===s&&t(this).addClass(x.params.bulletActiveClass)}):x.bullets.eq(s).addClass(x.params.bulletActiveClass)),"fraction"===x.params.paginationType&&(x.paginationContainer.find("."+x.params.paginationCurrentClass).text(s+1),x.paginationContainer.find("."+x.params.paginationTotalClass).text(o)),"progress"===x.params.paginationType){var r=(s+1)/o,l=r,c=1;x.isHorizontal()||(c=r,l=1),x.paginationContainer.find("."+x.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+c+")").transition(x.params.speed)}"custom"===x.params.paginationType&&x.params.paginationCustomRender&&(x.paginationContainer.html(x.params.paginationCustomRender(x,s+1,o)),x.emit("onPaginationRendered",x,x.paginationContainer[0]))}x.params.loop||(x.params.prevButton&&x.prevButton&&x.prevButton.length>0&&(x.isBeginning?(x.prevButton.addClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.disable(x.prevButton)):(x.prevButton.removeClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.enable(x.prevButton))),x.params.nextButton&&x.nextButton&&x.nextButton.length>0&&(x.isEnd?(x.nextButton.addClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.disable(x.nextButton)):(x.nextButton.removeClass(x.params.buttonDisabledClass),x.params.a11y&&x.a11y&&x.a11y.enable(x.nextButton))))},x.updatePagination=function(){if(x.params.pagination&&x.paginationContainer&&x.paginationContainer.length>0){var e="";if("bullets"===x.params.paginationType){for(var t=x.params.loop?Math.ceil((x.slides.length-2*x.loopedSlides)/x.params.slidesPerGroup):x.snapGrid.length,i=0;t>i;i++)e+=x.params.paginationBulletRender?x.params.paginationBulletRender(x,i,x.params.bulletClass):"<"+x.params.paginationElement+' class="'+x.params.bulletClass+'"></'+x.params.paginationElement+">";x.paginationContainer.html(e),x.bullets=x.paginationContainer.find("."+x.params.bulletClass),x.params.paginationClickable&&x.params.a11y&&x.a11y&&x.a11y.initPagination()}"fraction"===x.params.paginationType&&(e=x.params.paginationFractionRender?x.params.paginationFractionRender(x,x.params.paginationCurrentClass,x.params.paginationTotalClass):'<span class="'+x.params.paginationCurrentClass+'"></span> / <span class="'+x.params.paginationTotalClass+'"></span>',x.paginationContainer.html(e)),"progress"===x.params.paginationType&&(e=x.params.paginationProgressRender?x.params.paginationProgressRender(x,x.params.paginationProgressbarClass):'<span class="'+x.params.paginationProgressbarClass+'"></span>',x.paginationContainer.html(e)),"custom"!==x.params.paginationType&&x.emit("onPaginationRendered",x,x.paginationContainer[0])}},x.update=function(e){function t(){x.rtl?-x.translate:x.translate;n=Math.min(Math.max(x.translate,x.maxTranslate()),x.minTranslate()),x.setWrapperTranslate(n),x.updateActiveIndex(),x.updateClasses()}if(x.updateContainerSize(),x.updateSlidesSize(),x.updateProgress(),x.updatePagination(),x.updateClasses(),x.params.scrollbar&&x.scrollbar&&x.scrollbar.set(),e){var i,n;x.controller&&x.controller.spline&&(x.controller.spline=void 0),x.params.freeMode?(t(),x.params.autoHeight&&x.updateAutoHeight()):(i=("auto"===x.params.slidesPerView||x.params.slidesPerView>1)&&x.isEnd&&!x.params.centeredSlides?x.slideTo(x.slides.length-1,0,!1,!0):x.slideTo(x.activeIndex,0,!1,!0),i||t())}else x.params.autoHeight&&x.updateAutoHeight()},x.onResize=function(e){x.params.breakpoints&&x.setBreakpoint();var t=x.params.allowSwipeToPrev,i=x.params.allowSwipeToNext;x.params.allowSwipeToPrev=x.params.allowSwipeToNext=!0,x.updateContainerSize(),x.updateSlidesSize(),("auto"===x.params.slidesPerView||x.params.freeMode||e)&&x.updatePagination(),x.params.scrollbar&&x.scrollbar&&x.scrollbar.set(),x.controller&&x.controller.spline&&(x.controller.spline=void 0);var n=!1;if(x.params.freeMode){var a=Math.min(Math.max(x.translate,x.maxTranslate()),x.minTranslate());x.setWrapperTranslate(a),x.updateActiveIndex(),x.updateClasses(),x.params.autoHeight&&x.updateAutoHeight()}else x.updateClasses(),n=("auto"===x.params.slidesPerView||x.params.slidesPerView>1)&&x.isEnd&&!x.params.centeredSlides?x.slideTo(x.slides.length-1,0,!1,!0):x.slideTo(x.activeIndex,0,!1,!0);x.params.lazyLoading&&!n&&x.lazy&&x.lazy.load(),x.params.allowSwipeToPrev=t,x.params.allowSwipeToNext=i},x.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?x.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(x.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),x.touchEvents={start:x.support.touch||!x.params.simulateTouch?"touchstart":x.touchEventsDesktop.start,move:x.support.touch||!x.params.simulateTouch?"touchmove":x.touchEventsDesktop.move,end:x.support.touch||!x.params.simulateTouch?"touchend":x.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===x.params.touchEventsTarget?x.container:x.wrapper).addClass("swiper-wp8-"+x.params.direction),x.initEvents=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",a="container"===x.params.touchEventsTarget?x.container[0]:x.wrapper[0],s=x.support.touch?a:document,o=!!x.params.nested;if(x.browser.ie)a[i](x.touchEvents.start,x.onTouchStart,!1),s[i](x.touchEvents.move,x.onTouchMove,o),s[i](x.touchEvents.end,x.onTouchEnd,!1);else{if(x.support.touch){var r="touchstart"===x.touchEvents.start&&x.support.passiveListener&&x.params.passiveListeners?{passive:!0,capture:!1}:!1;a[i](x.touchEvents.start,x.onTouchStart,r),a[i](x.touchEvents.move,x.onTouchMove,o),a[i](x.touchEvents.end,x.onTouchEnd,r)}(n.simulateTouch&&!x.device.ios&&!x.device.android||n.simulateTouch&&!x.support.touch&&x.device.ios)&&(a[i]("mousedown",x.onTouchStart,!1),document[i]("mousemove",x.onTouchMove,o),document[i]("mouseup",x.onTouchEnd,!1))}window[i]("resize",x.onResize),x.params.nextButton&&x.nextButton&&x.nextButton.length>0&&(x.nextButton[t]("click",x.onClickNext),x.params.a11y&&x.a11y&&x.nextButton[t]("keydown",x.a11y.onEnterKey)),x.params.prevButton&&x.prevButton&&x.prevButton.length>0&&(x.prevButton[t]("click",x.onClickPrev),x.params.a11y&&x.a11y&&x.prevButton[t]("keydown",x.a11y.onEnterKey)),x.params.pagination&&x.params.paginationClickable&&(x.paginationContainer[t]("click","."+x.params.bulletClass,x.onClickIndex),x.params.a11y&&x.a11y&&x.paginationContainer[t]("keydown","."+x.params.bulletClass,x.a11y.onEnterKey)),(x.params.preventClicks||x.params.preventClicksPropagation)&&a[i]("click",x.preventClicks,!0)},x.attachEvents=function(){x.initEvents()},x.detachEvents=function(){x.initEvents(!0)},x.allowClick=!0,x.preventClicks=function(e){x.allowClick||(x.params.preventClicks&&e.preventDefault(),x.params.preventClicksPropagation&&x.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},x.onClickNext=function(e){e.preventDefault(),x.isEnd&&!x.params.loop||x.slideNext()},x.onClickPrev=function(e){e.preventDefault(),x.isBeginning&&!x.params.loop||x.slidePrev()},x.onClickIndex=function(e){e.preventDefault();var i=t(this).index()*x.params.slidesPerGroup;x.params.loop&&(i+=x.loopedSlides),x.slideTo(i)},x.updateClickedSlide=function(e){var i=r(e,"."+x.params.slideClass),n=!1;if(i)for(var a=0;a<x.slides.length;a++)x.slides[a]===i&&(n=!0);if(!i||!n)return x.clickedSlide=void 0,void(x.clickedIndex=void 0);if(x.clickedSlide=i,x.clickedIndex=t(i).index(),x.params.slideToClickedSlide&&void 0!==x.clickedIndex&&x.clickedIndex!==x.activeIndex){var s,o=x.clickedIndex;if(x.params.loop){if(x.animating)return;s=t(x.clickedSlide).attr("data-swiper-slide-index"),x.params.centeredSlides?o<x.loopedSlides-x.params.slidesPerView/2||o>x.slides.length-x.loopedSlides+x.params.slidesPerView/2?(x.fixLoop(),o=x.wrapper.children("."+x.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+x.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){x.slideTo(o)},0)):x.slideTo(o):o>x.slides.length-x.params.slidesPerView?(x.fixLoop(),o=x.wrapper.children("."+x.params.slideClass+'[data-swiper-slide-index="'+s+'"]:not(.'+x.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){x.slideTo(o)},0)):x.slideTo(o)}else x.slideTo(o)}};var T,S,k,E,D,P,A,I,M,N,j="input, select, textarea, button, video",O=Date.now(),R=[];x.animating=!1,x.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var L,$;x.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),L="touchstart"===e.type,L||!("which"in e)||3!==e.which){if(x.params.noSwiping&&r(e,"."+x.params.noSwipingClass))return void(x.allowClick=!0);if(!x.params.swipeHandler||r(e,x.params.swipeHandler)){var i=x.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n=x.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(x.device.ios&&x.params.iOSEdgeSwipeDetection&&i<=x.params.iOSEdgeSwipeThreshold)){if(T=!0,S=!1,k=!0,D=void 0,$=void 0,x.touches.startX=i,x.touches.startY=n,E=Date.now(),x.allowClick=!0,x.updateContainerSize(),x.swipeDirection=void 0,x.params.threshold>0&&(I=!1),"touchstart"!==e.type){var a=!0;t(e.target).is(j)&&(a=!1),document.activeElement&&t(document.activeElement).is(j)&&document.activeElement.blur(),a&&e.preventDefault()}x.emit("onTouchStart",x,e)}}}},x.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!L||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return x.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(x.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(x.params.onlyExternal)return x.allowClick=!1,void(T&&(x.touches.startX=x.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,x.touches.startY=x.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,E=Date.now()));if(L&&x.params.touchReleaseOnEdges&&!x.params.loop)if(x.isHorizontal()){if(x.touches.currentX<x.touches.startX&&x.translate<=x.maxTranslate()||x.touches.currentX>x.touches.startX&&x.translate>=x.minTranslate())return}else if(x.touches.currentY<x.touches.startY&&x.translate<=x.maxTranslate()||x.touches.currentY>x.touches.startY&&x.translate>=x.minTranslate())return;if(L&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(j))return S=!0,void(x.allowClick=!1);if(k&&x.emit("onTouchMove",x,e),!(e.targetTouches&&e.targetTouches.length>1)){if(x.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,x.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof D){var i;x.isHorizontal()&&x.touches.currentY===x.touches.startY||!x.isHorizontal()&&x.touches.currentX!==x.touches.startX?D=!1:(i=180*Math.atan2(Math.abs(x.touches.currentY-x.touches.startY),Math.abs(x.touches.currentX-x.touches.startX))/Math.PI,D=x.isHorizontal()?i>x.params.touchAngle:90-i>x.params.touchAngle)}if(D&&x.emit("onTouchMoveOpposite",x,e),"undefined"==typeof $&&x.browser.ieTouch&&(x.touches.currentX===x.touches.startX&&x.touches.currentY===x.touches.startY||($=!0)),T){if(D)return void(T=!1);if($||!x.browser.ieTouch){x.allowClick=!1,x.emit("onSliderMove",x,e),e.preventDefault(),x.params.touchMoveStopPropagation&&!x.params.nested&&e.stopPropagation(),S||(n.loop&&x.fixLoop(),A=x.getWrapperTranslate(),x.setWrapperTransition(0),x.animating&&x.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),x.params.autoplay&&x.autoplaying&&(x.params.autoplayDisableOnInteraction?x.stopAutoplay():x.pauseAutoplay()),N=!1,!x.params.grabCursor||x.params.allowSwipeToNext!==!0&&x.params.allowSwipeToPrev!==!0||x.setGrabCursor(!0)),S=!0;var a=x.touches.diff=x.isHorizontal()?x.touches.currentX-x.touches.startX:x.touches.currentY-x.touches.startY;a*=x.params.touchRatio,x.rtl&&(a=-a),x.swipeDirection=a>0?"prev":"next",P=a+A;var s=!0;if(a>0&&P>x.minTranslate()?(s=!1,x.params.resistance&&(P=x.minTranslate()-1+Math.pow(-x.minTranslate()+A+a,x.params.resistanceRatio))):0>a&&P<x.maxTranslate()&&(s=!1,x.params.resistance&&(P=x.maxTranslate()+1-Math.pow(x.maxTranslate()-A-a,x.params.resistanceRatio))),s&&(e.preventedByNestedSwiper=!0),!x.params.allowSwipeToNext&&"next"===x.swipeDirection&&A>P&&(P=A),!x.params.allowSwipeToPrev&&"prev"===x.swipeDirection&&P>A&&(P=A),x.params.threshold>0){if(!(Math.abs(a)>x.params.threshold||I))return void(P=A);if(!I)return I=!0,x.touches.startX=x.touches.currentX,x.touches.startY=x.touches.currentY,P=A,void(x.touches.diff=x.isHorizontal()?x.touches.currentX-x.touches.startX:x.touches.currentY-x.touches.startY)}x.params.followFinger&&((x.params.freeMode||x.params.watchSlidesProgress)&&x.updateActiveIndex(),x.params.freeMode&&(0===R.length&&R.push({position:x.touches[x.isHorizontal()?"startX":"startY"],time:E}),R.push({position:x.touches[x.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),x.updateProgress(P),x.setWrapperTranslate(P))}}}}},x.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),k&&x.emit("onTouchEnd",x,e),k=!1,T){x.params.grabCursor&&S&&T&&(x.params.allowSwipeToNext===!0||x.params.allowSwipeToPrev===!0)&&x.setGrabCursor(!1);var i=Date.now(),n=i-E;if(x.allowClick&&(x.updateClickedSlide(e),x.emit("onTap",x,e),300>n&&i-O>300&&(M&&clearTimeout(M),M=setTimeout(function(){x&&(x.params.paginationHide&&x.paginationContainer.length>0&&!t(e.target).hasClass(x.params.bulletClass)&&x.paginationContainer.toggleClass(x.params.paginationHiddenClass),x.emit("onClick",x,e))},300)),300>n&&300>i-O&&(M&&clearTimeout(M),x.emit("onDoubleTap",x,e))),O=Date.now(),setTimeout(function(){x&&(x.allowClick=!0)},0),!T||!S||!x.swipeDirection||0===x.touches.diff||P===A)return void(T=S=!1);T=S=!1;var a;if(a=x.params.followFinger?x.rtl?x.translate:-x.translate:-P,x.params.freeMode){if(a<-x.minTranslate())return void x.slideTo(x.activeIndex);if(a>-x.maxTranslate())return void(x.slides.length<x.snapGrid.length?x.slideTo(x.snapGrid.length-1):x.slideTo(x.slides.length-1));if(x.params.freeModeMomentum){if(R.length>1){var s=R.pop(),o=R.pop(),r=s.position-o.position,l=s.time-o.time;x.velocity=r/l,x.velocity=x.velocity/2,Math.abs(x.velocity)<x.params.freeModeMinimumVelocity&&(x.velocity=0),(l>150||(new window.Date).getTime()-s.time>300)&&(x.velocity=0)}else x.velocity=0;x.velocity=x.velocity*x.params.freeModeMomentumVelocityRatio,R.length=0;var c=1e3*x.params.freeModeMomentumRatio,u=x.velocity*c,d=x.translate+u;x.rtl&&(d=-d);var h,p=!1,f=20*Math.abs(x.velocity)*x.params.freeModeMomentumBounceRatio;if(d<x.maxTranslate())x.params.freeModeMomentumBounce?(d+x.maxTranslate()<-f&&(d=x.maxTranslate()-f),h=x.maxTranslate(),p=!0,N=!0):d=x.maxTranslate();else if(d>x.minTranslate())x.params.freeModeMomentumBounce?(d-x.minTranslate()>f&&(d=x.minTranslate()+f),h=x.minTranslate(),p=!0,N=!0):d=x.minTranslate();else if(x.params.freeModeSticky){var m,g=0;for(g=0;g<x.snapGrid.length;g+=1)if(x.snapGrid[g]>-d){m=g;break}d=Math.abs(x.snapGrid[m]-d)<Math.abs(x.snapGrid[m-1]-d)||"next"===x.swipeDirection?x.snapGrid[m]:x.snapGrid[m-1],x.rtl||(d=-d)}if(0!==x.velocity)c=x.rtl?Math.abs((-d-x.translate)/x.velocity):Math.abs((d-x.translate)/x.velocity);else if(x.params.freeModeSticky)return void x.slideReset();x.params.freeModeMomentumBounce&&p?(x.updateProgress(h),x.setWrapperTransition(c),x.setWrapperTranslate(d),x.onTransitionStart(),x.animating=!0,x.wrapper.transitionEnd(function(){x&&N&&(x.emit("onMomentumBounce",x),x.setWrapperTransition(x.params.speed),x.setWrapperTranslate(h),x.wrapper.transitionEnd(function(){x&&x.onTransitionEnd()}))})):x.velocity?(x.updateProgress(d),x.setWrapperTransition(c),x.setWrapperTranslate(d),x.onTransitionStart(),x.animating||(x.animating=!0,x.wrapper.transitionEnd(function(){x&&x.onTransitionEnd()}))):x.updateProgress(d),x.updateActiveIndex()}return void((!x.params.freeModeMomentum||n>=x.params.longSwipesMs)&&(x.updateProgress(),x.updateActiveIndex()))}var v,y=0,b=x.slidesSizesGrid[0];for(v=0;v<x.slidesGrid.length;v+=x.params.slidesPerGroup)"undefined"!=typeof x.slidesGrid[v+x.params.slidesPerGroup]?a>=x.slidesGrid[v]&&a<x.slidesGrid[v+x.params.slidesPerGroup]&&(y=v,b=x.slidesGrid[v+x.params.slidesPerGroup]-x.slidesGrid[v]):a>=x.slidesGrid[v]&&(y=v,b=x.slidesGrid[x.slidesGrid.length-1]-x.slidesGrid[x.slidesGrid.length-2]);var w=(a-x.slidesGrid[y])/b;if(n>x.params.longSwipesMs){if(!x.params.longSwipes)return void x.slideTo(x.activeIndex);"next"===x.swipeDirection&&(w>=x.params.longSwipesRatio?x.slideTo(y+x.params.slidesPerGroup):x.slideTo(y)),"prev"===x.swipeDirection&&(w>1-x.params.longSwipesRatio?x.slideTo(y+x.params.slidesPerGroup):x.slideTo(y))}else{if(!x.params.shortSwipes)return void x.slideTo(x.activeIndex);"next"===x.swipeDirection&&x.slideTo(y+x.params.slidesPerGroup),"prev"===x.swipeDirection&&x.slideTo(y)}}},x._slideTo=function(e,t){return x.slideTo(e,t,!0,!0)},x.slideTo=function(e,t,i,n){"undefined"==typeof i&&(i=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),x.snapIndex=Math.floor(e/x.params.slidesPerGroup),x.snapIndex>=x.snapGrid.length&&(x.snapIndex=x.snapGrid.length-1);var a=-x.snapGrid[x.snapIndex];if(x.params.autoplay&&x.autoplaying&&(n||!x.params.autoplayDisableOnInteraction?x.pauseAutoplay(t):x.stopAutoplay()),x.updateProgress(a),x.params.normalizeSlideIndex)for(var s=0;s<x.slidesGrid.length;s++)-Math.floor(100*a)>=Math.floor(100*x.slidesGrid[s])&&(e=s);return!x.params.allowSwipeToNext&&a<x.translate&&a<x.minTranslate()?!1:!x.params.allowSwipeToPrev&&a>x.translate&&a>x.maxTranslate()&&(x.activeIndex||0)!==e?!1:("undefined"==typeof t&&(t=x.params.speed),x.previousIndex=x.activeIndex||0,x.activeIndex=e,x.updateRealIndex(),x.rtl&&-a===x.translate||!x.rtl&&a===x.translate?(x.params.autoHeight&&x.updateAutoHeight(),x.updateClasses(),"slide"!==x.params.effect&&x.setWrapperTranslate(a),!1):(x.updateClasses(),x.onTransitionStart(i),0===t||x.browser.lteIE9?(x.setWrapperTranslate(a),x.setWrapperTransition(0),x.onTransitionEnd(i)):(x.setWrapperTranslate(a),x.setWrapperTransition(t),x.animating||(x.animating=!0,x.wrapper.transitionEnd(function(){x&&x.onTransitionEnd(i)}))),!0))},x.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),x.params.autoHeight&&x.updateAutoHeight(),x.lazy&&x.lazy.onTransitionStart(),e&&(x.emit("onTransitionStart",x),x.activeIndex!==x.previousIndex&&(x.emit("onSlideChangeStart",x),x.activeIndex>x.previousIndex?x.emit("onSlideNextStart",x):x.emit("onSlidePrevStart",x)))},x.onTransitionEnd=function(e){x.animating=!1,x.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),x.lazy&&x.lazy.onTransitionEnd(),e&&(x.emit("onTransitionEnd",x),x.activeIndex!==x.previousIndex&&(x.emit("onSlideChangeEnd",x),x.activeIndex>x.previousIndex?x.emit("onSlideNextEnd",x):x.emit("onSlidePrevEnd",x))),x.params.history&&x.history&&x.history.setHistory(x.params.history,x.activeIndex),x.params.hashnav&&x.hashnav&&x.hashnav.setHash()},x.slideNext=function(e,t,i){if(x.params.loop){if(x.animating)return!1;x.fixLoop();x.container[0].clientLeft;return x.slideTo(x.activeIndex+x.params.slidesPerGroup,t,e,i)}return x.slideTo(x.activeIndex+x.params.slidesPerGroup,t,e,i)},x._slideNext=function(e){return x.slideNext(!0,e,!0)},x.slidePrev=function(e,t,i){if(x.params.loop){if(x.animating)return!1;x.fixLoop();x.container[0].clientLeft;return x.slideTo(x.activeIndex-1,t,e,i)}return x.slideTo(x.activeIndex-1,t,e,i)},x._slidePrev=function(e){return x.slidePrev(!0,e,!0)},x.slideReset=function(e,t){return x.slideTo(x.activeIndex,t,e)},x.disableTouchControl=function(){return x.params.onlyExternal=!0,!0},x.enableTouchControl=function(){return x.params.onlyExternal=!1,!0},x.setWrapperTransition=function(e,t){x.wrapper.transition(e),"slide"!==x.params.effect&&x.effects[x.params.effect]&&x.effects[x.params.effect].setTransition(e),x.params.parallax&&x.parallax&&x.parallax.setTransition(e),x.params.scrollbar&&x.scrollbar&&x.scrollbar.setTransition(e),x.params.control&&x.controller&&x.controller.setTransition(e,t),x.emit("onSetTransition",x,e)},x.setWrapperTranslate=function(e,t,i){var n=0,a=0,o=0;x.isHorizontal()?n=x.rtl?-e:e:a=e,x.params.roundLengths&&(n=s(n),a=s(a)),x.params.virtualTranslate||(x.support.transforms3d?x.wrapper.transform("translate3d("+n+"px, "+a+"px, "+o+"px)"):x.wrapper.transform("translate("+n+"px, "+a+"px)")),x.translate=x.isHorizontal()?n:a;var r,l=x.maxTranslate()-x.minTranslate();r=0===l?0:(e-x.minTranslate())/l,r!==x.progress&&x.updateProgress(e),t&&x.updateActiveIndex(),"slide"!==x.params.effect&&x.effects[x.params.effect]&&x.effects[x.params.effect].setTranslate(x.translate),x.params.parallax&&x.parallax&&x.parallax.setTranslate(x.translate),x.params.scrollbar&&x.scrollbar&&x.scrollbar.setTranslate(x.translate),x.params.control&&x.controller&&x.controller.setTranslate(x.translate,i),x.emit("onSetTranslate",x,x.translate)},x.getTranslate=function(e,t){var i,n,a,s;return"undefined"==typeof t&&(t="x"),x.params.virtualTranslate?x.rtl?-x.translate:x.translate:(a=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),s=new window.WebKitCSSMatrix("none"===n?"":n)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=window.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),x.rtl&&n&&(n=-n),n||0)},x.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=x.isHorizontal()?"x":"y"),x.getTranslate(x.wrapper[0],e)},x.observers=[],x.initObservers=function(){if(x.params.observeParents)for(var e=x.container.parents(),t=0;t<e.length;t++)l(e[t]);l(x.container[0],{childList:!1}),l(x.wrapper[0],{
attributes:!1})},x.disconnectObservers=function(){for(var e=0;e<x.observers.length;e++)x.observers[e].disconnect();x.observers=[]},x.createLoop=function(){x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass).remove();var e=x.wrapper.children("."+x.params.slideClass);"auto"!==x.params.slidesPerView||x.params.loopedSlides||(x.params.loopedSlides=e.length),x.loopedSlides=parseInt(x.params.loopedSlides||x.params.slidesPerView,10),x.loopedSlides=x.loopedSlides+x.params.loopAdditionalSlides,x.loopedSlides>e.length&&(x.loopedSlides=e.length);var i,n=[],a=[];for(e.each(function(i,s){var o=t(this);i<x.loopedSlides&&a.push(s),i<e.length&&i>=e.length-x.loopedSlides&&n.push(s),o.attr("data-swiper-slide-index",i)}),i=0;i<a.length;i++)x.wrapper.append(t(a[i].cloneNode(!0)).addClass(x.params.slideDuplicateClass));for(i=n.length-1;i>=0;i--)x.wrapper.prepend(t(n[i].cloneNode(!0)).addClass(x.params.slideDuplicateClass))},x.destroyLoop=function(){x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass).remove(),x.slides.removeAttr("data-swiper-slide-index")},x.reLoop=function(e){var t=x.activeIndex-x.loopedSlides;x.destroyLoop(),x.createLoop(),x.updateSlidesSize(),e&&x.slideTo(t+x.loopedSlides,0,!1)},x.fixLoop=function(){var e;x.activeIndex<x.loopedSlides?(e=x.slides.length-3*x.loopedSlides+x.activeIndex,e+=x.loopedSlides,x.slideTo(e,0,!1,!0)):("auto"===x.params.slidesPerView&&x.activeIndex>=2*x.loopedSlides||x.activeIndex>x.slides.length-2*x.params.slidesPerView)&&(e=-x.slides.length+x.activeIndex+x.loopedSlides,e+=x.loopedSlides,x.slideTo(e,0,!1,!0))},x.appendSlide=function(e){if(x.params.loop&&x.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&x.wrapper.append(e[t]);else x.wrapper.append(e);x.params.loop&&x.createLoop(),x.params.observer&&x.support.observer||x.update(!0)},x.prependSlide=function(e){x.params.loop&&x.destroyLoop();var t=x.activeIndex+1;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]&&x.wrapper.prepend(e[i]);t=x.activeIndex+e.length}else x.wrapper.prepend(e);x.params.loop&&x.createLoop(),x.params.observer&&x.support.observer||x.update(!0),x.slideTo(t,0,!1)},x.removeSlide=function(e){x.params.loop&&(x.destroyLoop(),x.slides=x.wrapper.children("."+x.params.slideClass));var t,i=x.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)t=e[n],x.slides[t]&&x.slides.eq(t).remove(),i>t&&i--;i=Math.max(i,0)}else t=e,x.slides[t]&&x.slides.eq(t).remove(),i>t&&i--,i=Math.max(i,0);x.params.loop&&x.createLoop(),x.params.observer&&x.support.observer||x.update(!0),x.params.loop?x.slideTo(i+x.loopedSlides,0,!1):x.slideTo(i,0,!1)},x.removeAllSlides=function(){for(var e=[],t=0;t<x.slides.length;t++)e.push(t);x.removeSlide(e)},x.effects={fade:{setTranslate:function(){for(var e=0;e<x.slides.length;e++){var t=x.slides.eq(e),i=t[0].swiperSlideOffset,n=-i;x.params.virtualTranslate||(n-=x.translate);var a=0;x.isHorizontal()||(a=n,n=0);var s=x.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:s}).transform("translate3d("+n+"px, "+a+"px, 0px)")}},setTransition:function(e){if(x.slides.transition(e),x.params.virtualTranslate&&0!==e){var t=!1;x.slides.transitionEnd(function(){if(!t&&x){t=!0,x.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<e.length;i++)x.wrapper.trigger(e[i])}})}}},flip:{setTranslate:function(){for(var e=0;e<x.slides.length;e++){var i=x.slides.eq(e),n=i[0].progress;x.params.flip.limitRotation&&(n=Math.max(Math.min(i[0].progress,1),-1));var a=i[0].swiperSlideOffset,s=-180*n,o=s,r=0,l=-a,c=0;if(x.isHorizontal()?x.rtl&&(o=-o):(c=l,l=0,r=-o,o=0),i[0].style.zIndex=-Math.abs(Math.round(n))+x.slides.length,x.params.flip.slideShadows){var u=x.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),d=x.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===u.length&&(u=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"left":"top")+'"></div>'),i.append(u)),0===d.length&&(d=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"right":"bottom")+'"></div>'),i.append(d)),u.length&&(u[0].style.opacity=Math.max(-n,0)),d.length&&(d[0].style.opacity=Math.max(n,0))}i.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+r+"deg) rotateY("+o+"deg)")}},setTransition:function(e){if(x.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),x.params.virtualTranslate&&0!==e){var i=!1;x.slides.eq(x.activeIndex).transitionEnd(function(){if(!i&&x&&t(this).hasClass(x.params.slideActiveClass)){i=!0,x.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)x.wrapper.trigger(e[n])}})}}},cube:{setTranslate:function(){var e,i=0;x.params.cube.shadow&&(x.isHorizontal()?(e=x.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),x.wrapper.append(e)),e.css({height:x.width+"px"})):(e=x.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),x.container.append(e))));for(var n=0;n<x.slides.length;n++){var a=x.slides.eq(n),s=90*n,o=Math.floor(s/360);x.rtl&&(s=-s,o=Math.floor(-s/360));var r=Math.max(Math.min(a[0].progress,1),-1),l=0,c=0,u=0;n%4===0?(l=4*-o*x.size,u=0):(n-1)%4===0?(l=0,u=4*-o*x.size):(n-2)%4===0?(l=x.size+4*o*x.size,u=x.size):(n-3)%4===0&&(l=-x.size,u=3*x.size+4*x.size*o),x.rtl&&(l=-l),x.isHorizontal()||(c=l,l=0);var d="rotateX("+(x.isHorizontal()?0:-s)+"deg) rotateY("+(x.isHorizontal()?s:0)+"deg) translate3d("+l+"px, "+c+"px, "+u+"px)";if(1>=r&&r>-1&&(i=90*n+90*r,x.rtl&&(i=90*-n-90*r)),a.transform(d),x.params.cube.slideShadows){var h=x.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),p=x.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"left":"top")+'"></div>'),a.append(h)),0===p.length&&(p=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"right":"bottom")+'"></div>'),a.append(p)),h.length&&(h[0].style.opacity=Math.max(-r,0)),p.length&&(p[0].style.opacity=Math.max(r,0))}}if(x.wrapper.css({"-webkit-transform-origin":"50% 50% -"+x.size/2+"px","-moz-transform-origin":"50% 50% -"+x.size/2+"px","-ms-transform-origin":"50% 50% -"+x.size/2+"px","transform-origin":"50% 50% -"+x.size/2+"px"}),x.params.cube.shadow)if(x.isHorizontal())e.transform("translate3d(0px, "+(x.width/2+x.params.cube.shadowOffset)+"px, "+-x.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+x.params.cube.shadowScale+")");else{var f=Math.abs(i)-90*Math.floor(Math.abs(i)/90),m=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),g=x.params.cube.shadowScale,v=x.params.cube.shadowScale/m,y=x.params.cube.shadowOffset;e.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(x.height/2+y)+"px, "+-x.height/2/v+"px) rotateX(-90deg)")}var b=x.isSafari||x.isUiWebView?-x.size/2:0;x.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(x.isHorizontal()?0:i)+"deg) rotateY("+(x.isHorizontal()?-i:0)+"deg)")},setTransition:function(e){x.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),x.params.cube.shadow&&!x.isHorizontal()&&x.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=x.translate,i=x.isHorizontal()?-e+x.width/2:-e+x.height/2,n=x.isHorizontal()?x.params.coverflow.rotate:-x.params.coverflow.rotate,a=x.params.coverflow.depth,s=0,o=x.slides.length;o>s;s++){var r=x.slides.eq(s),l=x.slidesSizesGrid[s],c=r[0].swiperSlideOffset,u=(i-c-l/2)/l*x.params.coverflow.modifier,d=x.isHorizontal()?n*u:0,h=x.isHorizontal()?0:n*u,p=-a*Math.abs(u),f=x.isHorizontal()?0:x.params.coverflow.stretch*u,m=x.isHorizontal()?x.params.coverflow.stretch*u:0;Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0),Math.abs(h)<.001&&(h=0);var g="translate3d("+m+"px,"+f+"px,"+p+"px)  rotateX("+h+"deg) rotateY("+d+"deg)";if(r.transform(g),r[0].style.zIndex=-Math.abs(Math.round(u))+1,x.params.coverflow.slideShadows){var v=x.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),y=x.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===v.length&&(v=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"left":"top")+'"></div>'),r.append(v)),0===y.length&&(y=t('<div class="swiper-slide-shadow-'+(x.isHorizontal()?"right":"bottom")+'"></div>'),r.append(y)),v.length&&(v[0].style.opacity=u>0?u:0),y.length&&(y[0].style.opacity=-u>0?-u:0)}}if(x.browser.ie){var b=x.wrapper[0].style;b.perspectiveOrigin=i+"px 50%"}},setTransition:function(e){x.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},x.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,i){if("undefined"!=typeof e&&("undefined"==typeof i&&(i=!0),0!==x.slides.length)){var n=x.slides.eq(e),a=n.find("."+x.params.lazyLoadingClass+":not(."+x.params.lazyStatusLoadedClass+"):not(."+x.params.lazyStatusLoadingClass+")");!n.hasClass(x.params.lazyLoadingClass)||n.hasClass(x.params.lazyStatusLoadedClass)||n.hasClass(x.params.lazyStatusLoadingClass)||(a=a.add(n[0])),0!==a.length&&a.each(function(){var e=t(this);e.addClass(x.params.lazyStatusLoadingClass);var a=e.attr("data-background"),s=e.attr("data-src"),o=e.attr("data-srcset"),r=e.attr("data-sizes");x.loadImage(e[0],s||a,o,r,!1,function(){if(a?(e.css("background-image",'url("'+a+'")'),e.removeAttr("data-background")):(o&&(e.attr("srcset",o),e.removeAttr("data-srcset")),r&&(e.attr("sizes",r),e.removeAttr("data-sizes")),s&&(e.attr("src",s),e.removeAttr("data-src"))),e.addClass(x.params.lazyStatusLoadedClass).removeClass(x.params.lazyStatusLoadingClass),n.find("."+x.params.lazyPreloaderClass+", ."+x.params.preloaderClass).remove(),x.params.loop&&i){var t=n.attr("data-swiper-slide-index");if(n.hasClass(x.params.slideDuplicateClass)){var l=x.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+x.params.slideDuplicateClass+")");x.lazy.loadImageInSlide(l.index(),!1)}else{var c=x.wrapper.children("."+x.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');x.lazy.loadImageInSlide(c.index(),!1)}}x.emit("onLazyImageReady",x,n[0],e[0])}),x.emit("onLazyImageLoad",x,n[0],e[0])})}},load:function(){var e,i=x.params.slidesPerView;if("auto"===i&&(i=0),x.lazy.initialImageLoaded||(x.lazy.initialImageLoaded=!0),x.params.watchSlidesVisibility)x.wrapper.children("."+x.params.slideVisibleClass).each(function(){x.lazy.loadImageInSlide(t(this).index())});else if(i>1)for(e=x.activeIndex;e<x.activeIndex+i;e++)x.slides[e]&&x.lazy.loadImageInSlide(e);else x.lazy.loadImageInSlide(x.activeIndex);if(x.params.lazyLoadingInPrevNext)if(i>1||x.params.lazyLoadingInPrevNextAmount&&x.params.lazyLoadingInPrevNextAmount>1){var n=x.params.lazyLoadingInPrevNextAmount,a=i,s=Math.min(x.activeIndex+a+Math.max(n,a),x.slides.length),o=Math.max(x.activeIndex-Math.max(a,n),0);for(e=x.activeIndex+i;s>e;e++)x.slides[e]&&x.lazy.loadImageInSlide(e);for(e=o;e<x.activeIndex;e++)x.slides[e]&&x.lazy.loadImageInSlide(e)}else{var r=x.wrapper.children("."+x.params.slideNextClass);r.length>0&&x.lazy.loadImageInSlide(r.index());var l=x.wrapper.children("."+x.params.slidePrevClass);l.length>0&&x.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){x.params.lazyLoading&&(x.params.lazyLoadingOnTransitionStart||!x.params.lazyLoadingOnTransitionStart&&!x.lazy.initialImageLoaded)&&x.lazy.load()},onTransitionEnd:function(){x.params.lazyLoading&&!x.params.lazyLoadingOnTransitionStart&&x.lazy.load()}},x.scrollbar={isTouched:!1,setDragPosition:function(e){var t=x.scrollbar,i=x.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,n=i-t.track.offset()[x.isHorizontal()?"left":"top"]-t.dragSize/2,a=-x.minTranslate()*t.moveDivider,s=-x.maxTranslate()*t.moveDivider;a>n?n=a:n>s&&(n=s),n=-n/t.moveDivider,x.updateProgress(n),x.setWrapperTranslate(n,!0)},dragStart:function(e){var t=x.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),x.params.scrollbarHide&&t.track.css("opacity",1),x.wrapper.transition(100),t.drag.transition(100),x.emit("onScrollbarDragStart",x)},dragMove:function(e){var t=x.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),x.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),x.emit("onScrollbarDragMove",x))},dragEnd:function(){var e=x.scrollbar;e.isTouched&&(e.isTouched=!1,x.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),x.emit("onScrollbarDragEnd",x),x.params.scrollbarSnapOnRelease&&x.slideReset())},draggableEvents:function(){return x.params.simulateTouch!==!1||x.support.touch?x.touchEvents:x.touchEventsDesktop}(),enableDraggable:function(){var e=x.scrollbar,i=x.support.touch?e.track:document;t(e.track).on(e.draggableEvents.start,e.dragStart),t(i).on(e.draggableEvents.move,e.dragMove),t(i).on(e.draggableEvents.end,e.dragEnd)},disableDraggable:function(){var e=x.scrollbar,i=x.support.touch?e.track:document;t(e.track).off(x.draggableEvents.start,e.dragStart),t(i).off(x.draggableEvents.move,e.dragMove),t(i).off(x.draggableEvents.end,e.dragEnd)},set:function(){if(x.params.scrollbar){var e=x.scrollbar;e.track=t(x.params.scrollbar),x.params.uniqueNavElements&&"string"==typeof x.params.scrollbar&&e.track.length>1&&1===x.container.find(x.params.scrollbar).length&&(e.track=x.container.find(x.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=x.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=x.size/x.virtualSize,e.moveDivider=e.divider*(e.trackSize/x.size),e.dragSize=e.trackSize*e.divider,x.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",x.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(x.params.scrollbar){var e,t=x.scrollbar,i=(x.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*x.progress,x.rtl&&x.isHorizontal()?(e=-e,e>0?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e)):0>e?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),x.isHorizontal()?(x.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(x.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=i+"px"),x.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){x.params.scrollbar&&x.scrollbar.drag.transition(e)}},x.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var i,n;this.x.length;this.interpolate=function(e){return e?(n=a(this.x,e),i=n-1,(e-this.x[i])*(this.y[n]-this.y[i])/(this.x[n]-this.x[i])+this.y[i]):0};var a=function(){var e,t,i;return function(n,a){for(t=-1,e=n.length;e-t>1;)n[i=e+t>>1]<=a?t=i:e=i;return e}}()},getInterpolateFunction:function(e){x.controller.spline||(x.controller.spline=x.params.loop?new x.controller.LinearSpline(x.slidesGrid,e.slidesGrid):new x.controller.LinearSpline(x.snapGrid,e.snapGrid))},setTranslate:function(e,t){function n(t){e=t.rtl&&"horizontal"===t.params.direction?-x.translate:x.translate,"slide"===x.params.controlBy&&(x.controller.getInterpolateFunction(t),s=-x.controller.spline.interpolate(-e)),s&&"container"!==x.params.controlBy||(a=(t.maxTranslate()-t.minTranslate())/(x.maxTranslate()-x.minTranslate()),s=(e-x.minTranslate())*a+t.minTranslate()),x.params.controlInverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setWrapperTranslate(s,!1,x),t.updateActiveIndex()}var a,s,o=x.params.control;if(x.isArray(o))for(var r=0;r<o.length;r++)o[r]!==t&&o[r]instanceof i&&n(o[r]);else o instanceof i&&t!==o&&n(o)},setTransition:function(e,t){function n(t){t.setWrapperTransition(e,x),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){s&&(t.params.loop&&"slide"===x.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var a,s=x.params.control;if(x.isArray(s))for(a=0;a<s.length;a++)s[a]!==t&&s[a]instanceof i&&n(s[a]);else s instanceof i&&t!==s&&n(s)}},x.hashnav={onHashCange:function(){var e=document.location.hash.replace("#",""),t=x.slides.eq(x.activeIndex).attr("data-hash");e!==t&&x.slideTo(x.wrapper.children("."+x.params.slideClass+'[data-hash="'+e+'"]').index())},attachEvents:function(e){var i=e?"off":"on";t(window)[i]("hashchange",x.hashnav.onHashCange)},setHash:function(){if(x.hashnav.initialized&&x.params.hashnav)if(x.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+x.slides.eq(x.activeIndex).attr("data-hash")||"");else{var e=x.slides.eq(x.activeIndex),t=e.attr("data-hash")||e.attr("data-history");document.location.hash=t||""}},init:function(){if(x.params.hashnav&&!x.params.history){x.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e){for(var t=0,i=0,n=x.slides.length;n>i;i++){var a=x.slides.eq(i),s=a.attr("data-hash")||a.attr("data-history");if(s===e&&!a.hasClass(x.params.slideDuplicateClass)){var o=a.index();x.slideTo(o,t,x.params.runCallbacksOnInit,!0)}}x.params.hashnavWatchState&&x.hashnav.attachEvents()}}},destroy:function(){x.params.hashnavWatchState&&x.hashnav.attachEvents(!0)}},x.history={init:function(){if(x.params.history){if(!window.history||!window.history.pushState)return x.params.history=!1,void(x.params.hashnav=!0);x.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,x.params.runCallbacksOnInit),x.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){x.history.paths=x.history.getPathValues(),x.history.scrollToSlide(x.params.speed,x.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length,i=e[t-2],n=e[t-1];return{key:i,value:n}},setHistory:function(e,t){if(x.history.initialized&&x.params.history){var i=x.slides.eq(t),n=this.slugify(i.attr("data-history"));window.location.pathname.includes(e)||(n=e+"/"+n),x.params.replaceState?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){if(t)for(var n=0,a=x.slides.length;a>n;n++){var s=x.slides.eq(n),o=this.slugify(s.attr("data-history"));if(o===t&&!s.hasClass(x.params.slideDuplicateClass)){var r=s.index();x.slideTo(r,e,i)}}else x.slideTo(0,e,i)}},x.disableKeyboardControl=function(){x.params.keyboardControl=!1,t(document).off("keydown",c)},x.enableKeyboardControl=function(){x.params.keyboardControl=!0,t(document).on("keydown",c)},x.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},x.params.mousewheelControl&&(x.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":u()?"wheel":"mousewheel"),x.disableMousewheelControl=function(){if(!x.mousewheel.event)return!1;var e=x.container;return"container"!==x.params.mousewheelEventsTarged&&(e=t(x.params.mousewheelEventsTarged)),e.off(x.mousewheel.event,d),!0},x.enableMousewheelControl=function(){if(!x.mousewheel.event)return!1;var e=x.container;return"container"!==x.params.mousewheelEventsTarged&&(e=t(x.params.mousewheelEventsTarged)),e.on(x.mousewheel.event,d),!0},x.parallax={setTranslate:function(){x.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,x.progress)}),x.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);p(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=x.params.speed),x.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var i=t(this),n=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),i.transition(n)})}},x.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:x.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY,s=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-i,2));return s},onGestureStart:function(e){var i=x.zoom;if(!x.support.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.gesture.scaleStart=i.getDistanceBetweenTouches(e)}return i.gesture.slide&&i.gesture.slide.length||(i.gesture.slide=t(this),0===i.gesture.slide.length&&(i.gesture.slide=x.slides.eq(x.activeIndex)),i.gesture.image=i.gesture.slide.find("img, svg, canvas"),i.gesture.imageWrap=i.gesture.image.parent("."+x.params.zoomContainerClass),i.gesture.zoomMax=i.gesture.imageWrap.attr("data-swiper-zoom")||x.params.zoomMax,0!==i.gesture.imageWrap.length)?(i.gesture.image.transition(0),void(i.isScaling=!0)):void(i.gesture.image=void 0)},onGestureChange:function(e){var t=x.zoom;if(!x.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(x.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<x.params.zoomMin&&(t.scale=x.params.zoomMin+1-Math.pow(x.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=x.zoom;!x.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),x.params.zoomMin),t.gesture.image.transition(x.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var i=e.zoom;i.gesture.image&&0!==i.gesture.image.length&&(i.image.isTouched||("android"===e.device.os&&t.preventDefault(),i.image.isTouched=!0,i.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=x.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(x.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=x.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=x.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0));var i=t.image.width*t.scale,n=t.image.height*t.scale;if(!(i<t.gesture.slideWidth&&n<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-i/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-n/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(x.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!x.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e){var t=e.zoom;if(t.gesture.image&&0!==t.gesture.image.length){if(!t.image.isTouched||!t.image.isMoved)return t.image.isTouched=!1,void(t.image.isMoved=!1);t.image.isTouched=!1,t.image.isMoved=!1;var i=300,n=300,a=t.velocity.x*i,s=t.image.currentX+a,o=t.velocity.y*n,r=t.image.currentY+o;0!==t.velocity.x&&(i=Math.abs((s-t.image.currentX)/t.velocity.x)),0!==t.velocity.y&&(n=Math.abs((r-t.image.currentY)/t.velocity.y));var l=Math.max(i,n);t.image.currentX=s,t.image.currentY=r;var c=t.image.width*t.scale,u=t.image.height*t.scale;t.image.minX=Math.min(t.gesture.slideWidth/2-c/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-u/2,0),t.image.maxY=-t.image.minY,t.image.currentX=Math.max(Math.min(t.image.currentX,t.image.maxX),t.image.minX),t.image.currentY=Math.max(Math.min(t.image.currentY,t.image.maxY),t.image.minY),t.gesture.imageWrap.transition(l).transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(e,i){var n=e.zoom;if(n.gesture.slide||(n.gesture.slide=e.clickedSlide?t(e.clickedSlide):e.slides.eq(e.activeIndex),n.gesture.image=n.gesture.slide.find("img, svg, canvas"),n.gesture.imageWrap=n.gesture.image.parent("."+e.params.zoomContainerClass)),n.gesture.image&&0!==n.gesture.image.length){var a,s,o,r,l,c,u,d,h,p,f,m,g,v,y,b,w,_;"undefined"==typeof n.image.touchesStart.x&&i?(a="touchend"===i.type?i.changedTouches[0].pageX:i.pageX,s="touchend"===i.type?i.changedTouches[0].pageY:i.pageY):(a=n.image.touchesStart.x,s=n.image.touchesStart.y),n.scale&&1!==n.scale?(n.scale=n.currentScale=1,n.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),n.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),n.gesture.slide=void 0):(n.scale=n.currentScale=n.gesture.imageWrap.attr("data-swiper-zoom")||e.params.zoomMax,i?(w=n.gesture.slide[0].offsetWidth,_=n.gesture.slide[0].offsetHeight,o=n.gesture.slide.offset().left,r=n.gesture.slide.offset().top,l=o+w/2-a,c=r+_/2-s,h=n.gesture.image[0].offsetWidth,p=n.gesture.image[0].offsetHeight,f=h*n.scale,m=p*n.scale,g=Math.min(w/2-f/2,0),v=Math.min(_/2-m/2,0),y=-g,b=-v,u=l*n.scale,d=c*n.scale,g>u&&(u=g),u>y&&(u=y),v>d&&(d=v),d>b&&(d=b)):(u=0,d=0),n.gesture.imageWrap.transition(300).transform("translate3d("+u+"px, "+d+"px,0)"),n.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+n.scale+")"))}},attachEvents:function(e){var i=e?"off":"on";if(x.params.zoom){var n=(x.slides,"touchstart"===x.touchEvents.start&&x.support.passiveListener&&x.params.passiveListeners?{passive:!0,capture:!1}:!1);x.support.gestures?(x.slides[i]("gesturestart",x.zoom.onGestureStart,n),x.slides[i]("gesturechange",x.zoom.onGestureChange,n),x.slides[i]("gestureend",x.zoom.onGestureEnd,n)):"touchstart"===x.touchEvents.start&&(x.slides[i](x.touchEvents.start,x.zoom.onGestureStart,n),x.slides[i](x.touchEvents.move,x.zoom.onGestureChange,n),x.slides[i](x.touchEvents.end,x.zoom.onGestureEnd,n)),x[i]("touchStart",x.zoom.onTouchStart),x.slides.each(function(e,n){t(n).find("."+x.params.zoomContainerClass).length>0&&t(n)[i](x.touchEvents.move,x.zoom.onTouchMove)}),x[i]("touchEnd",x.zoom.onTouchEnd),x[i]("transitionEnd",x.zoom.onTransitionEnd),x.params.zoomToggle&&x.on("doubleTap",x.zoom.toggleZoom)}},init:function(){x.zoom.attachEvents()},destroy:function(){x.zoom.attachEvents(!0)}},x._plugins=[];for(var F in x.plugins){var z=x.plugins[F](x,x.params[F]);z&&x._plugins.push(z)}return x.callPlugins=function(e){for(var t=0;t<x._plugins.length;t++)e in x._plugins[t]&&x._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},x.emitterEventListeners={},x.emit=function(e){x.params[e]&&x.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(x.emitterEventListeners[e])for(t=0;t<x.emitterEventListeners[e].length;t++)x.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);x.callPlugins&&x.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},x.on=function(e,t){return e=f(e),x.emitterEventListeners[e]||(x.emitterEventListeners[e]=[]),x.emitterEventListeners[e].push(t),x},x.off=function(e,t){var i;if(e=f(e),"undefined"==typeof t)return x.emitterEventListeners[e]=[],x;if(x.emitterEventListeners[e]&&0!==x.emitterEventListeners[e].length){for(i=0;i<x.emitterEventListeners[e].length;i++)x.emitterEventListeners[e][i]===t&&x.emitterEventListeners[e].splice(i,1);return x}},x.once=function(e,t){e=f(e);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),x.off(e,i)};return x.on(e,i),x},x.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(x.params.nextButton)?(x.onClickNext(e),x.isEnd?x.a11y.notify(x.params.lastSlideMessage):x.a11y.notify(x.params.nextSlideMessage)):t(e.target).is(x.params.prevButton)&&(x.onClickPrev(e),x.isBeginning?x.a11y.notify(x.params.firstSlideMessage):x.a11y.notify(x.params.prevSlideMessage)),t(e.target).is("."+x.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="'+x.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=x.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){x.params.nextButton&&x.nextButton&&x.nextButton.length>0&&(x.a11y.makeFocusable(x.nextButton),x.a11y.addRole(x.nextButton,"button"),x.a11y.addLabel(x.nextButton,x.params.nextSlideMessage)),x.params.prevButton&&x.prevButton&&x.prevButton.length>0&&(x.a11y.makeFocusable(x.prevButton),
x.a11y.addRole(x.prevButton,"button"),x.a11y.addLabel(x.prevButton,x.params.prevSlideMessage)),t(x.container).append(x.a11y.liveRegion)},initPagination:function(){x.params.pagination&&x.params.paginationClickable&&x.bullets&&x.bullets.length&&x.bullets.each(function(){var e=t(this);x.a11y.makeFocusable(e),x.a11y.addRole(e,"button"),x.a11y.addLabel(e,x.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){x.a11y.liveRegion&&x.a11y.liveRegion.length>0&&x.a11y.liveRegion.remove()}},x.init=function(){x.params.loop&&x.createLoop(),x.updateContainerSize(),x.updateSlidesSize(),x.updatePagination(),x.params.scrollbar&&x.scrollbar&&(x.scrollbar.set(),x.params.scrollbarDraggable&&x.scrollbar.enableDraggable()),"slide"!==x.params.effect&&x.effects[x.params.effect]&&(x.params.loop||x.updateProgress(),x.effects[x.params.effect].setTranslate()),x.params.loop?x.slideTo(x.params.initialSlide+x.loopedSlides,0,x.params.runCallbacksOnInit):(x.slideTo(x.params.initialSlide,0,x.params.runCallbacksOnInit),0===x.params.initialSlide&&(x.parallax&&x.params.parallax&&x.parallax.setTranslate(),x.lazy&&x.params.lazyLoading&&(x.lazy.load(),x.lazy.initialImageLoaded=!0))),x.attachEvents(),x.params.observer&&x.support.observer&&x.initObservers(),x.params.preloadImages&&!x.params.lazyLoading&&x.preloadImages(),x.params.zoom&&x.zoom&&x.zoom.init(),x.params.autoplay&&x.startAutoplay(),x.params.keyboardControl&&x.enableKeyboardControl&&x.enableKeyboardControl(),x.params.mousewheelControl&&x.enableMousewheelControl&&x.enableMousewheelControl(),x.params.hashnavReplaceState&&(x.params.replaceState=x.params.hashnavReplaceState),x.params.history&&x.history&&x.history.init(),x.params.hashnav&&x.hashnav&&x.hashnav.init(),x.params.a11y&&x.a11y&&x.a11y.init(),x.emit("onInit",x)},x.cleanupStyles=function(){x.container.removeClass(x.classNames.join(" ")).removeAttr("style"),x.wrapper.removeAttr("style"),x.slides&&x.slides.length&&x.slides.removeClass([x.params.slideVisibleClass,x.params.slideActiveClass,x.params.slideNextClass,x.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),x.paginationContainer&&x.paginationContainer.length&&x.paginationContainer.removeClass(x.params.paginationHiddenClass),x.bullets&&x.bullets.length&&x.bullets.removeClass(x.params.bulletActiveClass),x.params.prevButton&&t(x.params.prevButton).removeClass(x.params.buttonDisabledClass),x.params.nextButton&&t(x.params.nextButton).removeClass(x.params.buttonDisabledClass),x.params.scrollbar&&x.scrollbar&&(x.scrollbar.track&&x.scrollbar.track.length&&x.scrollbar.track.removeAttr("style"),x.scrollbar.drag&&x.scrollbar.drag.length&&x.scrollbar.drag.removeAttr("style"))},x.destroy=function(e,t){x.detachEvents(),x.stopAutoplay(),x.params.scrollbar&&x.scrollbar&&x.params.scrollbarDraggable&&x.scrollbar.disableDraggable(),x.params.loop&&x.destroyLoop(),t&&x.cleanupStyles(),x.disconnectObservers(),x.params.zoom&&x.zoom&&x.zoom.destroy(),x.params.keyboardControl&&x.disableKeyboardControl&&x.disableKeyboardControl(),x.params.mousewheelControl&&x.disableMousewheelControl&&x.disableMousewheelControl(),x.params.a11y&&x.a11y&&x.a11y.destroy(),x.params.history&&!x.params.replaceState&&window.removeEventListener("popstate",x.history.setHistoryPopState),x.params.hashnav&&x.hashnav&&x.hashnav.destroy(),x.emit("onDestroy"),e!==!1&&(x=null)},x.init(),x}};i.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}()},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),i=e.match(/(iPad).*OS\s([\d_]+)/),n=e.match(/(iPod)(.*OS\s([\d_]+))?/),a=!i&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:i||a||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<t.length;i++)if(t[i]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(i){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var n=["jQuery","Zepto","Dom7"],a=0;a<n.length;a++)window[n[a]]&&e(window[n[a]]);var s;s="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function t(s){if(s.target===this)for(e.call(this,s),i=0;i<n.length;i++)a.off(n[i],t)}var i,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(i=0;i<n.length;i++)a.on(n[i],t);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this}),"outerWidth"in s.fn||(s.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=i}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),!function(e,t){"use strict";var i={},n=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!n.TweenLite){var a,s,o,r,l,c=function(e){var t,i=e.split("."),a=n;for(t=0;t<i.length;t++)a[i[t]]=a=a[i[t]]||{};return a},u=c("com.greensock"),d=1e-10,h=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},p=function(){},f=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),m={},g=function(a,s,o,r){this.sc=m[a]?m[a].sc:[],m[a]=this,this.gsClass=null,this.func=o;var l=[];this.check=function(u){for(var d,h,p,f,v,y=s.length,b=y;--y>-1;)(d=m[s[y]]||new g(s[y],[])).gsClass?(l[y]=d.gsClass,b--):u&&d.sc.push(this);if(0===b&&o){if(h=("com.greensock."+a).split("."),p=h.pop(),f=c(h.join("."))[p]=this.gsClass=o.apply(o,l),r)if(n[p]=i[p]=f,v="undefined"!=typeof module&&module.exports,!v&&"function"==typeof define&&define.amd)define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return f});else if(v)if(a===t){module.exports=i[t]=f;for(y in i)f[y]=i[y]}else i[t]&&(i[t][p]=f);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},v=e._gsDefine=function(e,t,i,n){return new g(e,t,i,n)},y=u._class=function(e,t,i){return t=t||function(){},v(e,[],function(){return t},i),t};v.globals=n;var b=[0,0,1,1],w=y("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?b.concat(t):b},!0),_=w.map={},x=w.register=function(e,t,i,n){for(var a,s,o,r,l=t.split(","),c=l.length,d=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(s=l[c],a=n?y("easing."+s,null,!0):u.easing[s]||{},o=d.length;--o>-1;)r=d[o],_[s+"."+r]=_[r+s]=a[r]=e.getRatio?e:e[r]||new e};for(o=w.prototype,o._calcEnd=!1,o.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=a.length;--s>-1;)o=a[s]+",Power"+s,x(new w(null,null,1,s),o,"easeOut",!0),x(new w(null,null,2,s),o,"easeIn"+(0===s?",easeNone":"")),x(new w(null,null,3,s),o,"easeInOut");_.linear=u.easing.Linear.easeIn,_.swing=u.easing.Quad.easeInOut;var C=y("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});o=C.prototype,o.addEventListener=function(e,t,i,n,a){a=a||0;var s,o,c=this._listeners[e],u=0;for(this!==r||l||r.wake(),null==c&&(this._listeners[e]=c=[]),o=c.length;--o>-1;)s=c[o],s.c===t&&s.s===i?c.splice(o,1):0===u&&s.pr<a&&(u=o+1);c.splice(u,0,{c:t,s:i,up:n,pr:a})},o.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},o.dispatchEvent=function(e){var t,i,n,a=this._listeners[e];if(a)for(t=a.length,t>1&&(a=a.slice(0)),i=this._eventTarget;--t>-1;)n=a[t],n&&(n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i))};var T=e.requestAnimationFrame,S=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},E=k();for(a=["ms","moz","webkit","o"],s=a.length;--s>-1&&!T;)T=e[a[s]+"RequestAnimationFrame"],S=e[a[s]+"CancelAnimationFrame"]||e[a[s]+"CancelRequestAnimationFrame"];y("Ticker",function(e,t){var i,n,a,s,o,c=this,u=k(),h=t!==!1&&T?"auto":!1,f=500,m=33,g="tick",v=function(e){var t,r,l=k()-E;l>f&&(u+=l-m),E+=l,c.time=(E-u)/1e3,t=c.time-o,(!i||t>0||e===!0)&&(c.frame++,o+=t+(t>=s?.004:s-t),r=!0),e!==!0&&(a=n(v)),r&&c.dispatchEvent(g)};C.call(c),c.time=c.frame=0,c.tick=function(){v(!0)},c.lagSmoothing=function(e,t){f=e||1/d,m=Math.min(t,f,0)},c.sleep=function(){null!=a&&(h&&S?S(a):clearTimeout(a),n=p,a=null,c===r&&(l=!1))},c.wake=function(e){null!==a?c.sleep():e?u+=-E+(E=k()):c.frame>10&&(E=k()-f+5),n=0===i?p:h&&T?T:function(e){return setTimeout(e,1e3*(o-c.time)+1|0)},c===r&&(l=!0),v(2)},c.fps=function(e){return arguments.length?(i=e,s=1/(i||60),o=this.time+s,void c.wake()):i},c.useRAF=function(e){return arguments.length?(c.sleep(),h=e,void c.fps(i)):h},c.fps(e),setTimeout(function(){"auto"===h&&c.frame<5&&"hidden"!==document.visibilityState&&c.useRAF(!1)},1500)}),o=u.Ticker.prototype=new u.events.EventDispatcher,o.constructor=u.Ticker;var D=y("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,V){l||r.wake();var i=this.vars.useFrames?Y:V;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});r=D.ticker=new u.Ticker,o=D.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var P=function(){l&&k()-E>2e3&&r.wake(),setTimeout(P,2e3)};P(),o.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},o.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},o.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},o.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},o.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},o.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},o.render=function(){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&e<i+this.totalDuration()/this._timeScale},o._enabled=function(e,t){return l||r.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(){return this._enabled(!1,!1)},o.kill=function(e,t){return this._kill(e,t),this},o._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},o._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},o._callback=function(e){var t=this.vars,i=t[e],n=t[e+"Params"],a=t[e+"Scope"]||t.callbackScope||this,s=n?n.length:0;switch(s){case 0:i.call(a);break;case 1:i.call(a,n[0]);break;case 2:i.call(a,n[0],n[1]);break;default:i.apply(a,n)}},o.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var a=this.vars;if(1===arguments.length)return a[e];null==t?delete a[e]:(a[e]=t,a[e+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,a[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},o.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},o.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},o.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},o.totalTime=function(e,t,i){if(l||r.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,a=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:a._time)-(this._reversed?n-e:e)/this._timeScale,a._dirty||this._uncache(!1),a._timeline)for(;a._timeline;)a._timeline._time!==(a._startTime+a._totalTime)/a._timeScale&&a.totalTime(a._totalTime,!0),a=a._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(j.length&&G(),this.render(e,t,!1),j.length&&G())}return this},o.progress=o.totalProgress=function(e,t){var i=this.duration();return arguments.length?this.totalTime(i*e,t):i?this._time/i:this.ratio},o.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},o.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||d,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},o.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(e){if(!arguments.length)return this._paused;var t,i,n=this._timeline;return e!=this._paused&&n&&(l||e||r.wake(),t=n.rawTime(),i=t-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var A=y("core.SimpleTimeline",function(e){D.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});o=A.prototype=new D,o.constructor=A,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},o._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(e,t,i){var n,a=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;a;)n=a._next,(a._active||e>=a._startTime&&!a._paused)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(e-a._startTime)*a._timeScale,t,i):a.render((e-a._startTime)*a._timeScale,t,i)),a=n},o.rawTime=function(){return l||r.wake(),this._totalTime};var I=y("TweenLite",function(t,i,n){if(D.call(this,i,n),this.render=I.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:I.selector(t)||t;var a,s,o,r=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?U[I.defaultOverwrite]:"number"==typeof l?l>>0:U[l],(r||t instanceof Array||t.push&&f(t))&&"number"!=typeof t[0])for(this._targets=o=h(t),this._propLookup=[],this._siblings=[],a=0;a<o.length;a++)s=o[a],s?"string"!=typeof s?s.length&&s!==e&&s[0]&&(s[0]===e||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(a--,1),this._targets=o=o.concat(h(s))):(this._siblings[a]=K(s,this,!1),1===l&&this._siblings[a].length>1&&J(s,this,null,1,this._siblings[a])):(s=o[a--]=I.selector(s),"string"==typeof s&&o.splice(a+1,1)):o.splice(a--,1);else this._propLookup={},this._siblings=K(t,this,!1),1===l&&this._siblings.length>1&&J(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-d,this.render(Math.min(0,-this._delay)))},!0),M=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},N=function(e,t){var i,n={};for(i in e)q[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!B[i]||B[i]&&B[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n};o=I.prototype=new D,o.constructor=I,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,I.version="1.19.0",I.defaultEase=o._ease=new w(null,null,1,1),I.defaultOverwrite="auto",I.ticker=r,I.autoSleep=120,I.lagSmoothing=function(e,t){r.lagSmoothing(e,t)},I.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(I.selector=i,i(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var j=[],O={},R=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,L=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.blob?e?this.join(""):this.start:i.c*e+i.s,i.m?t=i.m(t,this._target||i.t):n>t&&t>-n&&(t=0),i.f?i.fp?i.t[i.p](i.fp,t):i.t[i.p](t):i.t[i.p]=t,i=i._next},$=function(e,t,i,n){var a,s,o,r,l,c,u,d=[e,t],h=0,p="",f=0;for(d.start=e,i&&(i(d),e=d[0],t=d[1]),d.length=0,a=e.match(R)||[],s=t.match(R)||[],n&&(n._next=null,n.blob=1,d._firstPT=d._applyPT=n),l=s.length,r=0;l>r;r++)u=s[r],c=t.substr(h,t.indexOf(u,h)-h),p+=c||!r?c:",",h+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),u===a[r]||a.length<=r?p+=u:(p&&(d.push(p),p=""),o=parseFloat(a[r]),d.push(o),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:o,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-o)||0,f:0,m:f&&4>f?Math.round:0}),h+=u.length;return p+=t.substr(h),p&&d.push(p),d.setRatio=L,d},F=function(e,t,i,n,a,s,o,r,l){"function"==typeof n&&(n=n(l||0,e));var c,u,d="get"===i?e[t]:i,h=typeof e[t],p="string"==typeof n&&"="===n.charAt(1),f={t:e,p:t,s:d,f:"function"===h,pg:0,n:a||t,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-d||0};return"number"!==h&&("function"===h&&"get"===i&&(u=t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f.s=d=o?e[u](o):e[u]()),"string"==typeof d&&(o||isNaN(d))?(f.fp=o,c=$(d,n,r||I.defaultStringFilter,f),f={t:c,p:"setRatio",s:0,c:1,f:2,pg:0,n:a||t,pr:0,m:0}):p||(f.s=parseFloat(d),f.c=parseFloat(n)-f.s||0)),f.c?((f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f):void 0},z=I._internals={isArray:f,isSelector:M,lazyTweens:j,blobDif:$},B=I._plugins={},H=z.tweenLookup={},W=0,q=z.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Y=D._rootFramesTimeline=new A,V=D._rootTimeline=new A,X=30,G=z.lazyRender=function(){var e,t=j.length;for(O={};--t>-1;)e=j[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);j.length=0};V._startTime=r.time,Y._startTime=r.frame,V._active=Y._active=!0,setTimeout(G,1),D._updateRoot=I.render=function(){var e,t,i;if(j.length&&G(),V.render((r.time-V._startTime)*V._timeScale,!1,!1),Y.render((r.frame-Y._startTime)*Y._timeScale,!1,!1),j.length&&G(),r.frame>=X){X=r.frame+(parseInt(I.autoSleep,10)||120);for(i in H){for(t=H[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete H[i]}if(i=V._first,(!i||i._paused)&&I.autoSleep&&!Y._first&&1===r._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||r.sleep()}}},r.addEventListener("tick",D._updateRoot);var K=function(e,t,i){var n,a,s=e._gsTweenID;if(H[s||(e._gsTweenID=s="t"+W++)]||(H[s]={target:e,tweens:[]}),t&&(n=H[s].tweens,n[a=n.length]=t,i))for(;--a>-1;)n[a]===t&&n.splice(a,1);return H[s].tweens},Q=function(e,t,i,n){var a,s,o=e.vars.onOverwrite;return o&&(a=o(e,t,i,n)),o=I.onOverwrite,o&&(s=o(e,t,i,n)),a!==!1&&s!==!1},J=function(e,t,i,n,a){var s,o,r,l;if(1===n||n>=4){for(l=a.length,s=0;l>s;s++)if((r=a[s])!==t)r._gc||r._kill(null,e,t)&&(o=!0);else if(5===n)break;return o}var c,u=t._startTime+d,h=[],p=0,f=0===t._duration;for(s=a.length;--s>-1;)(r=a[s])===t||r._gc||r._paused||(r._timeline!==t._timeline?(c=c||Z(t,0,f),0===Z(r,c,f)&&(h[p++]=r)):r._startTime<=u&&r._startTime+r.totalDuration()/r._timeScale>u&&((f||!r._initted)&&u-r._startTime<=2e-10||(h[p++]=r)));for(s=p;--s>-1;)if(r=h[s],2===n&&r._kill(i,e,t)&&(o=!0),2!==n||!r._firstPT&&r._initted){if(2!==n&&!Q(r,t))continue;r._enabled(!1,!1)&&(o=!0)}return o},Z=function(e,t,i){for(var n=e._timeline,a=n._timeScale,s=e._startTime;n._timeline;){if(s+=n._startTime,a*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=a,s>t?s-t:i&&s===t||!e._initted&&2*d>s-t?d:(s+=e.totalDuration()/e._timeScale/a)>t+d?0:s-t-d};o._init=function(){var e,t,i,n,a,s,o=this.vars,r=this._overwrittenProps,l=this._duration,c=!!o.immediateRender,u=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),a={};for(n in o.startAt)a[n]=o.startAt[n];if(a.overwrite=!1,a.immediateRender=!0,a.lazy=c&&o.lazy!==!1,a.startAt=a.delay=null,this._startAt=I.to(this.target,0,a),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(o.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(c=!1),i={};for(n in o)q[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=c&&o.lazy!==!1,i.immediateRender=c,this._startAt=I.to(this.target,0,i),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof w?u:"function"==typeof u?new w(u,o.easeParams):_[u]||I.defaultEase:I.defaultEase,o.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,e=0;s>e;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],r?r[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,r,0);if(t&&I._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},o._initProps=function(t,i,n,a,s){var o,r,l,c,u,d;if(null==t)return!1;O[t._gsTweenID]&&G(),this.vars.css||t.style&&t!==e&&t.nodeType&&B.css&&this.vars.autoCSS!==!1&&N(this.vars,t);for(o in this.vars)if(d=this.vars[o],q[o])d&&(d instanceof Array||d.push&&f(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[o]=d=this._swapSelfInParams(d,this));else if(B[o]&&(c=new B[o])._onInitTween(t,this.vars[o],this,s)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:c._priority,m:0},r=c._overwriteProps.length;--r>-1;)i[c._overwriteProps[r]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else i[o]=F.call(this,t,o,"get",d,o,0,null,this.vars.stringFilter,s);return a&&this._kill(a,t)?this._initProps(t,i,n,a,s):this._overwrite>1&&this._firstPT&&n.length>1&&J(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,a,s)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(O[t._gsTweenID]=!0),l)},o.render=function(e,t,i){var n,a,s,o,r=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,a="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0>c||0>=e&&e>=-1e-7||c===d&&"isPause"!==this.data)&&c!==e&&(i=!0,c>d&&(a="onReverseComplete")),this._rawPrevTime=o=!t||e||c===e?e:d);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==r||0===l&&c>0)&&(a="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==d||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!t||e||c===e?e:d)),this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,h=this._easeType,p=this._easePower;(1===h||3===h&&u>=.5)&&(u=1-u),3===h&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),1===h?this.ratio=1-u:2===h?this.ratio=u:.5>e/l?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==r||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=r,this._rawPrevTime=c,j.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==r&&e>=0&&(this._active=!0),0===r&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&e!==-1e-4&&this._startAt.render(e,t,i),t||(this._time!==r||n||i)&&this._callback("onUpdate")),a&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a),0===l&&this._rawPrevTime===d&&o!==d&&(this._rawPrevTime=0))}},o._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:I.selector(t)||t;var n,a,s,o,r,l,c,u,d,h=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((f(t)||M(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){r=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],a=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;r=this._propLookup,a=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(r){if(c=e||r,u=e!==a&&"all"!==a&&e!==r&&("object"!=typeof e||!e._tempKill),i&&(I.onOverwrite||this.vars.onOverwrite)){for(s in c)r[s]&&(d||(d=[]),d.push(s));if((d||!e)&&!Q(this,i,t,d))return!1}for(s in c)(o=r[s])&&(h&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,l=!0),o.pg&&o.t._kill(c)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete r[s]),u&&(a[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-d,this.render(Math.min(0,-this._delay))),this},o._enabled=function(e,t){if(l||r.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=K(n[i],this,!0);else this._siblings=K(this.target,this,!0)}return D.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?I._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},I.to=function(e,t,i){return new I(e,t,i)},I.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(e,t,i)},I.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new I(e,t,n)},I.delayedCall=function(e,t,i,n,a){return new I(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:a,overwrite:0})},I.set=function(e,t){return new I(e,0,t)},I.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:I.selector(e)||e;var i,n,a,s;if((f(e)||M(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(I.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(s=n[i],a=i;--a>-1;)s===n[a]&&n.splice(i,1)}else for(n=K(e).concat(),i=n.length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},I.killTweensOf=I.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=I.getTweensOf(e,t),a=n.length;--a>-1;)n[a]._kill(i,e)};var ee=y("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ee.prototype},!0);if(o=ee.prototype,ee.version="1.19.0",ee.API=2,o._firstPT=null,o._addTween=F,o.setRatio=L,o._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._mod=o._roundProps=function(e){for(var t,i=this._firstPT;i;)t=e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===i.f?i.t._applyPT.m=t:i.m=t),i=i._next},I._onPluginEvent=function(e,t){var i,n,a,s,o,r=t._firstPT;if("_onInitAllProps"===e){
for(;r;){for(o=r._next,n=a;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:s)?r._prev._next=r:a=r,(r._next=n)?n._prev=r:s=r,r=o}r=t._firstPT=a}for(;r;)r.pg&&"function"==typeof r.t[e]&&r.t[e]()&&(i=!0),r=r._next;return i},ee.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ee.API&&(B[(new e[t])._propName]=e[t]);return!0},v.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,a=e.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=y("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){ee.call(this,i,n),this._overwriteProps=a||[]},e.global===!0),r=o.prototype=new ee(i);r.constructor=o,o.API=e.API;for(t in s)"function"==typeof e[t]&&(r[s[t]]=e[t]);return o.version=e.version,ee.activate([o]),o},a=e._gsQueue){for(s=0;s<a.length;s++)a[s]();for(o in m)m[o].func||e.console.log("GSAP encountered missing dependency: "+o)}l=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,a=this.vars;for(n in a)i=a[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(a[n]=this._swapSelfInParams(i));l(a.tweens)&&this.add(a.tweens,0,a.align,a.stagger)},a=1e-10,s=i._internals,o=n._internals={},r=s.isSelector,l=s.isArray,c=s.lazyTweens,u=s.lazyRender,d=_gsScope._gsDefine.globals,h=function(e){var t,i={};for(t in e)i[t]=e[t];return i},p=function(e,t,i){var n,a,s=e.cycle;for(n in s)a=s[n],e[n]="function"==typeof a?a(i,t[i]):a[i%a.length];delete e.cycle},f=o.pauseCallback=function(){},m=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},g=n.prototype=new t;return n.version="1.19.0",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(e,t,n,a){var s=n.repeat&&d.TweenMax||i;return t?this.add(new s(e,t,n),a):this.set(e,n,a)},g.from=function(e,t,n,a){return this.add((n.repeat&&d.TweenMax||i).from(e,t,n),a)},g.fromTo=function(e,t,n,a,s){var o=a.repeat&&d.TweenMax||i;return t?this.add(o.fromTo(e,t,n,a),s):this.set(e,a,s)},g.staggerTo=function(e,t,a,s,o,l,c,u){var d,f,g=new n({onComplete:l,onCompleteParams:c,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),v=a.cycle;for("string"==typeof e&&(e=i.selector(e)||e),e=e||[],r(e)&&(e=m(e)),s=s||0,0>s&&(e=m(e),e.reverse(),s*=-1),f=0;f<e.length;f++)d=h(a),d.startAt&&(d.startAt=h(d.startAt),d.startAt.cycle&&p(d.startAt,e,f)),v&&(p(d,e,f),null!=d.duration&&(t=d.duration,delete d.duration)),g.to(e[f],t,d,f*s);return this.add(g,o)},g.staggerFrom=function(e,t,i,n,a,s,o,r){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,a,s,o,r)},g.staggerFromTo=function(e,t,i,n,a,s,o,r,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,a,s,o,r,l)},g.call=function(e,t,n,a){return this.add(i.delayedCall(0,e,t,n),a)},g.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var a,s,o=new n(e),r=o._timeline;for(null==t&&(t=!0),r._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=r._time,a=r._first;a;)s=a._next,t&&a instanceof i&&a.target===a.vars.onComplete||o.add(a,a._startTime-a._delay),a=s;return r.add(o,0),o},g.add=function(a,s,o,r){var c,u,d,h,p,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,a)),!(a instanceof e)){if(a instanceof Array||a&&a.push&&l(a)){for(o=o||"normal",r=r||0,c=s,u=a.length,d=0;u>d;d++)l(h=a[d])&&(h=new n({tweens:h})),this.add(h,c),"string"!=typeof h&&"function"!=typeof h&&("sequence"===o?c=h._startTime+h.totalDuration()/h._timeScale:"start"===o&&(h._startTime-=h.delay())),c+=r;return this._uncache(!0)}if("string"==typeof a)return this.addLabel(a,s);if("function"!=typeof a)throw"Cannot add "+a+" into the timeline; it is not a tween, timeline, function, or string.";a=i.delayedCall(0,a)}if(t.prototype.add.call(this,a,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>a._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(t){if(t instanceof e){this._remove(t,!1);var i=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:i._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&l(t)){for(var n=t.length;--n>-1;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},g._remove=function(e,i){t.prototype._remove.call(this,e,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},g.insert=g.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},g.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},g.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},g.addPause=function(e,t,n,a){var s=i.delayedCall(0,f,n,a||this);return s.vars.onComplete=s.vars.onReverseComplete=t,s.data="isPause",this._hasPause=!0,this.add(s,e)},g.removeLabel=function(e){return delete this._labels[e],this},g.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},g._parseTimeOrLabel=function(t,i,n,a){var s;if(a instanceof e&&a.timeline===this)this.remove(a);else if(a&&(a instanceof Array||a.push&&l(a)))for(s=a.length;--s>-1;)a[s]instanceof e&&a[s].timeline===this&&this.remove(a[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(s=t.indexOf("="),-1===s)return null==this._labels[t]?n?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,n):this.duration()}return Number(t)+i},g.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(e,t){return this.play(e,t)},g.gotoAndStop=function(e,t){return this.pause(e,t)},g.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,s,o,r,l,d,h,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._startTime,g=this._timeScale,v=this._paused;if(e>=p-1e-7)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(s=!0,r="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===a)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>a&&(r="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:a,e=p+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==a&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(r="onReverseComplete",s=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=s=!0,r="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:a,0===e&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;e=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=f)for(n=this._first;n&&n._startTime<=e&&!d;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(d=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!d;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(d=n),n=n._prev;d&&(this._time=e=d._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==f&&this._first||i||l||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&e>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),h=this._time,h>=f)for(n=this._first;n&&(o=n._next,h===this._time&&(!this._paused||v));)(n._active||n._startTime<=h&&!n._paused&&!n._gc)&&(d===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;else for(n=this._last;n&&(o=n._prev,h===this._time&&(!this._paused||v));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(d===n){for(d=n._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,t,i),d=d._prev;d=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)}n=o}this._onUpdate&&(t||(c.length&&u(),this._callback("onUpdate"))),r&&(this._gc||(m===this._startTime||g!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(s&&(c.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r)))}},g._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},g.getChildren=function(e,t,n,a){a=a||-9999999999;for(var s=[],o=this._first,r=0;o;)o._startTime<a||(o instanceof i?t!==!1&&(s[r++]=o):(n!==!1&&(s[r++]=o),e!==!1&&(s=s.concat(o.getChildren(!0,t,n)),r=s.length))),o=o._next;return s},g.getTweensOf=function(e,t){var n,a,s=this._gc,o=[],r=0;for(s&&this._enabled(!0,!0),n=i.getTweensOf(e),a=n.length;--a>-1;)(n[a].timeline===this||t&&this._contains(n[a]))&&(o[r++]=n[a]);return s&&this._enabled(!1,!0),o},g.recent=function(){return this._recent},g._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},g.shiftChildren=function(e,t,i){i=i||0;for(var n,a=this._first,s=this._labels;a;)a._startTime>=i&&(a._startTime+=e),a=a._next;if(t)for(n in s)s[n]>=i&&(s[n]+=e);return this._uncache(!0)},g._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,a=!1;--n>-1;)i[n]._kill(e,t)&&(a=!0);return a},g.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},g._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},g.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},g.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,a=this._last,s=999999999999;a;)t=a._prev,a._dirty&&a.totalDuration(),a._startTime>s&&this._sortChildren&&!a._paused?this.add(a,a._startTime-a._delay):s=a._startTime,a._startTime<0&&!a._paused&&(n-=a._startTime,this._timeline.smoothChildTiming&&(this._startTime+=a._startTime/this._timeScale),this.shiftChildren(-a._startTime,!1,-9999999999),s=0),i=a._startTime+a._totalDuration/a._timeScale,i>n&&(n=i),a=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},g.paused=function(t){if(!t)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=t())}("TimelineLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,n,a=_gsScope.GreenSockGlobals||_gsScope,s=a.com.greensock,o=2*Math.PI,r=Math.PI/2,l=s._class,c=function(t,i){var n=l("easing."+t,function(){},!0),a=n.prototype=new e;return a.constructor=n,a.getRatio=i,n},u=e.register||function(){},d=function(e,t,i,n){var a=l("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return u(a,e),a},h=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},p=function(t,i){var n=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),a=n.prototype=new e;return a.constructor=n,a.getRatio=i,a.config=function(e){return new n(e)},n},f=d("Back",p("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),p("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),p("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=l("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),g=m.prototype=new e;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,i){return new m(e,t,i)},t=l("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),g=t.prototype=new e,g.constructor=t,g.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},g.config=t.config=function(e){return new t(e)},i=l("easing.RoughEase",function(t){t=t||{};for(var i,n,a,s,o,r,l=t.taper||"none",c=[],u=0,d=0|(t.points||20),p=d,f=t.randomize!==!1,m=t.clamp===!0,g=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)i=f?Math.random():1/d*p,n=g?g.getRatio(i):i,"none"===l?a=v:"out"===l?(s=1-i,a=s*s*v):"in"===l?a=i*i*v:.5>i?(s=2*i,a=s*s*.5*v):(s=2*(1-i),a=s*s*.5*v),f?n+=Math.random()*a-.5*a:p%2?n+=.5*a:n-=.5*a,m&&(n>1?n=1:0>n&&(n=0)),c[u++]={x:i,y:n};for(c.sort(function(e,t){return e.x-t.x}),r=new h(1,1,null),p=d;--p>-1;)o=c[p],r=new h(o.x,o.y,r);this._prev=new h(0,0,0!==r.t?r:r.next)},!0),g=i.prototype=new e,g.constructor=i,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new i(e)},i.ease=new i,d("Bounce",c("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),c("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),c("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),d("Circ",c("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),c("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),c("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),n=function(t,i,n){var a=l("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(1>e?e:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),s=a.prototype=new e;return s.constructor=a,s.getRatio=i,s.config=function(e,t){return new a(e,t)},a},d("Elastic",n("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),n("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),n("ElasticInOut",function(e){return(e*=2)<1?-.5*(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),d("Expo",c("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),c("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),c("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),d("Sine",c("SineOut",function(e){return Math.sin(e*r)}),c("SineIn",function(e){return-Math.cos(e*r)+1}),c("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),u(a.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(t,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";var e=function(){return _gsScope.GreenSockGlobals||_gsScope};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}(),!function(e){"use strict";var t,i,n,a=e.fn.animate,s=e.fn.stop,o=!0,r=function(e){var t,i={};for(t in e)i[t]=e[t];return i},l={overwrite:1,delay:1,useFrames:1,runBackwards:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,autoCSS:1},c=",scrollTop,scrollLeft,show,hide,toggle,",u=c,d=function(e,t){for(var i in l)l[i]&&void 0!==e[i]&&(t[i]=e[i])},h=function(e){return function(t){return e.getRatio(t)}},p={},f=function(){var a,s,o,r=window.GreenSockGlobals||window;if(t=r.TweenMax||r.TweenLite,t&&(a=(t.version+".0.0").split("."),s=!(Number(a[0])>0&&Number(a[1])>7),r=r.com.greensock,i=r.plugins.CSSPlugin,p=r.easing.Ease.map||{}),!t||!i||s)return t=null,void(!n&&window.console&&(window.console.log("The jquery.gsap.js plugin requires the TweenMax (or at least TweenLite and CSSPlugin) JavaScript file(s)."+(s?" Version "+a.join(".")+" is too old.":"")),n=!0));if(e.easing){for(o in p)e.easing[o]=h(p[o]);f=!1}};e.fn.animate=function(n,s,l,c){if(n=n||{},f&&(f(),!t||!i))return a.call(this,n,s,l,c);if(!o||n.skipGSAP===!0||"object"==typeof s&&"function"==typeof s.step)return a.call(this,n,s,l,c);var h,m,g,v,y=e.speed(s,l,c),b={ease:p[y.easing]||(y.easing===!1?p.linear:p.swing)},w=this,_="object"==typeof s?s.specialEasing:null;for(m in n){if(h=n[m],h instanceof Array&&p[h[1]]&&(_=_||{},_[m]=h[1],h=h[0]),"show"===h||"hide"===h||"toggle"===h||-1!==u.indexOf(m)&&-1!==u.indexOf(","+m+","))return a.call(this,n,s,l,c);b[-1===m.indexOf("-")?m:e.camelCase(m)]=h}if(_){b=r(b),v=[];for(m in _)h=v[v.length]={},d(b,h),h.ease=p[_[m]]||b.ease,-1!==m.indexOf("-")&&(m=e.camelCase(m)),h[m]=b[m],delete b[m];0===v.length&&(v=null)}return g=function(i){var n,a=r(b);if(v)for(n=v.length;--n>-1;)t.to(this,e.fx.off?0:y.duration/1e3,v[n]);a.onComplete=function(){i?i():y.old&&e(this).each(y.old)},t.to(this,e.fx.off?0:y.duration/1e3,a)},y.queue!==!1?(w.queue(y.queue,g),"function"==typeof y.old&&e(w[w.length-1]).queue(y.queue,function(e){y.old.call(w),e()})):g.call(w),w},e.fn.stop=function(e,i){if(s.call(this,e,i),t){if(i)for(var n,a=t.getTweensOf(this),o=a.length;--o>-1;)n=a[o].totalTime()/a[o].totalDuration(),n>0&&1>n&&a[o].seek(a[o].totalDuration());t.killTweensOf(this)}return this},e.gsap={enabled:function(e){o=e},version:"0.1.12",legacyProps:function(e){u=c+e+","}}}(jQuery);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,n,a,s,o=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},r=_gsScope._gsDefine.globals,l={},c=o.prototype=new e("css");c.constructor=o,o.version="1.19.0",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,c="px",o.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,d,h,p,f,m,g,v,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,C=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,k=/^(rgb|hsl)/,E=/([A-Z])/g,D=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(e,t){return t.toUpperCase()},I=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,j=/,(?=[^\)]*(?:\(|$))/gi,O=/[\s,\(]/i,R=Math.PI/180,L=180/Math.PI,$={},F=document,z=function(e){return F.createElementNS?F.createElementNS("http://www.w3.org/1999/xhtml",e):F.createElement(e)},B=z("div"),H=z("img"),W=o._internals={_specialProps:l},q=navigator.userAgent,U=function(){var e=q.indexOf("Android"),t=z("a");return h=-1!==q.indexOf("Safari")&&-1===q.indexOf("Chrome")&&(-1===e||Number(q.substr(e+8,1))>3),f=h&&Number(q.substr(q.indexOf("Version/")+8,1))<6,p=-1!==q.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(m=parseFloat(RegExp.$1)),t?(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity)):!1}(),Y=function(e){return C.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(e){window.console&&console.log(e)},X="",G="",K=function(e,t){t=t||B;var i,n,a=t.style;if(void 0!==a[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===a[i[n]+e];);return n>=0?(G=3===n?"ms":i[n],X="-"+G.toLowerCase()+"-",G+e):null},Q=F.defaultView?F.defaultView.getComputedStyle:function(){},J=o.getStyle=function(e,t,i,n,a){var s;return U||"opacity"!==t?(!n&&e.style[t]?s=e.style[t]:(i=i||Q(e))?s=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(E,"-$1").toLowerCase()):e.currentStyle&&(s=e.currentStyle[t]),null==a||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:a):Y(e)},Z=W.convertToPixels=function(e,i,n,a,s){if("px"===a||!a)return n;if("auto"===a||!n)return 0;var r,l,c,u=I.test(i),d=e,h=B.style,p=0>n,f=1===n;if(p&&(n=-n),f&&(n*=100),"%"===a&&-1!==i.indexOf("border"))r=n/100*(u?e.clientWidth:e.clientHeight);else{if(h.cssText="border:0 solid red;position:"+J(e,"position")+";line-height:0;","%"!==a&&d.appendChild&&"v"!==a.charAt(0)&&"rem"!==a)h[u?"borderLeftWidth":"borderTopWidth"]=n+a;else{if(d=e.parentNode||F.body,l=d._gsCache,c=t.ticker.frame,l&&u&&l.time===c)return l.width*n/100;h[u?"width":"height"]=n+a}d.appendChild(B),r=parseFloat(B[u?"offsetWidth":"offsetHeight"]),d.removeChild(B),u&&"%"===a&&o.cacheWidths!==!1&&(l=d._gsCache=d._gsCache||{},l.time=c,l.width=r/n*100),0!==r||s||(r=Z(e,i,n,a,!0))}return f&&(r/=100),p?-r:r},ee=W.calculateOffset=function(e,t,i){if("absolute"!==J(e,"position",i))return 0;var n="left"===t?"Left":"Top",a=J(e,"margin"+n,i);return e["offset"+n]-(Z(e,t,parseFloat(a),a.replace(x,""))||0)},te=function(e,t){var i,n,a,s={};if(t=t||Q(e,null))if(i=t.length)for(;--i>-1;)a=t[i],(-1===a.indexOf("-transform")||De===a)&&(s[a.replace(D,A)]=t.getPropertyValue(a));else for(i in t)(-1===i.indexOf("Transform")||Ee===i)&&(s[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===s[i]&&(s[i.replace(D,A)]=t[i]);return U||(s.opacity=Y(e)),n=Be(e,t,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Ae&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},ie=function(e,t,i,n,a){var s,o,r,l={},c=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(s=i[o])||a&&a[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof t[o]||""===t[o].replace(_,"")?s:0:ee(e,o),void 0!==c[o]&&(r=new ve(c,o,c[o],r)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:r}},ne={width:["Left","Right"],height:["Top","Bottom"]},ae=["marginLeft","marginRight","marginTop","marginBottom"],se=function(e,t,i){if("svg"===(e.nodeName+"").toLowerCase())return(i||Q(e))[t]||0;if(e.getBBox&&$e(e))return e.getBBox()[t]||0;var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),a=ne[t],s=a.length;for(i=i||Q(e,null);--s>-1;)n-=parseFloat(J(e,"padding"+a[s],i,!0))||0,n-=parseFloat(J(e,"border"+a[s]+"Width",i,!0))||0;return n},oe=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";(null==e||""===e)&&(e="0 0");var i,n=e.split(" "),a=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":n[0],s=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":n[1];if(n.length>3&&!t){for(n=e.split(", ").join(",").split(","),e=[],i=0;i<n.length;i++)e.push(oe(n[i]));return e.join(",")}return null==s?s="center"===a?"50%":"0":"center"===s&&(s="50%"),("center"===a||isNaN(parseFloat(a))&&-1===(a+"").indexOf("="))&&(a="50%"),e=a+" "+s+(n.length>2?" "+n[2]:""),t&&(t.oxp=-1!==a.indexOf("%"),t.oyp=-1!==s.indexOf("%"),t.oxr="="===a.charAt(1),t.oyr="="===s.charAt(1),t.ox=parseFloat(a.replace(_,"")),t.oy=parseFloat(s.replace(_,"")),t.v=e),t||e},re=function(e,t){return"function"==typeof e&&(e=e(v,g)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},le=function(e,t){return"function"==typeof e&&(e=e(v,g)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ce=function(e,t,i,n){var a,s,o,r,l,c=1e-6;return"function"==typeof e&&(e=e(v,g)),null==e?r=t:"number"==typeof e?r=e:(a=360,s=e.split("_"),l="="===e.charAt(1),o=(l?parseInt(e.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===e.indexOf("rad")?1:L)-(l?0:t),s.length&&(n&&(n[i]=t+o),-1!==e.indexOf("short")&&(o%=a,o!==o%(a/2)&&(o=0>o?o+a:o-a)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*a)%a-(o/a|0)*a:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*a)%a-(o/a|0)*a)),r=t+o),c>r&&r>-c&&(r=0),r},ue={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},de=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,255*(1>6*e?t+(i-t)*e*6:.5>e?i:2>3*e?t+(i-t)*(2/3-e)*6:t)+.5|0},he=o.parseColor=function(e,t){var i,n,a,s,o,r,l,c,u,d,h;if(e)if("number"==typeof e)i=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ue[e])i=ue[e];else if("#"===e.charAt(0))4===e.length&&(n=e.charAt(1),a=e.charAt(2),s=e.charAt(3),e="#"+n+n+a+a+s+s),e=parseInt(e.substr(1),16),i=[e>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(i=h=e.match(y),t){if(-1!==e.indexOf("="))return e.match(b)}else o=Number(i[0])%360/360,r=Number(i[1])/100,l=Number(i[2])/100,a=.5>=l?l*(r+1):l+r-l*r,n=2*l-a,i.length>3&&(i[3]=Number(e[3])),i[0]=de(o+1/3,n,a),i[1]=de(o,n,a),i[2]=de(o-1/3,n,a);else i=e.match(y)||ue.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ue.black;return t&&!h&&(n=i[0]/255,a=i[1]/255,s=i[2]/255,c=Math.max(n,a,s),u=Math.min(n,a,s),l=(c+u)/2,c===u?o=r=0:(d=c-u,r=l>.5?d/(2-c-u):d/(c+u),o=c===n?(a-s)/d+(s>a?6:0):c===a?(s-n)/d+2:(n-a)/d+4,o*=60),i[0]=o+.5|0,i[1]=100*r+.5|0,i[2]=100*l+.5|0),i},pe=function(e,t){var i,n,a,s=e.match(fe)||[],o=0,r=s.length?"":e;for(i=0;i<s.length;i++)n=s[i],a=e.substr(o,e.indexOf(n,o)-o),o+=a.length+n.length,n=he(n,t),3===n.length&&n.push(1),r+=a+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return r+e.substr(o)},fe="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ue)fe+="|"+c+"\\b";fe=new RegExp(fe+")","gi"),o.colorStringFilter=function(e){var t,i=e[0]+e[1];fe.test(i)&&(t=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),e[0]=pe(e[0],t),e[1]=pe(e[1],t)),fe.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=o.colorStringFilter);var me=function(e,t,i,n){if(null==e)return function(e){return e};var a,s=t?(e.match(fe)||[""])[0]:"",o=e.split(s).join("").match(w)||[],r=e.substr(0,e.indexOf(o[0])),l=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",u=o.length,d=u>0?o[0].replace(y,""):"";return u?a=t?function(e){var t,h,p,f;if("number"==typeof e)e+=d;else if(n&&j.test(e)){for(f=e.replace(j,"|").split("|"),p=0;p<f.length;p++)f[p]=a(f[p]);return f.join(",")}if(t=(e.match(fe)||[s])[0],h=e.split(t).join("").match(w)||[],p=h.length,u>p--)for(;++p<u;)h[p]=i?h[(p-1)/2|0]:o[p];return r+h.join(c)+c+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,s,h;if("number"==typeof e)e+=d;else if(n&&j.test(e)){for(s=e.replace(j,"|").split("|"),h=0;h<s.length;h++)s[h]=a(s[h]);return s.join(",")}if(t=e.match(w)||[],h=t.length,u>h--)for(;++h<u;)t[h]=i?t[(h-1)/2|0]:o[h];return r+t.join(c)+l}:function(e){return e}},ge=function(e){return e=e.split(","),function(t,i,n,a,s,o,r){var l,c=(i+"").split(" ");for(r={},l=0;4>l;l++)r[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return a.parse(t,r,s,o)}},ve=(W._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,a,s,o=this.data,r=o.proxy,l=o.firstMPT,c=1e-6;l;)t=r[l.v],l.r?t=Math.round(t):c>t&&t>-c&&(t=0),l.t[l.p]=t,l=l._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod(r.rotation,this.t):r.rotation),1===e||0===e)for(l=o.firstMPT,s=1===e?"e":"b";l;){if(i=l.t,i.type){if(1===i.type){for(a=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)a+=i["xn"+n]+i["xs"+(n+1)];i[s]=a}}else i[s]=i.s+i.xs0;l=l._next}},function(e,t,i,n,a){this.t=e,this.p=t,this.v=i,this.r=a,n&&(n._prev=this,this._next=n)}),ye=(W._parseToProxy=function(e,t,i,n,a,s){var o,r,l,c,u,d=n,h={},p={},f=i._transform,m=$;for(i._transform=null,$=t,n=u=i.parse(e,t,n,a),$=m,s&&(i._transform=f,d&&(d._prev=null,d._prev&&(d._prev._next=null)));n&&n!==d;){if(n.type<=1&&(r=n.p,p[r]=n.s+n.c,h[r]=n.s,s||(c=new ve(n,"s",r,c,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)l="xn"+o,r=n.p+"_"+l,p[r]=n.data[l],h[r]=n[l],s||(c=new ve(n,l,r,c,n.rxp[l]));n=n._next}return{proxy:h,end:p,firstMPT:c,pt:u}},W.CSSPropTween=function(e,t,n,a,o,r,l,c,u,d,h){this.t=e,this.p=t,this.s=n,this.c=a,this.n=l||t,e instanceof ye||s.push(this.n),this.r=c,this.type=r||0,u&&(this.pr=u,i=!0),this.b=void 0===d?n:d,this.e=void 0===h?n+a:h,o&&(this._next=o,o._prev=this)}),be=function(e,t,i,n,a,s){var o=new ye(e,t,i,n-i,a,-1,s);return o.b=i,o.e=o.xs0=n,o},we=o.parseComplex=function(e,t,i,n,a,s,r,l,c,d){i=i||s||"","function"==typeof n&&(n=n(v,g)),r=new ye(e,t,0,0,r,d?2:1,null,!1,l,i,n),n+="",a&&fe.test(n+i)&&(n=[i,n],o.colorStringFilter(n),i=n[0],n=n[1]);var h,p,f,m,w,_,x,C,T,S,k,E,D,P=i.split(", ").join(",").split(" "),A=n.split(", ").join(",").split(" "),I=P.length,M=u!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(P=P.join(" ").replace(j,", ").split(" "),A=A.join(" ").replace(j,", ").split(" "),I=P.length),I!==A.length&&(P=(s||"").split(" "),I=P.length),r.plugin=c,r.setRatio=d,fe.lastIndex=0,h=0;I>h;h++)if(m=P[h],w=A[h],C=parseFloat(m),C||0===C)r.appendXtra("",C,re(w,C),w.replace(b,""),M&&-1!==w.indexOf("px"),!0);else if(a&&fe.test(m))E=w.indexOf(")")+1,E=")"+(E?w.substr(E):""),D=-1!==w.indexOf("hsl")&&U,m=he(m,D),w=he(w,D),T=m.length+w.length>6,T&&!U&&0===w[3]?(r["xs"+r.l]+=r.l?" transparent":"transparent",r.e=r.e.split(A[h]).join("transparent")):(U||(T=!1),D?r.appendXtra(T?"hsla(":"hsl(",m[0],re(w[0],m[0]),",",!1,!0).appendXtra("",m[1],re(w[1],m[1]),"%,",!1).appendXtra("",m[2],re(w[2],m[2]),T?"%,":"%"+E,!1):r.appendXtra(T?"rgba(":"rgb(",m[0],w[0]-m[0],",",!0,!0).appendXtra("",m[1],w[1]-m[1],",",!0).appendXtra("",m[2],w[2]-m[2],T?",":E,!0),
T&&(m=m.length<4?1:m[3],r.appendXtra("",m,(w.length<4?1:w[3])-m,E,!1))),fe.lastIndex=0;else if(_=m.match(y)){if(x=w.match(b),!x||x.length!==_.length)return r;for(f=0,p=0;p<_.length;p++)k=_[p],S=m.indexOf(k,f),r.appendXtra(m.substr(f,S-f),Number(k),re(x[p],k),"",M&&"px"===m.substr(S+k.length,2),0===p),f=S+k.length;r["xs"+r.l]+=m.substr(f)}else r["xs"+r.l]+=r.l||r["xs"+r.l]?" "+w:w;if(-1!==n.indexOf("=")&&r.data){for(E=r.xs0+r.data.s,h=1;h<r.l;h++)E+=r["xs"+h]+r.data["xn"+h];r.e=E+r["xs"+h]}return r.l||(r.type=-1,r.xs0=r.e),r.xfirst||r},_e=9;for(c=ye.prototype,c.l=c.pr=0;--_e>0;)c["xn"+_e]=0,c["xs"+_e]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,i,n,a,s){var o=this,r=o.l;return o["xs"+r]+=s&&(r||o["xs"+r])?" "+e:e||"",i||0===r||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",r>0?(o.data["xn"+r]=t+i,o.rxp["xn"+r]=a,o["xn"+r]=t,o.plugin||(o.xfirst=new ye(o,"xn"+r,t,i,o.xfirst||o,0,o.n,a,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=a,o)):(o["xs"+r]+=t+(n||""),o)};var xe=function(e,t){t=t||{},this.p=t.prefix?K(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||me(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Ce=W._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,a,s=e.split(","),o=t.defaultValue;for(i=i||[o],n=0;n<s.length;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||o,a=new xe(s[n],t)},Te=W._registerPluginProp=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Ce(e,{parser:function(e,i,n,a,s,o,c){var u=r.com.greensock.plugins[t];return u?(u._cssRegister(),l[n].parse(e,i,n,a,s,o,c)):(V("Error: "+t+" js file not loaded."),s)}})}};c=xe.prototype,c.parseComplex=function(e,t,i,n,a,s){var o,r,l,c,u,d,h=this.keyword;if(this.multi&&(j.test(i)||j.test(t)?(r=t.replace(j,"|").split("|"),l=i.replace(j,"|").split("|")):h&&(r=[t],l=[i])),l){for(c=l.length>r.length?l.length:r.length,o=0;c>o;o++)t=r[o]=r[o]||this.dflt,i=l[o]=l[o]||this.dflt,h&&(u=t.indexOf(h),d=i.indexOf(h),u!==d&&(-1===d?r[o]=r[o].split(h).join(""):-1===u&&(r[o]+=" "+h)));t=r.join(", "),i=l.join(", ")}return we(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,a,s)},c.parse=function(e,t,i,n,s,o){return this.parseComplex(e.style,this.format(J(e,this.p,a,!1,this.dflt)),this.format(t),s,o)},o.registerSpecialProp=function(e,t,i){Ce(e,{parser:function(e,n,a,s,o,r){var l=new ye(e,a,0,0,o,2,a,!1,i);return l.plugin=r,l.setRatio=t(e,n,s._tween,a),l},priority:i})},o.useSVGTransformAttr=h||p;var Se,ke="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ee=K("transform"),De=X+"transform",Pe=K("transformOrigin"),Ae=null!==K("perspective"),Ie=W.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=o.defaultForce3D!==!1&&Ae?o.defaultForce3D||"auto":!1},Me=window.SVGElement,Ne=function(e,t,i){var n,a=F.createElementNS("http://www.w3.org/2000/svg",e),s=/([a-z])([A-Z])/g;for(n in i)a.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return t.appendChild(a),a},je=F.documentElement,Oe=function(){var e,t,i,n=m||/Android/i.test(q)&&!window.chrome;return F.createElementNS&&!n&&(e=Ne("svg",je),t=Ne("rect",e,{width:100,height:50,x:100}),i=t.getBoundingClientRect().width,t.style[Pe]="50% 50%",t.style[Ee]="scaleX(0.5)",n=i===t.getBoundingClientRect().width&&!(p&&Ae),je.removeChild(e)),n}(),Re=function(e,t,i,n,a,s){var r,l,c,u,d,h,p,f,m,g,v,y,b,w,_=e._gsTransform,x=ze(e,!0);_&&(b=_.xOrigin,w=_.yOrigin),(!n||(r=n.split(" ")).length<2)&&(p=e.getBBox(),t=oe(t).split(" "),r=[(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*p.width:parseFloat(t[0]))+p.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*p.height:parseFloat(t[1]))+p.y]),i.xOrigin=u=parseFloat(r[0]),i.yOrigin=d=parseFloat(r[1]),n&&x!==Fe&&(h=x[0],p=x[1],f=x[2],m=x[3],g=x[4],v=x[5],y=h*m-p*f,l=u*(m/y)+d*(-f/y)+(f*v-m*g)/y,c=u*(-p/y)+d*(h/y)-(h*v-p*g)/y,u=i.xOrigin=r[0]=l,d=i.yOrigin=r[1]=c),_&&(s&&(i.xOffset=_.xOffset,i.yOffset=_.yOffset,_=i),a||a!==!1&&o.defaultSmoothOrigin!==!1?(l=u-b,c=d-w,_.xOffset+=l*x[0]+c*x[2]-l,_.yOffset+=l*x[1]+c*x[3]-c):_.xOffset=_.yOffset=0),s||e.setAttribute("data-svg-origin",r.join(" "))},Le=function(e){try{return e.getBBox()}catch(e){}},$e=function(e){return!!(Me&&e.getBBox&&e.getCTM&&Le(e)&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},Fe=[1,0,0,1,0,0],ze=function(e,t){var i,n,a,s,o,r,l=e._gsTransform||new Ie,c=1e5,u=e.style;if(Ee?n=J(e,De,null,!0):e.currentStyle&&(n=e.currentStyle.filter.match(M),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,i&&Ee&&((r="none"===Q(e).display)||!e.parentNode)&&(r&&(s=u.display,u.display="block"),e.parentNode||(o=1,je.appendChild(e)),n=J(e,De,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,s?u.display=s:r&&Ue(u,"display"),o&&je.removeChild(e)),(l.svg||e.getBBox&&$e(e))&&(i&&-1!==(u[Ee]+"").indexOf("matrix")&&(n=u[Ee],i=0),a=e.getAttribute("transform"),i&&a&&(-1!==a.indexOf("matrix")?(n=a,i=0):-1!==a.indexOf("translate")&&(n="matrix(1,0,0,1,"+a.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Fe;for(a=(n||"").match(y)||[],_e=a.length;--_e>-1;)s=Number(a[_e]),a[_e]=(o=s-(s|=0))?(o*c+(0>o?-.5:.5)|0)/c+s:s;return t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a},Be=W.getTransform=function(e,i,n,a){if(e._gsTransform&&n&&!a)return e._gsTransform;var s,r,l,c,u,d,h=n?e._gsTransform||new Ie:new Ie,p=h.scaleX<0,f=2e-5,m=1e5,g=Ae?parseFloat(J(e,Pe,i,!1,"0 0 0").split(" ")[2])||h.zOrigin||0:0,v=parseFloat(o.defaultTransformPerspective)||0;if(h.svg=!(!e.getBBox||!$e(e)),h.svg&&(Re(e,J(e,Pe,i,!1,"50% 50%")+"",h,e.getAttribute("data-svg-origin")),Se=o.useSVGTransformAttr||Oe),s=ze(e),s!==Fe){if(16===s.length){var y,b,w,_,x,C=s[0],T=s[1],S=s[2],k=s[3],E=s[4],D=s[5],P=s[6],A=s[7],I=s[8],M=s[9],N=s[10],j=s[12],O=s[13],R=s[14],$=s[11],F=Math.atan2(P,N);h.zOrigin&&(R=-h.zOrigin,j=I*R-s[12],O=M*R-s[13],R=N*R+h.zOrigin-s[14]),h.rotationX=F*L,F&&(_=Math.cos(-F),x=Math.sin(-F),y=E*_+I*x,b=D*_+M*x,w=P*_+N*x,I=E*-x+I*_,M=D*-x+M*_,N=P*-x+N*_,$=A*-x+$*_,E=y,D=b,P=w),F=Math.atan2(-S,N),h.rotationY=F*L,F&&(_=Math.cos(-F),x=Math.sin(-F),y=C*_-I*x,b=T*_-M*x,w=S*_-N*x,M=T*x+M*_,N=S*x+N*_,$=k*x+$*_,C=y,T=b,S=w),F=Math.atan2(T,C),h.rotation=F*L,F&&(_=Math.cos(-F),x=Math.sin(-F),C=C*_+E*x,b=T*_+D*x,D=T*-x+D*_,P=S*-x+P*_,T=b),h.rotationX&&Math.abs(h.rotationX)+Math.abs(h.rotation)>359.9&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),h.scaleX=(Math.sqrt(C*C+T*T)*m+.5|0)/m,h.scaleY=(Math.sqrt(D*D+M*M)*m+.5|0)/m,h.scaleZ=(Math.sqrt(P*P+N*N)*m+.5|0)/m,h.rotationX||h.rotationY?h.skewX=0:(h.skewX=E||D?Math.atan2(E,D)*L+h.rotation:h.skewX||0,Math.abs(h.skewX)>90&&Math.abs(h.skewX)<270&&(p?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180))),h.perspective=$?1/(0>$?-$:$):0,h.x=j,h.y=O,h.z=R,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*C-h.yOrigin*E),h.y-=h.yOrigin-(h.yOrigin*T-h.xOrigin*D))}else if(!Ae||a||!s.length||h.x!==s[4]||h.y!==s[5]||!h.rotationX&&!h.rotationY){var z=s.length>=6,B=z?s[0]:1,H=s[1]||0,W=s[2]||0,q=z?s[3]:1;h.x=s[4]||0,h.y=s[5]||0,l=Math.sqrt(B*B+H*H),c=Math.sqrt(q*q+W*W),u=B||H?Math.atan2(H,B)*L:h.rotation||0,d=W||q?Math.atan2(W,q)*L+u:h.skewX||0,Math.abs(d)>90&&Math.abs(d)<270&&(p?(l*=-1,d+=0>=u?180:-180,u+=0>=u?180:-180):(c*=-1,d+=0>=d?180:-180)),h.scaleX=l,h.scaleY=c,h.rotation=u,h.skewX=d,Ae&&(h.rotationX=h.rotationY=h.z=0,h.perspective=v,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*B+h.yOrigin*W),h.y-=h.yOrigin-(h.xOrigin*H+h.yOrigin*q))}h.zOrigin=g;for(r in h)h[r]<f&&h[r]>-f&&(h[r]=0)}return n&&(e._gsTransform=h,h.svg&&(Se&&e.style[Ee]?t.delayedCall(.001,function(){Ue(e.style,Ee)}):!Se&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),h},He=function(e){var t,i,n=this.data,a=-n.rotation*R,s=a+n.skewX*R,o=1e5,r=(Math.cos(a)*n.scaleX*o|0)/o,l=(Math.sin(a)*n.scaleX*o|0)/o,c=(Math.sin(s)*-n.scaleY*o|0)/o,u=(Math.cos(s)*n.scaleY*o|0)/o,d=this.t.style,h=this.t.currentStyle;if(h){i=l,l=-c,c=-i,t=h.filter,d.filter="";var p,f,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==h.position,b="progid:DXImageTransform.Microsoft.Matrix(M11="+r+", M12="+l+", M21="+c+", M22="+u,w=n.x+g*n.xPercent/100,_=n.y+v*n.yPercent/100;if(null!=n.ox&&(p=(n.oxp?g*n.ox*.01:n.ox)-g/2,f=(n.oyp?v*n.oy*.01:n.oy)-v/2,w+=p-(p*r+f*l),_+=f-(p*c+f*u)),y?(p=g/2,f=v/2,b+=", Dx="+(p-(p*r+f*l)+w)+", Dy="+(f-(p*c+f*u)+_)+")"):b+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=t.replace(N,b):d.filter=b+" "+t,(0===e||1===e)&&1===r&&0===l&&0===c&&1===u&&(y&&-1===b.indexOf("Dx=0, Dy=0")||C.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&d.removeAttribute("filter")),!y){var T,S,k,E=8>m?1:-1;for(p=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>r?-r:r)*g+(0>l?-l:l)*v))/2+w),n.ieOffsetY=Math.round((v-((0>u?-u:u)*v+(0>c?-c:c)*g))/2+_),_e=0;4>_e;_e++)S=ae[_e],T=h[S],i=-1!==T.indexOf("px")?parseFloat(T):Z(this.t,S,parseFloat(T),T.replace(x,""))||0,k=i!==n[S]?2>_e?-n.ieOffsetX:-n.ieOffsetY:2>_e?p-n.ieOffsetX:f-n.ieOffsetY,d[S]=(n[S]=Math.round(i-k*(0===_e||2===_e?1:E)))+"px"}}},We=W.set3DTransformRatio=W.setTransformRatio=function(e){var t,i,n,a,s,o,r,l,c,u,d,h,f,m,g,v,y,b,w,_,x,C,T,S=this.data,k=this.t.style,E=S.rotation,D=S.rotationX,P=S.rotationY,A=S.scaleX,I=S.scaleY,M=S.scaleZ,N=S.x,j=S.y,O=S.z,L=S.svg,$=S.perspective,F=S.force3D;if(((1===e||0===e)&&"auto"===F&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!F)&&!O&&!$&&!P&&!D&&1===M||Se&&L||!Ae)return void(E||S.skewX||L?(E*=R,C=S.skewX*R,T=1e5,t=Math.cos(E)*A,a=Math.sin(E)*A,i=Math.sin(E-C)*-I,s=Math.cos(E-C)*I,C&&"simple"===S.skewType&&(y=Math.tan(C-S.skewY*R),y=Math.sqrt(1+y*y),i*=y,s*=y,S.skewY&&(y=Math.tan(S.skewY*R),y=Math.sqrt(1+y*y),t*=y,a*=y)),L&&(N+=S.xOrigin-(S.xOrigin*t+S.yOrigin*i)+S.xOffset,j+=S.yOrigin-(S.xOrigin*a+S.yOrigin*s)+S.yOffset,Se&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),N+=.01*S.xPercent*m.width,j+=.01*S.yPercent*m.height),m=1e-6,m>N&&N>-m&&(N=0),m>j&&j>-m&&(j=0)),w=(t*T|0)/T+","+(a*T|0)/T+","+(i*T|0)/T+","+(s*T|0)/T+","+N+","+j+")",L&&Se?this.t.setAttribute("transform","matrix("+w):k[Ee]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+w):k[Ee]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+I+","+N+","+j+")");if(p&&(m=1e-4,m>A&&A>-m&&(A=M=2e-5),m>I&&I>-m&&(I=M=2e-5),!$||S.z||S.rotationX||S.rotationY||($=0)),E||S.skewX)E*=R,g=t=Math.cos(E),v=a=Math.sin(E),S.skewX&&(E-=S.skewX*R,g=Math.cos(E),v=Math.sin(E),"simple"===S.skewType&&(y=Math.tan((S.skewX-S.skewY)*R),y=Math.sqrt(1+y*y),g*=y,v*=y,S.skewY&&(y=Math.tan(S.skewY*R),y=Math.sqrt(1+y*y),t*=y,a*=y))),i=-v,s=g;else{if(!(P||D||1!==M||$||L))return void(k[Ee]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+N+"px,"+j+"px,"+O+"px)"+(1!==A||1!==I?" scale("+A+","+I+")":""));t=s=1,i=a=0}c=1,n=o=r=l=u=d=0,h=$?-1/$:0,f=S.zOrigin,m=1e-6,_=",",x="0",E=P*R,E&&(g=Math.cos(E),v=Math.sin(E),r=-v,u=h*-v,n=t*v,o=a*v,c=g,h*=g,t*=g,a*=g),E=D*R,E&&(g=Math.cos(E),v=Math.sin(E),y=i*g+n*v,b=s*g+o*v,l=c*v,d=h*v,n=i*-v+n*g,o=s*-v+o*g,c*=g,h*=g,i=y,s=b),1!==M&&(n*=M,o*=M,c*=M,h*=M),1!==I&&(i*=I,s*=I,l*=I,d*=I),1!==A&&(t*=A,a*=A,r*=A,u*=A),(f||L)&&(f&&(N+=n*-f,j+=o*-f,O+=c*-f+f),L&&(N+=S.xOrigin-(S.xOrigin*t+S.yOrigin*i)+S.xOffset,j+=S.yOrigin-(S.xOrigin*a+S.yOrigin*s)+S.yOffset),m>N&&N>-m&&(N=x),m>j&&j>-m&&(j=x),m>O&&O>-m&&(O=0)),w=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",w+=(m>t&&t>-m?x:t)+_+(m>a&&a>-m?x:a)+_+(m>r&&r>-m?x:r),w+=_+(m>u&&u>-m?x:u)+_+(m>i&&i>-m?x:i)+_+(m>s&&s>-m?x:s),D||P||1!==M?(w+=_+(m>l&&l>-m?x:l)+_+(m>d&&d>-m?x:d)+_+(m>n&&n>-m?x:n),w+=_+(m>o&&o>-m?x:o)+_+(m>c&&c>-m?x:c)+_+(m>h&&h>-m?x:h)+_):w+=",0,0,0,0,1,0,",w+=N+_+j+_+O+_+($?1+-O/$:1)+")",k[Ee]=w};c=Ie.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Ce("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,n,s,r,l){if(n._lastParsedTransform===l)return s;n._lastParsedTransform=l;var c;"function"==typeof l[i]&&(c=l[i],l[i]=t);var u,d,h,p,f,m,y,b,w,_=e._gsTransform,x=e.style,C=1e-6,T=ke.length,S=l,k={},E="transformOrigin",D=Be(e,a,!0,S.parseTransform),P=S.transform&&("function"==typeof S.transform?S.transform(v,g):S.transform);if(n._transform=D,P&&"string"==typeof P&&Ee)d=B.style,d[Ee]=P,d.display="block",d.position="absolute",F.body.appendChild(B),u=Be(B,null,!1),D.svg&&(m=D.xOrigin,y=D.yOrigin,u.x-=D.xOffset,u.y-=D.yOffset,(S.transformOrigin||S.svgOrigin)&&(P={},Re(e,oe(S.transformOrigin),P,S.svgOrigin,S.smoothOrigin,!0),m=P.xOrigin,y=P.yOrigin,u.x-=P.xOffset-D.xOffset,u.y-=P.yOffset-D.yOffset),(m||y)&&(b=ze(B,!0),u.x-=m-(m*b[0]+y*b[2]),u.y-=y-(m*b[1]+y*b[3]))),F.body.removeChild(B),u.perspective||(u.perspective=D.perspective),null!=S.xPercent&&(u.xPercent=le(S.xPercent,D.xPercent)),null!=S.yPercent&&(u.yPercent=le(S.yPercent,D.yPercent));else if("object"==typeof S){if(u={scaleX:le(null!=S.scaleX?S.scaleX:S.scale,D.scaleX),scaleY:le(null!=S.scaleY?S.scaleY:S.scale,D.scaleY),scaleZ:le(S.scaleZ,D.scaleZ),x:le(S.x,D.x),y:le(S.y,D.y),z:le(S.z,D.z),xPercent:le(S.xPercent,D.xPercent),yPercent:le(S.yPercent,D.yPercent),perspective:le(S.transformPerspective,D.perspective)},f=S.directionalRotation,null!=f)if("object"==typeof f)for(d in f)S[d]=f[d];else S.rotation=f;"string"==typeof S.x&&-1!==S.x.indexOf("%")&&(u.x=0,u.xPercent=le(S.x,D.xPercent)),"string"==typeof S.y&&-1!==S.y.indexOf("%")&&(u.y=0,u.yPercent=le(S.y,D.yPercent)),u.rotation=ce("rotation"in S?S.rotation:"shortRotation"in S?S.shortRotation+"_short":"rotationZ"in S?S.rotationZ:D.rotation-D.skewY,D.rotation-D.skewY,"rotation",k),Ae&&(u.rotationX=ce("rotationX"in S?S.rotationX:"shortRotationX"in S?S.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",k),u.rotationY=ce("rotationY"in S?S.rotationY:"shortRotationY"in S?S.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",k)),u.skewX=ce(S.skewX,D.skewX-D.skewY),(u.skewY=ce(S.skewY,D.skewY))&&(u.skewX+=u.skewY,u.rotation+=u.skewY)}for(Ae&&null!=S.force3D&&(D.force3D=S.force3D,p=!0),D.skewType=S.skewType||D.skewType||o.defaultSkewType,h=D.force3D||D.z||D.rotationX||D.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,h||null==S.scale||(u.scaleZ=1);--T>-1;)w=ke[T],P=u[w]-D[w],(P>C||-C>P||null!=S[w]||null!=$[w])&&(p=!0,s=new ye(D,w,D[w],P,s),w in k&&(s.e=k[w]),s.xs0=0,s.plugin=r,n._overwriteProps.push(s.n));return P=S.transformOrigin,D.svg&&(P||S.svgOrigin)&&(m=D.xOffset,y=D.yOffset,Re(e,oe(P),u,S.svgOrigin,S.smoothOrigin),s=be(D,"xOrigin",(_?D:u).xOrigin,u.xOrigin,s,E),s=be(D,"yOrigin",(_?D:u).yOrigin,u.yOrigin,s,E),(m!==D.xOffset||y!==D.yOffset)&&(s=be(D,"xOffset",_?m:D.xOffset,D.xOffset,s,E),s=be(D,"yOffset",_?y:D.yOffset,D.yOffset,s,E)),P=Se?null:"0px 0px"),(P||Ae&&h&&D.zOrigin)&&(Ee?(p=!0,w=Pe,P=(P||J(e,w,a,!1,"50% 50%"))+"",s=new ye(x,w,0,0,s,-1,E),s.b=x[w],s.plugin=r,Ae?(d=D.zOrigin,P=P.split(" "),D.zOrigin=(P.length>2&&(0===d||"0px"!==P[2])?parseFloat(P[2]):d)||0,s.xs0=s.e=P[0]+" "+(P[1]||"50%")+" 0px",s=new ye(D,"zOrigin",0,0,s,-1,s.n),s.b=d,s.xs0=s.e=D.zOrigin):s.xs0=s.e=P):oe(P+"",D)),p&&(n._transformType=D.svg&&Se||!h&&3!==this._transformType?2:3),c&&(l[i]=c),s},prefix:!0}),Ce("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ce("borderRadius",{defaultValue:"0px",parser:function(e,t,i,s,o){t=this.format(t);var r,l,c,u,d,h,p,f,m,g,v,y,b,w,_,x,C=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=e.style;for(m=parseFloat(e.offsetWidth),g=parseFloat(e.offsetHeight),r=t.split(" "),l=0;l<C.length;l++)this.p.indexOf("border")&&(C[l]=K(C[l])),d=u=J(e,C[l],a,!1,"0px"),-1!==d.indexOf(" ")&&(u=d.split(" "),d=u[0],u=u[1]),h=c=r[l],p=parseFloat(d),y=d.substr((p+"").length),b="="===h.charAt(1),b?(f=parseInt(h.charAt(0)+"1",10),h=h.substr(2),f*=parseFloat(h),v=h.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(h),v=h.substr((f+"").length)),""===v&&(v=n[i]||y),v!==y&&(w=Z(e,"borderLeft",p,y),_=Z(e,"borderTop",p,y),"%"===v?(d=w/m*100+"%",u=_/g*100+"%"):"em"===v?(x=Z(e,"borderLeft",1,"em"),d=w/x+"em",u=_/x+"em"):(d=w+"px",u=_+"px"),b&&(h=parseFloat(d)+f+v,c=parseFloat(u)+f+v)),o=we(T,C[l],d+" "+u,h+" "+c,!1,"0px",o);return o},prefix:!0,formatter:me("0px 0px 0px 0px",!1,!0)}),Ce("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,i,n,s){return we(e.style,i,this.format(J(e,i,a,!1,"0px 0px")),this.format(t),!1,"0px",s)},prefix:!0,formatter:me("0px 0px",!1,!0)}),Ce("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,s,o){var r,l,c,u,d,h,p="background-position",f=a||Q(e,null),g=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(h=J(e,"backgroundImage").replace(P,""),h&&"none"!==h)){for(r=g.split(" "),l=v.split(" "),H.setAttribute("src",h),c=2;--c>-1;)g=r[c],u=-1!==g.indexOf("%"),u!==(-1!==l[c].indexOf("%"))&&(d=0===c?e.offsetWidth-H.width:e.offsetHeight-H.height,r[c]=u?parseFloat(g)/100*d+"px":parseFloat(g)/d*100+"%");g=r.join(" ")}return this.parseComplex(e.style,g,v,s,o)},formatter:oe}),Ce("backgroundSize",{defaultValue:"0 0",formatter:function(e){return e+="",oe(-1===e.indexOf(" ")?e+" "+e:e)}}),Ce("perspective",{defaultValue:"0px",prefix:!0}),Ce("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ce("transformStyle",{prefix:!0}),Ce("backfaceVisibility",{prefix:!0}),Ce("userSelect",{prefix:!0}),Ce("margin",{parser:ge("marginTop,marginRight,marginBottom,marginLeft")}),Ce("padding",{parser:ge("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ce("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,s,o){var r,l,c;return 9>m?(l=e.currentStyle,c=8>m?" ":",",r="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(r=this.format(J(e,this.p,a,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,r,t,s,o)}}),Ce("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ce("autoRound,strictUnits",{parser:function(e,t,i,n,a){return a}}),Ce("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,s,o){var r=J(e,"borderTopWidth",a,!1,"0px"),l=this.format(t).split(" "),c=l[0].replace(x,"");return"px"!==c&&(r=parseFloat(r)/Z(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(r+" "+J(e,"borderTopStyle",a,!1,"solid")+" "+J(e,"borderTopColor",a,!1,"#000")),l.join(" "),s,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(fe)||["#000"])[0]}}),Ce("borderWidth",{parser:ge("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ce("float,cssFloat,styleFloat",{parser:function(e,t,i,n,a){var s=e.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new ye(s,o,0,0,a,-1,i,!1,0,s[o],t)}});var qe=function(e){var t,i=this.t,n=i.filter||J(this.data,"filter")||"",a=this.s+this.c*e|0;100===a&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!J(this.data,"filter")):(i.filter=n.replace(S,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+a+")"),-1===n.indexOf("pacity")?0===a&&this.xn1||(i.filter=n+" alpha(opacity="+a+")"):i.filter=n.replace(C,"opacity="+a))};Ce("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,s,o){var r=parseFloat(J(e,"opacity",a,!1,"1")),l=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+r),c&&1===r&&"hidden"===J(e,"visibility",a)&&0!==t&&(r=0),U?s=new ye(l,"opacity",r,t-r,s):(s=new ye(l,"opacity",100*r,100*(t-r),s),s.xn1=c?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=e,s.plugin=o,s.setRatio=qe),c&&(s=new ye(l,"visibility",0,0,s,-1,null,!1,0,0!==r?"inherit":"hidden",0===t?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Ue=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(E,"-$1").toLowerCase())):e.removeAttribute(t))},Ye=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Ue(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ce("className",{parser:function(e,t,n,s,o,r,l){var c,u,d,h,p,f=e.getAttribute("class")||"",m=e.style.cssText;if(o=s._classNamePT=new ye(e,n,0,0,o,2),o.setRatio=Ye,o.pr=-11,i=!0,o.b=f,u=te(e,a),d=e._gsClassPT){for(h={},p=d.data;p;)h[p.p]=1,p=p._next;d.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:f.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",o.e),c=ie(e,u,te(e),l,h),e.setAttribute("class",f),o.data=c.firstMPT,e.style.cssText=m,o=o.xfirst=s.parse(e,c.difs,o,r)}});var Ve=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,a,s,o=this.t.style,r=l.transform.parse;if("all"===this.e)o.cssText="",a=!0;else for(t=this.e.split(" ").join("").split(","),n=t.length;--n>-1;)i=t[n],l[i]&&(l[i].parse===r?a=!0:i="transformOrigin"===i?Pe:l[i].p),Ue(o,i);a&&(Ue(o,Ee),s=this.t._gsTransform,s&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ce("clearProps",{parser:function(e,t,n,a,s){return s=new ye(e,n,0,0,s,2),s.setRatio=Ve,s.e=t,s.pr=-10,s.data=a._tween,i=!0,s}}),c="bezier,throwProps,physicsProps,physics2D".split(","),_e=c.length;_e--;)Te(c[_e]);c=o.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,r,c){if(!e.nodeType)return!1;this._target=g=e,this._tween=r,this._vars=t,v=c,u=t.autoRound,i=!1,n=t.suffixMap||o.suffixMap,a=Q(e,""),s=this._overwriteProps;var p,m,y,b,w,_,x,C,S,k=e.style;if(d&&""===k.zIndex&&(p=J(e,"zIndex",a),("auto"===p||""===p)&&this._addLazySet(k,"zIndex",0)),"string"==typeof t&&(b=k.cssText,p=te(e,a),k.cssText=b+";"+t,p=ie(e,p,te(e)).difs,!U&&T.test(t)&&(p.opacity=parseFloat(RegExp.$1)),t=p,k.cssText=b),t.className?this._firstPT=m=l.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=m=this.parse(e,t,null),this._transformType){for(S=3===this._transformType,Ee?h&&(d=!0,""===k.zIndex&&(x=J(e,"zIndex",a),("auto"===x||""===x)&&this._addLazySet(k,"zIndex",0)),f&&this._addLazySet(k,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(S?"visible":"hidden"))):k.zoom=1,y=m;y&&y._next;)y=y._next;C=new ye(e,"transform",0,0,null,2),this._linkCSSP(C,null,y),C.setRatio=Ee?We:He,C.data=this._transform||Be(e,a,!0),C.tween=r,C.pr=-1,s.pop()}if(i){for(;m;){for(_=m._next,y=b;y&&y.pr>m.pr;)y=y._next;(m._prev=y?y._prev:w)?m._prev._next=m:b=m,(m._next=y)?y._prev=m:w=m,m=_}this._firstPT=b}return!0},c.parse=function(e,t,i,s){var o,r,c,d,h,p,f,m,y,b,w=e.style;for(o in t)p=t[o],"function"==typeof p&&(p=p(v,g)),r=l[o],r?i=r.parse(e,p,o,this,i,s,t):(h=J(e,o,a)+"",y="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||y&&k.test(p)?(y||(p=he(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=we(w,o,h,p,!0,"transparent",i,0,s)):y&&O.test(p)?i=we(w,o,h,p,!0,null,i,0,s):(c=parseFloat(h),f=c||0===c?h.substr((c+"").length):"",(""===h||"auto"===h)&&("width"===o||"height"===o?(c=se(e,o,a),f="px"):"left"===o||"top"===o?(c=ee(e,o,a),f="px"):(c="opacity"!==o?0:1,f="")),b=y&&"="===p.charAt(1),b?(d=parseInt(p.charAt(0)+"1",10),p=p.substr(2),d*=parseFloat(p),m=p.replace(x,"")):(d=parseFloat(p),m=y?p.replace(x,""):""),""===m&&(m=o in n?n[o]:f),p=d||0===d?(b?d+c:d)+m:t[o],f!==m&&""!==m&&(d||0===d)&&c&&(c=Z(e,o,c,f),"%"===m?(c/=Z(e,o,100,"%")/100,t.strictUnits!==!0&&(h=c+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?c/=Z(e,o,1,m):"px"!==m&&(d=Z(e,o,d,m),m="px"),b&&(d||0===d)&&(p=d+c+m)),b&&(d+=c),!c&&0!==c||!d&&0!==d?void 0!==w[o]&&(p||p+""!="NaN"&&null!=p)?(i=new ye(w,o,d||c||0,0,i,-1,o,!1,0,h,p),i.xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:h):V("invalid "+o+" tween value: "+t[o]):(i=new ye(w,o,c,d-c,i,0,o,u!==!1&&("px"===m||"zIndex"===o),0,h,p),i.xs0=m))),s&&i&&!i.plugin&&(i.plugin=s);return i},c.setRatio=function(e){var t,i,n,a=this._firstPT,s=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;a;){if(t=a.c*e+a.s,a.r?t=Math.round(t):s>t&&t>-s&&(t=0),a.type)if(1===a.type)if(n=a.l,2===n)a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2;else if(3===n)a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3;else if(4===n)a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4;else if(5===n)a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4+a.xn4+a.xs5;else{for(i=a.xs0+t+a.xs1,n=1;n<a.l;n++)i+=a["xn"+n]+a["xs"+(n+1)];a.t[a.p]=i}else-1===a.type?a.t[a.p]=a.xs0:a.setRatio&&a.setRatio(e);else a.t[a.p]=t+a.xs0;a=a._next}else for(;a;)2!==a.type?a.t[a.p]=a.b:a.setRatio(e),a=a._next;else for(;a;){if(2!==a.type)if(a.r&&-1!==a.type)if(t=Math.round(a.s+a.c),a.type){if(1===a.type){for(n=a.l,i=a.xs0+t+a.xs1,n=1;n<a.l;n++)i+=a["xn"+n]+a["xs"+(n+1)];a.t[a.p]=i}}else a.t[a.p]=t+a.xs0;else a.t[a.p]=a.e;else a.setRatio(e);a=a._next}},c._enableTransforms=function(e){this._transform=this._transform||Be(this._target,a,!0),this._transformType=this._transform.svg&&Se||!e&&3!==this._transformType?2:3};var Xe=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,i){var n=this._firstPT=new ye(e,t,0,0,this._firstPT,2);n.e=i,n.setRatio=Xe,n.data=this},c._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},c._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},c._kill=function(t){var i,n,a,s=t;if(t.autoAlpha||t.alpha){s={};for(n in t)s[n]=t[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(t.className&&(i=this._classNamePT)&&(a=i.xfirst,a&&a._prev?this._linkCSSP(a._prev,i._next,a._prev._prev):a===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,a._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(t),n=i.plugin),i=i._next;return e.prototype._kill.call(this,s)};var Ge=function(e,t,i){var n,a,s,o;if(e.slice)for(a=e.length;--a>-1;)Ge(e[a],t,i);else for(n=e.childNodes,a=n.length;--a>-1;)s=n[a],o=s.type,s.style&&(t.push(te(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Ge(s,t,i)};return o.cascadeTo=function(e,i,n){var a,s,o,r,l=t.to(e,i,n),c=[l],u=[],d=[],h=[],p=t._internals.reservedProps;for(e=l._targets||l.target,Ge(e,u,h),l.render(i,!0,!0),Ge(e,d),l.render(0,!0,!0),l._enabled(!0),a=h.length;--a>-1;)if(s=ie(h[a],u[a],d[a]),s.firstMPT){s=s.difs;for(o in n)p[o]&&(s[o]=n[o]);r={};for(o in s)r[o]=u[a][o];c.push(t.fromTo(h[a],i,r,s))}return c},e.activate([o]),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("CSSPlugin"),function(e,t,i){"use strict";function n(e,t){return l.hasOwnProperty(e)||(l[e]=[]),l[e].push({context:this,callback:t}),this}function a(e,t){var i,n,a,s=l[e];if(!s)return this;for(i=0,n=s.length;n>i;i+=1)a=s[i],a.callback.apply(a.context,t);return this}function s(e,t,i,n,a,s){var o,r,c,u=l[e];if(!u)return this;switch(arguments.length){case 1:for(o=0,r=u.length;r>o;o+=1)c=u[o],c.callback.call(c.context);break;case 2:for(o=0,r=u.length;r>o;o+=1)c=u[o],c.callback.call(c.context,t);break;case 3:for(o=0,r=u.length;r>o;o+=1)c=u[o],c.callback.call(c.context,t,i);break;case 4:for(o=0,r=u.length;r>o;o+=1)c=u[o],c.callback.call(c.context,t,i,n);break;case 5:for(o=0,r=u.length;r>o;o+=1)c=u[o],c.callback.call(c.context,t,i,n,a);break;case 6:for(o=0,r=u.length;r>o;o+=1)c=u[o],c.callback.call(c.context,t,i,n,a,s)}return this}function o(e){return e.context!==this}function r(e){var t,i=this;if(!e){for(t in l)i.unsubscribe(t);return i}return l.hasOwnProperty(e)&&(l[e]=l[e].filter(o,i)),i}var l={};i.mediator={subscribe:n,publish:s,publishApply:a,unsubscribe:r,installTo:function(e){e.subscribe=n,e.publish=s,e.publishApply=a,e.unsubscribe=r},uninstallFrom:function(e){e.subscribe=null,e.publish=null,e.publishApply=null,e.unsubscribe=null}}}(window,document,window.app||(window.app={})),function(e,t,i){function n(){var i=this;i._attr={width:0,height:0,orientation:"_",isTouch:!1,isMobile:!1,DPR:1},i.bindEventListeners(),i.set("isTouch","ontouchstart"in t),i.set("DPR",e.devicePixelRatio||1),i.detectScreen()}var a=1200;n.prototype.get=function(e){return this._attr[e]},n.prototype.set=function(e,t){return this._attr[e]=t},n.prototype.bindEventListeners=function(){function e(){return t.onResize()}var t=this;t.set("onResize",e),window.addEventListener("resize",e,!1)},n.prototype.unBindEventListeners=function(){var e=this,t=(e.get("win"),e.get("onResize"));window.removeEventListener("resize",t,!1)},n.prototype.onResize=function(){var e,t,n=this,a=n.get("orientation"),s=n.get("isMobile");n.detectScreen(),e=n.get("orientation"),t=n.get("isMobile"),i.mediator.publish("resize",{width:n.get("width"),height:n.get("height"),orientation:e,isMobile:t,orientationChanged:a!==e,isMobileChanged:s!==t})},n.prototype.detectScreen=function(){var t=this,i=e.innerWidth,n=e.innerHeight,s=a>=i,o=i>n?"_":"|";t.set("width",i),t.set("height",n),t.set("orientation",o),t.set("isMobile",s)},n.prototype.destroy=function(){var e=this;e.unBindEventListeners(),e._attr={}},i.Device=n,i.device=new n}(window,document,window.app||(window.app={})),function(e,t){"use strict";function i(){return"ontouchstart"in t?"platform-mobile":"platform-desktop"}function n(){var t=e.navigator.appVersion;return-1!==t.indexOf("Win")?"os-windows":-1!==t.indexOf("Mac")?"os-macos":-1!==t.indexOf("X11")?"os-unix":-1!==t.indexOf("Linux")?"os-linux":"os-unknown"}function a(){return window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0?"browser-opera":"undefined"!=typeof InstallTrigger?"browser-ff":Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||safari.pushNotification)?"browser-safari":document.documentMode?"browser-ie":window.StyleMedia?"browser-edge":window.chrome&&window.chrome.webstore?"browser-chrome":void 0}function s(){var t=e.navigator.userAgent,i=/MSIE/.test(t),n=/android/i.test(t),a=/iPad|iPhone|iPod/.test(t);return i?"mobile-wp":n?"mobile-android android-version-"+t.toLowerCase().match(/android\s([0-9\.]*)/):a?"mobile-ios":void 0}function o(){return""}function r(){var e=i(),r=t.body;switch(e){case"platform-desktop":r.className+=" "+[e,n(),a()].join(" ");break;case"platform-mobile":r.className+=" "+[e,s(),o()].join(" ")}}!function l(){return t.body?r():e.setTimeout(l,100)}()}(window,window.document),function(e,t,i){"use strict";function n(){if(a(),s.get("isMobile")){var e=$(".js-horizontal-scroll, .js-horizontal-scroll--centered-slides");o=Array.prototype.map.call(e,function(e){var t=$(e);return t.addClass("added-swiper"),t.hasClass("js-horizontal-scroll")?new Swiper(t,r.normal):t.hasClass("js-horizontal-scroll--centered-slides")?new Swiper(t,r.centered):void 0})}}function a(){o.forEach(function(e){e.wrapper.parent().removeClass("added-swiper"),e.destroy(!1,!0);
})}var s=i.device,o=[],r={normal:{scrollbar:".swiper-scrollbar",scrollbarHide:!0,slidesPerView:"auto",spaceBetween:0,grabCursor:!1,preventClicks:!1},centered:{scrollbar:".swiper-scrollbar",scrollbarHide:!0,slidesPerView:"auto",spaceBetween:0,grabCursor:!1,preventClicks:!1,centeredSlides:!0},"double":{scrollbar:".swiper-scrollbar",scrollbarHide:!0,slidesPerView:"auto",spaceBetween:0,grabCursor:!1,preventClicks:!1,nextButton:".horizontal-slider__right-arrow",prevButton:".horizontal-slider__left-arrow"}};i.mediator.subscribe("init-swiper",n),i.mediator.subscribe("resize",function(e){return e.isMobileChanged&&n()})}(window,document,window.app||(window.app={})),function(e,t,i){"use strict";function n(e,t,n){var a=this;a._$parent=e,a._$node=t,a._$button=n,a._$background=a._createBackground(),a._$popup=a._createPopup(),a._isOpen=!1,a.subscribe=null,a.publish=null,a.publishApply=null,a.unsubscribe=null,a.bindEventListeners(),a._change$nodeState(i.device.get("isMobile")?"mobile":"desktop")}n.prototype.bindEventListeners=function(){var e=this;i.mediator.installTo(e),e.subscribe("resize",function(t){return t.isMobileChanged&&e._change$nodeState(t.isMobile?"mobile":"desktop")}),e._$button.on("click",function(){e._isOpen?e.hideModal():e.showModal()})},n.prototype._change$nodeState=function(e){var t=this;switch(e){case"mobile":t._$popup.append(t._$node);break;case"desktop":t.hideModal(),t._$parent.append(t._$node)}},n.prototype.showModal=function(){var e=this;e._$background.removeClass("hidden"),e._$popup.removeClass("hidden"),e._isOpen=!0},n.prototype.hideModal=function(){var e=this;e._$background.addClass("hidden"),e._$popup.addClass("hidden"),e._isOpen=!1},n.prototype._createBackground=function(){var e=$('<div class="modal-filter__background hidden"></div>');return e.on("touchmove",function(e){e.preventDefault()}),$("body").append(e),e},n.prototype._createPopup=function(){var e=$('<div class="modal-filter__popup hidden"></div>');return $("body").append(e),e},i.ModalFilter=n}(window,document,window.app||(window.app={})),$(document).ready(function(){var e,t,i;e=document.querySelector(".line_item_update_add_ons"),e&&$(e).on("change",function(){i=$(this).data("line-item-id"),t=$("input[name=add_ons]:checked").map(function(){return this.value}).get(),$.ajax({url:"/orders/"+$(".order-info").data("number")+"/update_add_ons",type:"get",data:{line_item_id:i,add_on_ids:t},success:function(){location.reload()}})})}),$(function(){"use strict";FastClick.attach(document.body)}),$(function(){"use strict";function e(){a.removeClass("hidden"),c.removeClass("hidden")}function t(){a.addClass("hidden"),c.addClass("hidden")}function i(){r.hasClass("hidden")||h.trigger("click")}function n(){l.hasClass("hidden")||f.trigger("click")}var a=$(".js-navigation-drop-down"),s=$(".js-mobile-header-drop-down_container"),o=s.get(0),r=$(".js-mobile-header__search-wrapper"),l=$(".js-mobile-header-drop-down"),c=$(".js-header-drop-down-background"),u=$(".js-mobile-header-drop-down-background"),d=$(".js-mobile-header"),h=$(".js-mobile-show-hide-search"),p=$(".js-mobile-show-hide-call"),f=$(".js-mobile-header__menu-button"),m=$(".mobile-header .phone-text");a.on("mouseover",e).on("mouseout",t),$(".js-change-navigation-drop-down").on("mouseover",e).on("mouseout",t),$(".js-mobile-header-drop-down--to-right").on("click",function(){TweenLite.killTweensOf(o),TweenLite.to(o,1,{x:"-50%",ease:Back.easeOut.config(1)})}),$(".js-mobile-header-drop-down--to-left").on("click",function(){TweenLite.killTweensOf(o),TweenLite.to(o,1,{x:"0%",ease:Back.easeOut.config(1)})}),h.on("click",function(){n(),r.toggleClass("hidden")}),f.on("click",function(){i(),l.toggleClass("hidden"),u.toggleClass("hidden"),d.toggleClass("mobile-header--open"),f.toggleClass("mobile-header__menu-button--open")}),u.on("touchmove",function(e){e.preventDefault()}),p.on("click",function(){m.toggleClass("hidden")})}),$(function(){"use strict";var e=window.app,t=e.ModalFilter;setTimeout(function(){$(".js-show-more-card-info").on("click",function(){$(this).parents(".search-page-card").toggleClass("search-page-card--show-more-info")}),$(".js-filter-category-opener").on("click",function(){$(this).parents(".search-page-filter__field-set").toggleClass("search-page-filter__field-set--mobile-opened")}),new t($(".js-search-page-filter-wrapper"),$(".js-modal-filter-popup-wrapper"),$(".js-show-hide-filter-result-button"))},2e3)}),setTimeout(function(){init(),$("h3.ui-accordion-header").on("click",function(){init()})},50),$(document).ready(function(){$("select").length;var e=window.matchMedia("only screen and (max-width: 1200px)");e.matches&&($(".slick-slider").length&&$(".slick-slider").slick(),$("#accordion").length&&$("#accordion").accordion({collapsible:!0,heightStyle:"content"}));window.matchMedia("only screen and (min-width: 1201px)");$(".slider-for").length&&$(".slider-nav").length&&($(".slider-for").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:".slider-nav"}),$(".slider-nav").slick({slidesToShow:5,slidesToScroll:1,asNavFor:".slider-for",centerMode:!0,focusOnSelect:!0,centerPadding:0,arrows:!1}),$(".slider-nav .slick-slide").popover()),$("#product-accordion").accordion({collapsible:!0,heightStyle:"content"}),$("#itinerary-tabs").length&&$("#itinerary-tabs").tabs({active:0}),$("#departure-date").length&&$("#departure-date").datepicker(),$("#up-settings-dob").length&&$("#up-settings-dob").datepicker(),$("#up-tabs").length&&$("#up-tabs").tabs(),$("#up-mc-tabs").length&&$("#up-mc-tabs").tabs(),$("#change-location, #change-location2").click(function(){$("#up-my-settings").attr("aria-hidden",!1).css("display","block"),$("#up-my-dashboard").attr("aria-hidden",!0).css("display","none"),$(".ui-state-default").removeClass("ui-tabs-active ui-state-active"),$(".up-my-settings-link").addClass("ui-tabs-active ui-state-active")}),$(".up-my-content-link, .up-bucket-list-link, .up-my-bookings-link, .up-my-dashboard-link").click(function(){$("#up-my-settings").attr("aria-hidden",!0).css("display","none"),$(this).hasClass("up-my-dashboard-link")&&($("#up-my-dashboard").attr("aria-hidden",!1).css("display","block"),$(".ui-state-default").removeClass("ui-tabs-active ui-state-active"),$(".up-my-dashboard-link").addClass("ui-tabs-active ui-state-active")),"false"==$("#up-my-settings").attr("aria-hidden")?($(".ui-state-default").removeClass("ui-tabs-active ui-state-active"),$(".up-my-settings-link").addClass("ui-tabs-active ui-state-active")):$(".up-my-settings-link").removeClass("ui-tabs-active ui-state-active")})}),function(){"use strict";function e(){$(".js-show-hide-info-block").on("click",function(){$(this).parent().toggleClass("deal-data-card--open-card")})}$(window).on("load",e)}(),function(e,t){"use strict";$(e).on("load",function(){function e(e){var i=e.currentTarget,n="."+i.getAttribute("data-js-scroll-to"),a=t.querySelector(n);a.scrollIntoView()}var i=$(".js-scroll-to-node");i.each(function(){$(this).on("click",e)})})}(window,window.document),$(document).ready(function(){function e(e){e.length>=2?$("#sticker_form input[type=checkbox]").not(":checked").attr("disabled",!0):$("#sticker_form input[type=checkbox]").not(":checked").attr("disabled",!1)}function t(){var t=i;e(t),$("#sticker_form input[type=checkbox]").click(function(){1==$(this).prop("checked")?(t.push(this.value),e(t)):0==$(this).prop("checked")&&(t.splice(t.indexOf(this.value),1),e(t)),$("#sticker_button").trigger("click")})}$(".readmore-area").click(function(){$(".offer-desc").toggle(),$(this).text(function(e,t){})});var i=[],n=$("#sticker_form input[type=checkbox]");$(n).each(function(){1==this.checked&&i.push(this.value)}),t()}),function(){jQuery(function(){var e;return $(".js-quantity").on("keyup change",function(){return e()}),e=function(){var e,t,i,n,a,s;return $("form.js-order-form").length?(s=$("form.js-order-form").data("variantPrices"),t=$("#order_populate_variant_id").val(),e=$.grep(s,function(e){return e.id===parseInt(t)})[0],a=(parseInt($(".js-quantity").val())||1)*parseFloat(e.price),n=(parseInt($(".js-quantity").val())||1)*parseFloat(e.monthly_price),$(".js-order-total-price").html("$"+a.toFixed(2)+" AUD"),i="Or 5 monthly payments of $"+n.toFixed(2),$(".js-order-monthly-price").html(i)):void 0},$(".form-variants").on("keyup change",function(){return e()}),e(),$(".js-print-vouchers-button").on("click",function(e){var t,i,n;return console.log("hey"),t=$(this).data("toprint"),console.log(t===!0),e.preventDefault(),i=$(document.body).html(),t===!0?($("#for-print").show(),n=$("#for-print").html()):n=$("#not-print").html(),$(document.body).html(n),$("#for-print").hide(),window.print(),$(document.body).html(i)})})}.call(this),function(){jQuery(function(){return $(".js-add-operator-tag").on("click",function(e){var t,i;return e.preventDefault(),t=$(".operator_tags .controls"),i='<input class="text optional" name="operator[tags][]" type="text" value="">',t.append(i)})})}.call(this),function(e){e.Jcrop=function(t,i){function n(e){return Math.round(e)+"px"}function a(e){return O.baseClass+"-"+e}function s(){return e.fx.step.hasOwnProperty("backgroundColor")}function o(t){var i=e(t).offset();return[i.left,i.top]}function r(e){return[e.pageX-j[0],e.pageY-j[1]]}function l(t){"object"!=typeof t&&(t={}),O=e.extend(O,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof O[t]&&(O[t]=function(){})})}function c(e,t,i){if(j=o(W),fe.setCursor("move"===e?e:e+"-resize"),"move"===e)return fe.activateHandlers(d(t),g,i);var n=de.getFixed(),a=h(e),s=de.getCorner(h(a));de.setPressed(de.getCorner(a)),de.setCurrent(s),fe.activateHandlers(u(e,n),g,i)}function u(e,t){return function(i){if(O.aspectRatio)switch(e){case"e":i[1]=t.y+1;break;case"w":i[1]=t.y+1;break;case"n":i[0]=t.x+1;break;case"s":i[0]=t.x+1}else switch(e){case"e":i[1]=t.y2;break;case"w":i[1]=t.y2;break;case"n":i[0]=t.x2;break;case"s":i[0]=t.x2}de.setCurrent(i),pe.update()}}function d(e){var t=e;return me.watchKeys(),function(e){de.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,pe.update()}}function h(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function p(e){return function(t){return O.disabled?!1:"move"!==e||O.allowMove?(j=o(W),ne=!0,c(e,r(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function f(e,t,i){var n=e.width(),a=e.height();n>t&&t>0&&(n=t,a=t/e.width()*e.height()),a>i&&i>0&&(a=i,n=i/e.height()*e.width()),te=e.width()/n,ie=e.height()/a,e.width(n).height(a)}function m(e){return{x:e.x*te,y:e.y*ie,x2:e.x2*te,y2:e.y2*ie,w:e.w*te,h:e.h*ie}}function g(){var e=de.getFixed();e.w>O.minSelect[0]&&e.h>O.minSelect[1]?(pe.enableHandles(),pe.done()):pe.release(),fe.setCursor(O.allowSelect?"crosshair":"default")}function v(e){if(O.disabled)return!1;if(!O.allowSelect)return!1;ne=!0,j=o(W),pe.disableHandles(),fe.setCursor("crosshair");var t=r(e);return de.setPressed(t),pe.update(),fe.activateHandlers(y,g,"touch"===e.type.substring(0,5)),me.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function y(e){de.setCurrent(e),pe.update()}function b(){var t=e("<div></div>").addClass(a("tracker"));return L&&t.css({opacity:0,backgroundColor:"white"}),t}function w(e){Y.removeClass().addClass(a("holder")).addClass(e)}function _(e,t){function i(){window.setTimeout(y,d)}var n=e[0]/te,a=e[1]/ie,s=e[2]/te,o=e[3]/ie;if(!ae){var r=de.flipCoords(n,a,s,o),l=de.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,d=O.animationDelay,h=r[0]-c[0],p=r[1]-c[1],f=r[2]-c[2],m=r[3]-c[3],g=0,v=O.swingSpeed;n=u[0],a=u[1],s=u[2],o=u[3],pe.animMode(!0);var y=function(){return function(){g+=(100-g)/v,u[0]=Math.round(n+g/100*h),u[1]=Math.round(a+g/100*p),u[2]=Math.round(s+g/100*f),u[3]=Math.round(o+g/100*m),g>=99.8&&(g=100),100>g?(C(u),i()):(pe.done(),pe.animMode(!1),"function"==typeof t&&t.call(ge))}}();i()}}function x(e){C([e[0]/te,e[1]/ie,e[2]/te,e[3]/ie]),O.onSelect.call(ge,m(de.getFixed())),pe.enableHandles()}function C(e){de.setPressed([e[0],e[1]]),de.setCurrent([e[2],e[3]]),pe.update()}function T(){return m(de.getFixed())}function S(){return de.getFixed()}function k(e){l(e),N()}function E(){O.disabled=!0,pe.disableHandles(),pe.setCursor("default"),fe.setCursor("default")}function D(){O.disabled=!1,N()}function P(){pe.done(),fe.activateHandlers(null,null)}function A(){Y.remove(),z.show(),z.css("visibility","visible"),e(t).removeData("Jcrop")}function I(e,t){pe.release(),E();var i=new Image;i.onload=function(){var n=i.width,a=i.height,s=O.boxWidth,o=O.boxHeight;W.width(n).height(a),W.attr("src",e),V.attr("src",e),f(W,s,o),q=W.width(),U=W.height(),V.width(q).height(U),re.width(q+2*oe).height(U+2*oe),Y.width(q).height(U),he.resize(q,U),D(),"function"==typeof t&&t.call(ge)},i.src=e}function M(e,t,i){var n=t||O.bgColor;O.bgFade&&s()&&O.fadeTime&&!i?e.animate({backgroundColor:n},{queue:!1,duration:O.fadeTime}):e.css("backgroundColor",n)}function N(e){O.allowResize?e?pe.enableOnly():pe.enableHandles():pe.disableHandles(),fe.setCursor(O.allowSelect?"crosshair":"default"),pe.setCursor(O.allowMove?"move":"default"),O.hasOwnProperty("trueSize")&&(te=O.trueSize[0]/q,ie=O.trueSize[1]/U),O.hasOwnProperty("setSelect")&&(x(O.setSelect),pe.done(),delete O.setSelect),he.refresh(),O.bgColor!=le&&(M(O.shade?he.getShades():Y,O.shade?O.shadeColor||O.bgColor:O.bgColor),le=O.bgColor),ce!=O.bgOpacity&&(ce=O.bgOpacity,O.shade?he.refresh():pe.setBgOpacity(ce)),Q=O.maxSize[0]||0,J=O.maxSize[1]||0,Z=O.minSize[0]||0,ee=O.minSize[1]||0,O.hasOwnProperty("outerImage")&&(W.attr("src",O.outerImage),delete O.outerImage),pe.refresh()}var j,O=e.extend({},e.Jcrop.defaults),R=navigator.userAgent.toLowerCase(),L=/msie/.test(R),$=/msie [1-6]\./.test(R);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof i&&(i={}),l(i);var F={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},z=e(t),B=!0;if("IMG"==t.tagName){if(0!=z[0].width&&0!=z[0].height)z.width(z[0].width),z.height(z[0].height);else{var H=new Image;H.src=z[0].src,z.width(H.width),z.height(H.height)}var W=z.clone().removeAttr("id").css(F).show();W.width(z.width()),W.height(z.height()),z.after(W).hide()}else W=z.css(F).show(),B=!1,null===O.shade&&(O.shade=!0);f(W,O.boxWidth,O.boxHeight);var q=W.width(),U=W.height(),Y=e("<div />").width(q).height(U).addClass(a("holder")).css({position:"relative",backgroundColor:O.bgColor}).insertAfter(z).append(W);O.addClass&&Y.addClass(O.addClass);var V=e("<div />"),X=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),G=e("<div />").width("100%").height("100%").css("zIndex",320),K=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=de.getFixed();O.onDblClick.call(ge,e)}).insertBefore(W).append(X,G);B&&(V=e("<img />").attr("src",W.attr("src")).css(F).width(q).height(U),X.append(V)),$&&K.css({overflowY:"hidden"});var Q,J,Z,ee,te,ie,ne,ae,se,oe=O.boundary,re=b().width(q+2*oe).height(U+2*oe).css({position:"absolute",top:n(-oe),left:n(-oe),zIndex:290}).mousedown(v),le=O.bgColor,ce=O.bgOpacity;j=o(W);var ue=function(){function e(){var e,t={},i=["touchstart","touchmove","touchend"],n=document.createElement("div");try{for(e=0;e<i.length;e++){var a=i[e];a="on"+a;var s=a in n;s||(n.setAttribute(a,"return;"),s="function"==typeof n[a]),t[i[e]]=s}return t.touchstart&&t.touchend&&t.touchmove}catch(o){return!1}}function t(){return O.touchSupport===!0||O.touchSupport===!1?O.touchSupport:e()}return{createDragger:function(e){return function(t){return O.disabled?!1:"move"!==e||O.allowMove?(j=o(W),ne=!0,c(e,r(ue.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1):!1}},newSelection:function(e){return v(ue.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),de=function(){function e(e){e=o(e),f=h=e[0],m=p=e[1]}function t(e){e=o(e),u=e[0]-f,d=e[1]-m,f=e[0],m=e[1]}function i(){return[u,d]}function n(e){var t=e[0],i=e[1];0>h+t&&(t-=t+h),0>p+i&&(i-=i+p),m+i>U&&(i+=U-(m+i)),f+t>q&&(t+=q-(f+t)),h+=t,f+=t,p+=i,m+=i}function a(e){var t=s();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function s(){if(!O.aspectRatio)return l();var e,t,i,n,a=O.aspectRatio,s=O.minSize[0]/te,o=O.maxSize[0]/te,u=O.maxSize[1]/ie,d=f-h,g=m-p,v=Math.abs(d),y=Math.abs(g),b=v/y;return 0===o&&(o=10*q),0===u&&(u=10*U),a>b?(t=m,i=y*a,e=0>d?h-i:i+h,0>e?(e=0,n=Math.abs((e-h)/a),t=0>g?p-n:n+p):e>q&&(e=q,n=Math.abs((e-h)/a),t=0>g?p-n:n+p)):(e=f,n=v/a,t=0>g?p-n:p+n,0>t?(t=0,i=Math.abs((t-p)*a),e=0>d?h-i:i+h):t>U&&(t=U,i=Math.abs(t-p)*a,e=0>d?h-i:i+h)),e>h?(s>e-h?e=h+s:e-h>o&&(e=h+o),t=t>p?p+(e-h)/a:p-(e-h)/a):h>e&&(s>h-e?e=h-s:h-e>o&&(e=h-o),t=t>p?p+(h-e)/a:p-(h-e)/a),0>e?(h-=e,e=0):e>q&&(h-=e-q,e=q),0>t?(p-=t,t=0):t>U&&(p-=t-U,t=U),c(r(h,p,e,t))}function o(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>q&&(e[0]=q),e[1]>U&&(e[1]=U),[Math.round(e[0]),Math.round(e[1])]}function r(e,t,i,n){var a=e,s=i,o=t,r=n;return e>i&&(a=i,s=e),t>n&&(o=n,r=t),[a,o,s,r]}function l(){var e,t=f-h,i=m-p;return Q&&Math.abs(t)>Q&&(f=t>0?h+Q:h-Q),J&&Math.abs(i)>J&&(m=i>0?p+J:p-J),ee/ie&&Math.abs(i)<ee/ie&&(m=i>0?p+ee/ie:p-ee/ie),Z/te&&Math.abs(t)<Z/te&&(f=t>0?h+Z/te:h-Z/te),0>h&&(f-=h,h-=h),0>p&&(m-=p,p-=p),0>f&&(h-=f,f-=f),0>m&&(p-=m,m-=m),f>q&&(e=f-q,h-=e,f-=e),m>U&&(e=m-U,p-=e,m-=e),h>q&&(e=h-U,m-=e,p-=e),p>U&&(e=p-U,m-=e,p-=e),c(r(h,p,f,m))}function c(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var u,d,h=0,p=0,f=0,m=0;return{flipCoords:r,setPressed:e,setCurrent:t,getOffset:i,moveOffset:n,getCorner:a,getFixed:s}}(),he=function(){function t(e,t){f.left.css({height:n(t)}),f.right.css({height:n(t)})}function i(){return a(de.getFixed())}function a(e){f.top.css({left:n(e.x),width:n(e.w),height:n(e.y)}),f.bottom.css({top:n(e.y2),left:n(e.x),width:n(e.w),height:n(U-e.y2)}),f.right.css({left:n(e.x2),width:n(q-e.x2)}),f.left.css({width:n(e.x)})}function s(){return e("<div />").css({position:"absolute",backgroundColor:O.shadeColor||O.bgColor}).appendTo(p)}function o(){h||(h=!0,p.insertBefore(W),i(),pe.setBgOpacity(1,0,1),V.hide(),r(O.shadeColor||O.bgColor,1),pe.isAwake()?c(O.bgOpacity,1):c(1,1))}function r(e,t){M(d(),e,t)}function l(){h&&(p.remove(),V.show(),h=!1,pe.isAwake()?pe.setBgOpacity(O.bgOpacity,1,1):(pe.setBgOpacity(1,1,1),pe.disableHandles()),M(Y,0,1))}function c(e,t){h&&(O.bgFade&&!t?p.animate({opacity:1-e},{queue:!1,duration:O.fadeTime}):p.css({opacity:1-e}))}function u(){O.shade?o():l(),pe.isAwake()&&c(O.bgOpacity)}function d(){return p.children()}var h=!1,p=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:s(),left:s().height(U),right:s().height(U),bottom:s()};return{update:i,updateRaw:a,getShades:d,setBgColor:r,enable:o,disable:l,resize:t,refresh:u,opacity:c}}(),pe=function(){function t(t){var i=e("<div />").css({position:"absolute",opacity:O.borderOpacity}).addClass(a(t));return X.append(i),i}function i(t,i){var n=e("<div />").mousedown(p(t)).css({cursor:t+"-resize",position:"absolute",zIndex:i}).addClass("ord-"+t);return ue.support&&n.bind("touchstart.jcrop",ue.createDragger(t)),G.append(n),n}function s(e){var t=O.handleSize,n=i(e,E++).css({opacity:O.handleOpacity}).addClass(a("handle"));return t&&n.width(t).height(t),n}function o(e){return i(e,E++).addClass("jcrop-dragbar")}function r(e){var t;for(t=0;t<e.length;t++)A[e[t]]=o(e[t])}function l(e){var i,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":i="hline";break;case"s":i="hline bottom";break;case"e":i="vline right";break;case"w":i="vline"}D[e[n]]=t(i)}}function c(e){var t;for(t=0;t<e.length;t++)P[e[t]]=s(e[t])}function u(e,t){O.shade||V.css({top:n(-t),left:n(-e)}),K.css({top:n(t),left:n(e)})}function d(e,t){K.width(Math.round(e)).height(Math.round(t))}function h(){var e=de.getFixed();de.setPressed([e.x,e.y]),de.setCurrent([e.x2,e.y2]),f()}function f(e){return k?g(e):void 0}function g(e){var t=de.getFixed();d(t.w,t.h),u(t.x,t.y),O.shade&&he.updateRaw(t),k||y(),e?O.onSelect.call(ge,m(t)):O.onChange.call(ge,m(t))}function v(e,t,i){(k||t)&&(O.bgFade&&!i?W.animate({opacity:e},{queue:!1,duration:O.fadeTime}):W.css("opacity",e))}function y(){K.show(),O.shade?he.opacity(ce):v(ce,!0),k=!0}function w(){C(),K.hide(),O.shade?he.opacity(1):v(1),k=!1,O.onRelease.call(ge)}function _(){I&&G.show()}function x(){return I=!0,O.allowResize?(G.show(),!0):void 0}function C(){I=!1,G.hide()}function T(e){e?(ae=!0,C()):(ae=!1,x())}function S(){T(!1),h()}var k,E=370,D={},P={},A={},I=!1;O.dragEdges&&e.isArray(O.createDragbars)&&r(O.createDragbars),e.isArray(O.createHandles)&&c(O.createHandles),O.drawBorders&&e.isArray(O.createBorders)&&l(O.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var M=b().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});return ue.support&&M.bind("touchstart.jcrop",ue.createDragger("move")),X.append(M),C(),{updateVisible:f,update:g,release:w,refresh:h,isAwake:function(){return k},setCursor:function(e){M.css("cursor",e)},enableHandles:x,enableOnly:function(){I=!0},showHandles:_,disableHandles:C,animMode:T,setBgOpacity:v,done:S}}(),fe=function(){function t(t){re.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",o).bind("touchend.jcrop",l):h&&e(document).bind("mousemove.jcrop",n).bind("mouseup.jcrop",a)}function i(){re.css({zIndex:290}),e(document).unbind(".jcrop")}function n(e){return u(r(e)),!1}function a(e){return e.preventDefault(),e.stopPropagation(),ne&&(ne=!1,d(r(e)),pe.isAwake()&&O.onSelect.call(ge,m(de.getFixed())),i(),u=function(){},d=function(){}),!1}function s(e,i,n){return ne=!0,u=e,d=i,t(n),!1}function o(e){return u(r(ue.cfilter(e))),!1}function l(e){return a(ue.cfilter(e))}function c(e){re.css("cursor",e)}var u=function(){},d=function(){},h=O.trackDocument;return h||re.mousemove(n).mouseup(a).mouseout(a),W.before(re),{activateHandlers:s,setCursor:c}}(),me=function(){function t(){O.keySupport&&(s.show(),s.focus())}function i(){s.hide()}function n(e,t,i){O.allowMove&&(de.moveOffset([t,i]),pe.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function a(e){if(e.ctrlKey||e.metaKey)return!0;se=!!e.shiftKey;var t=se?10:1;switch(e.keyCode){case 37:n(e,-t,0);break;case 39:n(e,t,0);break;case 38:n(e,0,-t);break;case 40:n(e,0,t);break;case 27:O.allowSelect&&pe.release();break;case 9:return!0}return!1}var s=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),o=e("<div />").css({position:"absolute",overflow:"hidden"}).append(s);return O.keySupport&&(s.keydown(a).blur(i),$||!O.fixedSupport?(s.css({position:"absolute",left:"-20px"}),o.append(s).insertBefore(W)):s.insertBefore(W)),{watchKeys:t}}();ue.support&&re.bind("touchstart.jcrop",ue.newSelection),G.hide(),N(!0);var ge={setImage:I,animateTo:_,setSelect:x,setOptions:k,tellSelect:T,tellScaled:S,setClass:w,disable:E,enable:D,cancel:P,release:pe.release,destroy:A,focus:me.watchKeys,getBounds:function(){return[q*te,U*ie]},getWidgetSize:function(){return[q,U]},getScaleFactor:function(){return[te,ie]},getOptions:function(){return O},ui:{holder:Y,selection:K}};return L&&Y.bind("selectstart",function(){return!1}),z.data("Jcrop",ge),ge},e.fn.Jcrop=function(t,i){var n;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),n=e.Jcrop(this,t),e.isFunction(i)&&i.call(n)}):(e(this).css({display:"block",visibility:"hidden"}),n=e.Jcrop(this,t),e.isFunction(i)&&i.call(n))}),this},e.Jcrop.Loader=function(t,i,n){function a(){o.complete?(s.unbind(".jcloader"),e.isFunction(i)&&i.call(o)):window.setTimeout(a,50)}var s=e(t),o=s[0];s.bind("load.jcloader",a).bind("error.jcloader",function(){s.unbind(".jcloader"),e.isFunction(n)&&n.call(o)}),o.complete&&e.isFunction(i)&&(s.unbind(".jcloader"),i.call(o))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(e){e.fn.waitMe=function(t){return this.each(function(){var i,n,a,s,o,r,l=e(this),c=!1,u="background-color",d="",h="",p={init:function(){function p(e){v.css({top:"auto",transform:"translateY("+e+"px) translateZ(0)"})}switch(o=e.extend({effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",maxSize:"",textPos:"vertical",fontSize:"",source:"",onClose:function(){}},t),r=(new Date).getMilliseconds(),s=e('<div class="waitMe" data-waitme_id="'+r+'"></div>'),o.effect){case"none":a=0;break;case"bounce":a=3;break;case"rotateplane":a=1;break;case"stretch":a=5;break;case"orbit":a=2,c=!0;break;case"roundBounce":a=12;break;case"win8":a=5,c=!0;break;case"win8_linear":a=5,c=!0;break;case"ios":a=12;break;case"facebook":a=3;break;case"rotation":a=1,u="border-color";break;case"timer":a=2;var f=e.isArray(o.color)?o.color[0]:o.color;d="border-color:"+f;break;case"pulse":a=1,u="border-color";break;case"progressBar":a=1;break;case"bouncePulse":a=3;break;case"img":a=1}if(""!==d&&(d+=";"),a>0){if("img"===o.effect)h='<img src="'+o.source+'">';else for(var m=1;a>=m;++m)e.isArray(o.color)?(f=o.color[m],void 0==f&&(f="#000")):f=o.color,h=c?h+('<div class="waitMe_progress_elem'+m+'"><div style="'+u+":"+f+'"></div></div>'):h+('<div class="waitMe_progress_elem'+m+'" style="'+u+":"+f+'"></div>');n=e('<div class="waitMe_progress '+o.effect+'" style="'+d+'">'+h+"</div>")}o.text&&(f=e.isArray(o.color)?o.color[0]:o.color,i=e('<div class="waitMe_text" style="color:'+f+";"+(""!=o.fontSize?"font-size:"+o.fontSize:"")+'">'+o.text+"</div>"));var g=l.find("> .waitMe");g&&g.remove(),f=e('<div class="waitMe_content '+o.textPos+'"></div>'),f.append(n,i),s.append(f),"HTML"==l[0].tagName&&(l=e("body")),l.addClass("waitMe_container").attr("data-waitme_id",r).append(s);var g=l.find("> .waitMe"),v=l.find(".waitMe_content");if(g.css({background:o.bg}),""!==o.maxSize&&"none"!=o.effect&&(f=n.outerHeight(),n.outerWidth(),"img"===o.effect?(n.css({height:o.maxSize+"px"}),n.find(">img").css({maxHeight:"100%"}),v.css({marginTop:-v.outerHeight()/2+"px"})):o.maxSize<f&&("stretch"==o.effect?(n.css({height:o.maxSize+"px",width:o.maxSize+"px"}),n.find("> div").css({margin:"0 5%"})):(f=o.maxSize/f-.2,m="-50%","roundBounce"==o.effect?(m="-75%",o.text&&(m="75%")):"win8"==o.effect||"timer"==o.effect||"orbit"==o.effect?(m="-20%",o.text&&(m="20%")):"ios"==o.effect&&(m="-15%",o.text&&(m="15%")),"rotation"==o.effect&&o.text&&(m="75%"),n.css({transform:"scale("+f+") translateX("+m+")",whiteSpace:"nowrap"})))),v.css({marginTop:-v.outerHeight()/2+"px"}),l.outerHeight()>e(window).height()){var f=e(window).scrollTop(),y=v.outerHeight(),b=l.offset().top,w=l.outerHeight(),m=f-b+e(window).height()/2;0>m&&(m=Math.abs(m)),m-y>=0&&w>=m+y?b-f>e(window).height()/2&&(m=y):m=f>b+w-y?f-b-y:f-b+y,p(m),e(document).scroll(function(){var t=e(window).scrollTop()-b+e(window).height()/2;t-y>=0&&w>=t+y&&p(t)})}return g.on("destroyed",function(){o.onClose&&e.isFunction(o.onClose)&&o.onClose(),g.trigger("close")}),e.event.special.destroyed={remove:function(e){e.handler&&e.handler()}},g},hide:function(){var e=l.attr("data-waitme_id");l.removeClass("waitMe_container").removeAttr("data-waitme_id"),l.find('.waitMe[data-waitme_id="'+e+'"]').remove()}};return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:p.init.apply(this,arguments)})},e(window).on("load",function(){e("body.waitMe_body").addClass("hideMe"),setTimeout(function(){e("body.waitMe_body").find(".waitMe_container:not([data-waitme_id])").remove(),e("body.waitMe_body").removeClass("waitMe_body hideMe")},200)})}(jQuery);var DateFormat={};!function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],s={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},o=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;e.format=function(){function e(e){return t[parseInt(e,10)]||e}function r(e){return i[parseInt(e,10)]||e}function l(e){var t=parseInt(e,10)-1;return n[t]||e}function c(e){var t=parseInt(e,10)-1;return a[t]||e}function u(e){return s[e]||e}function d(e){var t,i,n,a,s,o=e,r="";return-1!==o.indexOf(".")&&(a=o.split("."),o=a[0],r=a[a.length-1]),s=o.split(":"),3===s.length?(t=s[0],i=s[1],n=s[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),o=o.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:o,hour:t,minute:i,second:n,millis:r}):{time:"",hour:"",minute:"",second:"",millis:""}}function h(e,t){for(var i=t-String(e).length,n=0;i>n;n++)e="0"+e;return e}return{parseDate:function(e){var t,i,n={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)n.year=String(e.getFullYear()),n.month=String(e.getMonth()+1),n.dayOfMonth=String(e.getDate()),n.time=d(e.toTimeString()+"."+e.getMilliseconds());else if(-1!=e.search(o))t=e.split(/[T\+-]/),n.year=t[0],n.month=t[1],n.dayOfMonth=t[2],n.time=d(t[3].split(".")[0]);else switch(t=e.split(" "),6===t.length&&isNaN(t[5])&&(t[t.length]="()"),t.length){case 6:n.year=t[5],n.month=u(t[1]),n.dayOfMonth=t[2],n.time=d(t[3]);break;case 2:i=t[0].split("-"),n.year=i[0],n.month=i[1],n.dayOfMonth=i[2],n.time=d(t[1]);break;case 7:case 9:case 10:n.year=t[3],n.month=u(t[1]),n.dayOfMonth=t[2],n.time=d(t[4]);break;case 1:i=t[0].split(""),n.year=i[0]+i[1]+i[2]+i[3],n.month=i[5]+i[6],n.dayOfMonth=i[8]+i[9],n.time=d(i[13]+i[14]+i[15]+i[16]+i[17]+i[18]+i[19]+i[20]);break;default:return null}return n.date=n.time?new Date(n.year,n.month-1,n.dayOfMonth,n.time.hour,n.time.minute,n.time.second,n.time.millis):new Date(n.year,n.month-1,n.dayOfMonth),n.dayOfWeek=String(n.date.getDay()),n},date:function(t,i){try{var n=this.parseDate(t);if(null===n)return t;for(var a,s=n.year,o=n.month,u=n.dayOfMonth,d=n.dayOfWeek,p=n.time,f="",m="",g="",v=!1,y=0;y<i.length;y++){var b=i.charAt(y),w=i.charAt(y+1);if(v)"'"==b?(m+=""===f?"'":f,f="",v=!1):f+=b;else switch(f+=b,g="",f){case"ddd":m+=e(d),f="";break;case"dd":if("d"===w)break;m+=h(u,2),f="";break;case"d":if("d"===w)break;m+=parseInt(u,10),f="";break;case"D":u=1==u||21==u||31==u?parseInt(u,10)+"st":2==u||22==u?parseInt(u,10)+"nd":3==u||23==u?parseInt(u,10)+"rd":parseInt(u,10)+"th",m+=u,f="";break;case"MMMM":m+=c(o),f="";break;case"MMM":if("M"===w)break;m+=l(o),f="";break;case"MM":if("M"===w)break;m+=h(o,2),f="";break;case"M":if("M"===w)break;m+=parseInt(o,10),f="";break;case"y":case"yyy":if("y"===w)break;m+=f,f="";break;case"yy":if("y"===w)break;m+=String(s).slice(-2),f="";break;case"yyyy":m+=s,f="";break;case"HH":m+=h(p.hour,2),f="";break;case"H":if("H"===w)break;m+=parseInt(p.hour,10),f="";break;case"hh":a=0===parseInt(p.hour,10)?12:p.hour<13?p.hour:p.hour-12,m+=h(a,2),f="";break;case"h":if("h"===w)break;a=0===parseInt(p.hour,10)?12:p.hour<13?p.hour:p.hour-12,m+=parseInt(a,10),f="";break;case"mm":m+=h(p.minute,2),f="";break;case"m":if("m"===w)break;m+=p.minute,f="";break;case"ss":m+=h(p.second.substring(0,2),2),f="";break;case"s":if("s"===w)break;m+=p.second,f="";break;case"S":case"SS":if("S"===w)break;m+=f,f="";break;case"SSS":var _="000"+p.millis.substring(0,3);m+=_.substring(_.length-3),f="";break;case"a":m+=p.hour>=12?"PM":"AM",f="";break;case"p":m+=p.hour>=12?"p.m.":"a.m.",f="";break;case"E":m+=r(d),f="";break;case"'":f="",v=!0;break;default:m+=b,f=""}}return m+=g}catch(x){return console&&console.log&&console.log(x),t}},prettyDate:function(e){var t,i,n;return("string"==typeof e||"number"==typeof e)&&(t=new Date(e)),"object"==typeof e&&(t=new Date(e.toString())),i=((new Date).getTime()-t.getTime())/1e3,n=Math.floor(i/86400),isNaN(n)||0>n?void 0:60>i?"just now":120>i?"1 minute ago":3600>i?Math.floor(i/60)+" minutes ago":7200>i?"1 hour ago":86400>i?Math.floor(i/3600)+" hours ago":1===n?"Yesterday":7>n?n+" days ago":31>n?Math.ceil(n/7)+" weeks ago":n>=31?"more than 5 weeks ago":void 0;
},toBrowserTimeZone:function(e,t){return this.date(new Date(e),t||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat),function(e){e.format=DateFormat.format}(jQuery);var card=function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n,a,s=[].slice;a=i(1),n=i(11),n.card={},n.card.fn={},n.fn.card=function(e){return n.card.fn.construct.apply(this,e)},n.fn.extend({card:function(){var e,t;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],this.each(function(){var i,s;return i=n(this),s=i.data("card"),s||(n.each(t,function(){return function(e,i){return i instanceof jQuery?t[e]=i[0]:void 0}}(this)),t.form=this,i.data("card",s=new a(t))),"string"==typeof t?s[t].apply(s,e):void 0})}})},function(e,t,i){(function(t){var n,a,s,o,r=function(e,t){return function(){return e.apply(t,arguments)}};i(2),a=i(6),o=i(7),s=i(8),n=function(){function e(e){this.maskCardNumber=r(this.maskCardNumber,this);var t;return this.options=s(!0,this.defaults,e),this.options.form?(this.$el=a(this.options.form),this.options.container?(this.$container=a(this.options.container),t=a.isDOMElement(this.$container)?this.$container:this.$container[0],void(t.getAttribute(this.initializedDataAttr)||(t.setAttribute(this.initializedDataAttr,!0),this.render(),this.attachHandlers(),this.handleInitialPlaceholders()))):void console.log("Please provide a container")):void console.log("Please provide a form")}var t;return e.prototype.initializedDataAttr="data-jp-card-initialized",e.prototype.cardTemplate='<div class="jp-card-container"><div class="jp-card"><div class="jp-card-front"><div class="jp-card-logo jp-card-elo"><div class="e">e</div><div class="l">l</div><div class="o">o</div></div><div class="jp-card-logo jp-card-visa">visa</div><div class="jp-card-logo jp-card-mastercard">MasterCard</div><div class="jp-card-logo jp-card-maestro">Maestro</div><div class="jp-card-logo jp-card-amex"></div><div class="jp-card-logo jp-card-discover">discover</div><div class="jp-card-logo jp-card-dankort"><div class="dk"><div class="d"></div><div class="k"></div></div></div><div class="jp-card-lower"><div class="jp-card-shiny"></div><div class="jp-card-cvc jp-card-display">{{cvc}}</div><div class="jp-card-number jp-card-display">{{number}}</div><div class="jp-card-name jp-card-display">{{name}}</div><div class="jp-card-expiry jp-card-display" data-before="{{monthYear}}" data-after="{{validDate}}">{{expiry}}</div></div></div><div class="jp-card-back"><div class="jp-card-bar"></div><div class="jp-card-cvc jp-card-display">{{cvc}}</div><div class="jp-card-shiny"></div></div></div></div>',e.prototype.template=function(e,t){return e.replace(/\{\{(.*?)\}\}/g,function(e,i){return t[i]})},e.prototype.cardTypes=["jp-card-amex","jp-card-dankort","jp-card-dinersclub","jp-card-discover","jp-card-jcb","jp-card-laser","jp-card-maestro","jp-card-mastercard","jp-card-unionpay","jp-card-visa","jp-card-visaelectron","jp-card-elo"],e.prototype.defaults={formatting:!0,formSelectors:{numberInput:'input[name="number"]',expiryInput:'input[name="expiry"]',cvcInput:'input[name="cvc"]',nameInput:'input[name="name"]'},cardSelectors:{cardContainer:".jp-card-container",card:".jp-card",numberDisplay:".jp-card-number",expiryDisplay:".jp-card-expiry",cvcDisplay:".jp-card-cvc",nameDisplay:".jp-card-name"},messages:{validDate:"valid\nthru",monthYear:"month/year"},placeholders:{number:"&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;",cvc:"&bull;&bull;&bull;",expiry:"&bull;&bull;/&bull;&bull;",name:"Full Name"},masks:{cardNumber:!1},classes:{valid:"jp-card-valid",invalid:"jp-card-invalid"},debug:!1},e.prototype.render=function(){var e,t,i,n,o,r,l,c;a.append(this.$container,this.template(this.cardTemplate,s({},this.options.messages,this.options.placeholders))),l=this.options.cardSelectors;for(i in l)o=l[i],this["$"+i]=a.find(this.$container,o);c=this.options.formSelectors;for(i in c)o=c[i],o=this.options[i]?this.options[i]:o,n=a.find(this.$el,o),!n.length&&this.options.debug&&console.error("Card can't find a "+i+" in your form."),this["$"+i]=n;return this.options.formatting&&(Payment.formatCardNumber(this.$numberInput),Payment.formatCardCVC(this.$cvcInput),Payment.formatCardExpiry(this.$expiryInput)),this.options.width&&(e=a(this.options.cardSelectors.cardContainer)[0],t=parseInt(e.clientWidth||window.getComputedStyle(e).width),e.style.transform="scale("+this.options.width/t+")"),("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0)&&(r=navigator.userAgent.toLowerCase(),-1!==r.indexOf("safari")&&-1===r.indexOf("chrome")&&a.addClass(this.$card,"jp-card-safari")),/MSIE 10\./i.test(navigator.userAgent)&&a.addClass(this.$card,"jp-card-ie-10"),/rv:11.0/i.test(navigator.userAgent)?a.addClass(this.$card,"jp-card-ie-11"):void 0},e.prototype.attachHandlers=function(){var e,i;return i=[this.validToggler("cardNumber")],this.options.masks.cardNumber&&i.push(this.maskCardNumber),t(this.$numberInput,this.$numberDisplay,{fill:!1,filters:i}),a.on(this.$numberInput,"payment.cardType",this.handle("setCardType")),e=[function(e){return e.replace(/(\s+)/g,"")}],e.push(this.validToggler("cardExpiry")),t(this.$expiryInput,this.$expiryDisplay,{join:function(e){return 2===e[0].length||e[1]?"/":""},filters:e}),t(this.$cvcInput,this.$cvcDisplay,{filters:this.validToggler("cardCVC")}),a.on(this.$cvcInput,"focus",this.handle("flipCard")),a.on(this.$cvcInput,"blur",this.handle("unflipCard")),t(this.$nameInput,this.$nameDisplay,{fill:!1,filters:this.validToggler("cardHolderName"),join:" "})},e.prototype.handleInitialPlaceholders=function(){var e,t,i,n,s;n=this.options.formSelectors,s=[];for(t in n)i=n[t],e=this["$"+t],a.val(e)?(a.trigger(e,"paste"),s.push(setTimeout(function(){return a.trigger(e,"keyup")}))):s.push(void 0);return s},e.prototype.handle=function(e){return function(t){return function(i){var n;return n=Array.prototype.slice.call(arguments),n.unshift(i.target),t.handlers[e].apply(t,n)}}(this)},e.prototype.validToggler=function(e){var t;return"cardExpiry"===e?t=function(e){var t;return t=Payment.fns.cardExpiryVal(e),Payment.fns.validateCardExpiry(t.month,t.year)}:"cardCVC"===e?t=function(e){return function(t){return Payment.fns.validateCardCVC(t,e.cardType)}}(this):"cardNumber"===e?t=function(e){return Payment.fns.validateCardNumber(e)}:"cardHolderName"===e&&(t=function(e){return""!==e}),function(e){return function(i,n,a){var s;return s=t(i),e.toggleValidClass(n,s),e.toggleValidClass(a,s),i}}(this)},e.prototype.toggleValidClass=function(e,t){return a.toggleClass(e,this.options.classes.valid,t),a.toggleClass(e,this.options.classes.invalid,!t)},e.prototype.maskCardNumber=function(e){var t,i;return t=this.options.masks.cardNumber,i=e.split(" "),i.length>=3?(i.forEach(function(e,n){return n!==i.length-1?i[n]=i[n].replace(/\d/g,t):void 0}),i.join(" ")):e.replace(/\d/g,t)},e.prototype.handlers={setCardType:function(e,t){var i;return i=t.data,a.hasClass(this.$card,i)?void 0:(a.removeClass(this.$card,"jp-card-unknown"),a.removeClass(this.$card,this.cardTypes.join(" ")),a.addClass(this.$card,"jp-card-"+i),a.toggleClass(this.$card,"jp-card-identified","unknown"!==i),this.cardType=i)},flipCard:function(){return a.addClass(this.$card,"jp-card-flipped")},unflipCard:function(){return a.removeClass(this.$card,"jp-card-flipped")}},t=function(e,t,i){var n,s,o;return null==i&&(i={}),i.fill=i.fill||!1,i.filters=i.filters||[],i.filters instanceof Array||(i.filters=[i.filters]),i.join=i.join||"","function"!=typeof i.join&&(n=i.join,i.join=function(){return n}),o=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)s=t[e],n.push(s.textContent);return n}(),a.on(e,"focus",function(){return a.addClass(t,"jp-card-focused")}),a.on(e,"blur",function(){return a.removeClass(t,"jp-card-focused")}),a.on(e,"keyup change paste",function(){var n,s,r,l,c,u,d,h,p,f,m,g,v;for(d=function(){var t,i,s;for(s=[],t=0,i=e.length;i>t;t++)n=e[t],s.push(a.val(n));return s}(),l=i.join(d),d=d.join(l),d===l&&(d=""),g=i.filters,h=0,f=g.length;f>h;h++)s=g[h],d=s(d,e,t);for(v=[],r=p=0,m=t.length;m>p;r=++p)c=t[r],u=i.fill?d+o[r].substring(d.length):d||o[r],v.push(c.textContent=u);return v}),e},e}(),e.exports=n,t.Card=n}).call(t,function(){return this}())},function(e,t,i){var n=i(3);"string"==typeof n&&(n=[[e.id,n,""]]);i(5)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){t=e.exports=i(4)(),t.push([e.id,'.jp-card.jp-card-safari.jp-card-identified .jp-card-front:before, .jp-card.jp-card-safari.jp-card-identified .jp-card-back:before {\n  background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n  background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%); }\n\n.jp-card.jp-card-ie-10.jp-card-flipped, .jp-card.jp-card-ie-11.jp-card-flipped {\n  -webkit-transform: 0deg;\n  -moz-transform: 0deg;\n  -ms-transform: 0deg;\n  -o-transform: 0deg;\n  transform: 0deg; }\n  .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-front, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-front {\n    -webkit-transform: rotateY(0deg);\n    -moz-transform: rotateY(0deg);\n    -ms-transform: rotateY(0deg);\n    -o-transform: rotateY(0deg);\n    transform: rotateY(0deg); }\n  .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back {\n    -webkit-transform: rotateY(0deg);\n    -moz-transform: rotateY(0deg);\n    -ms-transform: rotateY(0deg);\n    -o-transform: rotateY(0deg);\n    transform: rotateY(0deg); }\n    .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back:after, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back:after {\n      left: 18%; }\n    .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-cvc, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-cvc {\n      -webkit-transform: rotateY(180deg);\n      -moz-transform: rotateY(180deg);\n      -ms-transform: rotateY(180deg);\n      -o-transform: rotateY(180deg);\n      transform: rotateY(180deg);\n      left: 5%; }\n    .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny {\n      left: 84%; }\n      .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny:after, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny:after {\n        left: -480%;\n        -webkit-transform: rotateY(180deg);\n        -moz-transform: rotateY(180deg);\n        -ms-transform: rotateY(180deg);\n        -o-transform: rotateY(180deg);\n        transform: rotateY(180deg); }\n\n.jp-card.jp-card-ie-10.jp-card-amex .jp-card-back, .jp-card.jp-card-ie-11.jp-card-amex .jp-card-back {\n  display: none; }\n\n.jp-card-logo {\n  height: 36px;\n  width: 60px;\n  font-style: italic; }\n  .jp-card-logo, .jp-card-logo:before, .jp-card-logo:after {\n    box-sizing: border-box; }\n\n.jp-card-logo.jp-card-amex {\n  text-transform: uppercase;\n  font-size: 4px;\n  font-weight: bold;\n  color: white;\n  background-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);\n  background-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);\n  border: 1px solid #EEE; }\n  .jp-card-logo.jp-card-amex:before, .jp-card-logo.jp-card-amex:after {\n    width: 28px;\n    display: block;\n    position: absolute;\n    left: 16px; }\n  .jp-card-logo.jp-card-amex:before {\n    height: 28px;\n    content: "american";\n    top: 3px;\n    text-align: left;\n    padding-left: 2px;\n    padding-top: 11px;\n    background: #267AC3; }\n  .jp-card-logo.jp-card-amex:after {\n    content: "express";\n    bottom: 11px;\n    text-align: right;\n    padding-right: 2px; }\n\n.jp-card.jp-card-amex.jp-card-flipped {\n  -webkit-transform: none;\n  -moz-transform: none;\n  -ms-transform: none;\n  -o-transform: none;\n  transform: none; }\n\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front:before, .jp-card.jp-card-amex.jp-card-identified .jp-card-back:before {\n  background-color: #108168; }\n\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-logo.jp-card-amex {\n  opacity: 1; }\n\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-cvc {\n  visibility: visible; }\n\n.jp-card.jp-card-amex.jp-card-identified .jp-card-front:after {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-discover {\n  background: #FF6600;\n  color: #111;\n  text-transform: uppercase;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 10px;\n  text-align: center;\n  overflow: hidden;\n  z-index: 1;\n  padding-top: 9px;\n  letter-spacing: .03em;\n  border: 1px solid #EEE; }\n  .jp-card-logo.jp-card-discover:before, .jp-card-logo.jp-card-discover:after {\n    content: " ";\n    display: block;\n    position: absolute; }\n  .jp-card-logo.jp-card-discover:before {\n    background: white;\n    width: 200px;\n    height: 200px;\n    border-radius: 200px;\n    bottom: -5%;\n    right: -80%;\n    z-index: -1; }\n  .jp-card-logo.jp-card-discover:after {\n    width: 8px;\n    height: 8px;\n    border-radius: 4px;\n    top: 10px;\n    left: 27px;\n    background-color: #FF6600;\n    background-image: -webkit-radial-gradient(#FF6600, #fff);\n    background-image: radial-gradient(  #FF6600, #fff);\n    content: "network";\n    font-size: 4px;\n    line-height: 24px;\n    text-indent: -7px; }\n\n.jp-card .jp-card-front .jp-card-logo.jp-card-discover {\n  right: 12%;\n  top: 18%; }\n\n.jp-card.jp-card-discover.jp-card-identified .jp-card-front:before, .jp-card.jp-card-discover.jp-card-identified .jp-card-back:before {\n  background-color: #86B8CF; }\n\n.jp-card.jp-card-discover.jp-card-identified .jp-card-logo.jp-card-discover {\n  opacity: 1; }\n\n.jp-card.jp-card-discover.jp-card-identified .jp-card-front:after {\n  -webkit-transition: 400ms;\n  -moz-transition: 400ms;\n  transition: 400ms;\n  content: " ";\n  display: block;\n  background-color: #FF6600;\n  background-image: -webkit-linear-gradient(#FF6600, #ffa366, #FF6600);\n  background-image: linear-gradient(#FF6600, #ffa366, #FF6600);\n  height: 50px;\n  width: 50px;\n  border-radius: 25px;\n  position: absolute;\n  left: 100%;\n  top: 15%;\n  margin-left: -25px;\n  box-shadow: inset 1px 1px 3px 1px rgba(0, 0, 0, 0.5); }\n\n.jp-card-logo.jp-card-visa {\n  background: white;\n  text-transform: uppercase;\n  color: #1A1876;\n  text-align: center;\n  font-weight: bold;\n  font-size: 15px;\n  line-height: 18px; }\n  .jp-card-logo.jp-card-visa:before, .jp-card-logo.jp-card-visa:after {\n    content: " ";\n    display: block;\n    width: 100%;\n    height: 25%; }\n  .jp-card-logo.jp-card-visa:before {\n    background: #1A1876; }\n  .jp-card-logo.jp-card-visa:after {\n    background: #E79800; }\n\n.jp-card.jp-card-visa.jp-card-identified .jp-card-front:before, .jp-card.jp-card-visa.jp-card-identified .jp-card-back:before {\n  background-color: #191278; }\n\n.jp-card.jp-card-visa.jp-card-identified .jp-card-logo.jp-card-visa {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-mastercard {\n  color: white;\n  font-weight: bold;\n  text-align: center;\n  font-size: 9px;\n  line-height: 36px;\n  z-index: 1;\n  text-shadow: 1px 1px rgba(0, 0, 0, 0.6); }\n  .jp-card-logo.jp-card-mastercard:before, .jp-card-logo.jp-card-mastercard:after {\n    content: " ";\n    display: block;\n    width: 36px;\n    top: 0;\n    position: absolute;\n    height: 36px;\n    border-radius: 18px; }\n  .jp-card-logo.jp-card-mastercard:before {\n    left: 0;\n    background: #FF0000;\n    z-index: -1; }\n  .jp-card-logo.jp-card-mastercard:after {\n    right: 0;\n    background: #FFAB00;\n    z-index: -2; }\n\n.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front .jp-card-logo.jp-card-mastercard, .jp-card.jp-card-mastercard.jp-card-identified .jp-card-back .jp-card-logo.jp-card-mastercard {\n  box-shadow: none; }\n\n.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front:before, .jp-card.jp-card-mastercard.jp-card-identified .jp-card-back:before {\n  background-color: #0061A8; }\n\n.jp-card.jp-card-mastercard.jp-card-identified .jp-card-logo.jp-card-mastercard {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-maestro {\n  color: white;\n  font-weight: bold;\n  text-align: center;\n  font-size: 14px;\n  line-height: 36px;\n  z-index: 1;\n  text-shadow: 1px 1px rgba(0, 0, 0, 0.6); }\n  .jp-card-logo.jp-card-maestro:before, .jp-card-logo.jp-card-maestro:after {\n    content: " ";\n    display: block;\n    width: 36px;\n    top: 0;\n    position: absolute;\n    height: 36px;\n    border-radius: 18px; }\n  .jp-card-logo.jp-card-maestro:before {\n    left: 0;\n    background: #0064CB;\n    z-index: -1; }\n  .jp-card-logo.jp-card-maestro:after {\n    right: 0;\n    background: #CC0000;\n    z-index: -2; }\n\n.jp-card.jp-card-maestro.jp-card-identified .jp-card-front .jp-card-logo.jp-card-maestro, .jp-card.jp-card-maestro.jp-card-identified .jp-card-back .jp-card-logo.jp-card-maestro {\n  box-shadow: none; }\n\n.jp-card.jp-card-maestro.jp-card-identified .jp-card-front:before, .jp-card.jp-card-maestro.jp-card-identified .jp-card-back:before {\n  background-color: #0B2C5F; }\n\n.jp-card.jp-card-maestro.jp-card-identified .jp-card-logo.jp-card-maestro {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-dankort {\n  width: 60px;\n  height: 36px;\n  padding: 3px;\n  border-radius: 8px;\n  border: #000000 1px solid;\n  background-color: #FFFFFF; }\n  .jp-card-logo.jp-card-dankort .dk {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden; }\n    .jp-card-logo.jp-card-dankort .dk:before {\n      background-color: #ED1C24;\n      content: \'\';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      display: block;\n      border-radius: 6px; }\n    .jp-card-logo.jp-card-dankort .dk:after {\n      content: \'\';\n      position: absolute;\n      top: 50%;\n      margin-top: -7.7px;\n      right: 0;\n      width: 0;\n      height: 0;\n      border-style: solid;\n      border-width: 7px 7px 10px 0;\n      border-color: transparent #ED1C24 transparent transparent;\n      z-index: 1; }\n  .jp-card-logo.jp-card-dankort .d, .jp-card-logo.jp-card-dankort .k {\n    position: absolute;\n    top: 50%;\n    width: 50%;\n    display: block;\n    height: 15.4px;\n    margin-top: -7.7px;\n    background: white; }\n  .jp-card-logo.jp-card-dankort .d {\n    left: 0;\n    border-radius: 0 8px 10px 0; }\n    .jp-card-logo.jp-card-dankort .d:before {\n      content: \'\';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      display: block;\n      background: #ED1C24;\n      border-radius: 2px 4px 6px 0px;\n      height: 5px;\n      width: 7px;\n      margin: -3px 0 0 -4px; }\n  .jp-card-logo.jp-card-dankort .k {\n    right: 0; }\n    .jp-card-logo.jp-card-dankort .k:before, .jp-card-logo.jp-card-dankort .k:after {\n      content: \'\';\n      position: absolute;\n      right: 50%;\n      width: 0;\n      height: 0;\n      border-style: solid;\n      margin-right: -1px; }\n    .jp-card-logo.jp-card-dankort .k:before {\n      top: 0;\n      border-width: 8px 5px 0 0;\n      border-color: #ED1C24 transparent transparent transparent; }\n    .jp-card-logo.jp-card-dankort .k:after {\n      bottom: 0;\n      border-width: 0 5px 8px 0;\n      border-color: transparent transparent #ED1C24 transparent; }\n\n.jp-card.jp-card-dankort.jp-card-identified .jp-card-front:before, .jp-card.jp-card-dankort.jp-card-identified .jp-card-back:before {\n  background-color: #0055C7; }\n\n.jp-card.jp-card-dankort.jp-card-identified .jp-card-logo.jp-card-dankort {\n  opacity: 1; }\n\n.jp-card-logo.jp-card-elo {\n  height: 50px;\n  width: 50px;\n  border-radius: 100%;\n  background: black;\n  color: white;\n  text-align: center;\n  text-transform: lowercase;\n  font-size: 21px;\n  font-style: normal;\n  letter-spacing: 1px;\n  font-weight: bold;\n  padding-top: 13px; }\n  .jp-card-logo.jp-card-elo .e, .jp-card-logo.jp-card-elo .l, .jp-card-logo.jp-card-elo .o {\n    display: inline-block;\n    position: relative; }\n  .jp-card-logo.jp-card-elo .e {\n    -webkit-transform: rotate(-15deg);\n    -moz-transform: rotate(-15deg);\n    -ms-transform: rotate(-15deg);\n    -o-transform: rotate(-15deg);\n    transform: rotate(-15deg); }\n  .jp-card-logo.jp-card-elo .o {\n    position: relative;\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    right: 0;\n    top: 7px;\n    border-radius: 100%;\n    background-image: -webkit-linear-gradient( yellow 50%, red 50%);\n    background-image: linear-gradient( yellow 50%, red 50%);\n    -webkit-transform: rotate(40deg);\n    -moz-transform: rotate(40deg);\n    -ms-transform: rotate(40deg);\n    -o-transform: rotate(40deg);\n    transform: rotate(40deg);\n    text-indent: -9999px; }\n    .jp-card-logo.jp-card-elo .o:before {\n      content: "";\n      position: absolute;\n      width: 49%;\n      height: 49%;\n      background: black;\n      border-radius: 100%;\n      text-indent: -99999px;\n      top: 25%;\n      left: 25%; }\n\n.jp-card.jp-card-elo.jp-card-identified .jp-card-front:before, .jp-card.jp-card-elo.jp-card-identified .jp-card-back:before {\n  background-color: #6F6969; }\n\n.jp-card.jp-card-elo.jp-card-identified .jp-card-logo.jp-card-elo {\n  opacity: 1; }\n\n.jp-card-container {\n  -webkit-perspective: 1000px;\n  -moz-perspective: 1000px;\n  perspective: 1000px;\n  width: 350px;\n  max-width: 100%;\n  height: 200px;\n  margin: auto;\n  z-index: 1;\n  position: relative; }\n\n.jp-card {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  line-height: 1;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-width: 315px;\n  border-radius: 10px;\n  -webkit-transform-style: preserve-3d;\n  -moz-transform-style: preserve-3d;\n  -ms-transform-style: preserve-3d;\n  -o-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n  -webkit-transition: all 400ms linear;\n  -moz-transition: all 400ms linear;\n  transition: all 400ms linear; }\n  .jp-card > *, .jp-card > *:before, .jp-card > *:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    font-family: inherit; }\n  .jp-card.jp-card-flipped {\n    -webkit-transform: rotateY(180deg);\n    -moz-transform: rotateY(180deg);\n    -ms-transform: rotateY(180deg);\n    -o-transform: rotateY(180deg);\n    transform: rotateY(180deg);\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden; }\n  .jp-card .jp-card-front, .jp-card .jp-card-back {\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    -webkit-transform-style: preserve-3d;\n    -moz-transform-style: preserve-3d;\n    -ms-transform-style: preserve-3d;\n    -o-transform-style: preserve-3d;\n    transform-style: preserve-3d;\n    -webkit-transition: all 400ms linear;\n    -moz-transition: all 400ms linear;\n    transition: all 400ms linear;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: hidden;\n    border-radius: 10px;\n    background: #DDD; }\n    .jp-card .jp-card-front:before, .jp-card .jp-card-back:before {\n      content: " ";\n      display: block;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      border-radius: 10px;\n      -webkit-transition: all 400ms ease;\n      -moz-transition: all 400ms ease;\n      transition: all 400ms ease; }\n    .jp-card .jp-card-front:after, .jp-card .jp-card-back:after {\n      content: " ";\n      display: block; }\n    .jp-card .jp-card-front .jp-card-display, .jp-card .jp-card-back .jp-card-display {\n      color: white;\n      font-weight: normal;\n      opacity: 0.5;\n      -webkit-transition: opacity 400ms linear;\n      -moz-transition: opacity 400ms linear;\n      transition: opacity 400ms linear; }\n      .jp-card .jp-card-front .jp-card-display.jp-card-focused, .jp-card .jp-card-back .jp-card-display.jp-card-focused {\n        opacity: 1;\n        font-weight: 700; }\n    .jp-card .jp-card-front .jp-card-cvc, .jp-card .jp-card-back .jp-card-cvc {\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      font-size: 14px; }\n    .jp-card .jp-card-front .jp-card-shiny, .jp-card .jp-card-back .jp-card-shiny {\n      width: 50px;\n      height: 35px;\n      border-radius: 5px;\n      background: #CCC;\n      position: relative; }\n      .jp-card .jp-card-front .jp-card-shiny:before, .jp-card .jp-card-back .jp-card-shiny:before {\n        content: " ";\n        display: block;\n        width: 70%;\n        height: 60%;\n        border-top-right-radius: 5px;\n        border-bottom-right-radius: 5px;\n        background: #d9d9d9;\n        position: absolute;\n        top: 20%; }\n  .jp-card .jp-card-front .jp-card-logo {\n    position: absolute;\n    opacity: 0;\n    right: 5%;\n    top: 8%;\n    -webkit-transition: 400ms;\n    -moz-transition: 400ms;\n    transition: 400ms; }\n  .jp-card .jp-card-front .jp-card-lower {\n    width: 80%;\n    position: absolute;\n    left: 10%;\n    bottom: 30px; }\n    @media only screen and (max-width: 480px) {\n      .jp-card .jp-card-front .jp-card-lower {\n        width: 90%;\n        left: 5%; } }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-cvc {\n      visibility: hidden;\n      float: right;\n      position: relative;\n      bottom: 5px; }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-number {\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      font-size: 24px;\n      clear: both;\n      margin-bottom: 30px; }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-expiry {\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      letter-spacing: 0em;\n      position: relative;\n      float: right;\n      width: 25%; }\n      .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before, .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {\n        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n        font-weight: bold;\n        font-size: 7px;\n        white-space: pre;\n        display: block;\n        opacity: .5; }\n      .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before {\n        content: attr(data-before);\n        margin-bottom: 2px;\n        font-size: 7px;\n        text-transform: uppercase; }\n      .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {\n        position: absolute;\n        content: attr(data-after);\n        text-align: right;\n        right: 100%;\n        margin-right: 5px;\n        margin-top: 2px;\n        bottom: 0; }\n    .jp-card .jp-card-front .jp-card-lower .jp-card-name {\n      text-transform: uppercase;\n      font-family: "Bitstream Vera Sans Mono", Consolas, Courier, monospace;\n      font-size: 20px;\n      max-height: 45px;\n      position: absolute;\n      bottom: 0;\n      width: 190px;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: horizontal;\n      overflow: hidden;\n      text-overflow: ellipsis; }\n  .jp-card .jp-card-back {\n    -webkit-transform: rotateY(180deg);\n    -moz-transform: rotateY(180deg);\n    -ms-transform: rotateY(180deg);\n    -o-transform: rotateY(180deg);\n    transform: rotateY(180deg); }\n    .jp-card .jp-card-back .jp-card-bar {\n      background-color: #444;\n      background-image: -webkit-linear-gradient(#444, #333);\n      background-image: linear-gradient(#444, #333);\n      width: 100%;\n      height: 20%;\n      position: absolute;\n      top: 10%; }\n    .jp-card .jp-card-back:after {\n      content: " ";\n      display: block;\n      background-color: #FFF;\n      background-image: -webkit-linear-gradient(#FFF, #FFF);\n      background-image: linear-gradient(#FFF, #FFF);\n      width: 80%;\n      height: 16%;\n      position: absolute;\n      top: 40%;\n      left: 2%; }\n    .jp-card .jp-card-back .jp-card-cvc {\n      position: absolute;\n      top: 40%;\n      left: 85%;\n      -webkit-transition-delay: 600ms;\n      -moz-transition-delay: 600ms;\n      transition-delay: 600ms; }\n    .jp-card .jp-card-back .jp-card-shiny {\n      position: absolute;\n      top: 66%;\n      left: 2%; }\n      .jp-card .jp-card-back .jp-card-shiny:after {\n        content: "This card has been issued by Jesse Pollak and is licensed for anyone to use anywhere for free.AIt comes with no warranty.A  For support issues, please visit: github.com/jessepollak/card.";\n        position: absolute;\n        left: 120%;\n        top: 5%;\n        color: white;\n        font-size: 7px;\n        width: 230px;\n        opacity: .5; }\n  .jp-card.jp-card-identified {\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3); }\n    .jp-card.jp-card-identified .jp-card-front, .jp-card.jp-card-identified .jp-card-back {\n      background-color: #000;\n      background-color: rgba(0, 0, 0, 0.5); }\n      .jp-card.jp-card-identified .jp-card-front:before, .jp-card.jp-card-identified .jp-card-back:before {\n        -webkit-transition: all 400ms ease;\n        -moz-transition: all 400ms ease;\n        transition: all 400ms ease;\n        background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n        background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n        opacity: 1; }\n      .jp-card.jp-card-identified .jp-card-front .jp-card-logo, .jp-card.jp-card-identified .jp-card-back .jp-card-logo {\n        box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3); }\n    .jp-card.jp-card-identified.no-radial-gradient .jp-card-front:before, .jp-card.jp-card-identified.no-radial-gradient .jp-card-back:before {\n      background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n      background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%); }\n',""]);
},function(e){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var s=this[a][0];"number"==typeof s&&(n[s]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(e){function t(e,t){for(var i=0;i<e.length;i++){var n=e[i],a=d[n.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++)a.parts[s](n.parts[s]);for(;s<n.parts.length;s++)a.parts.push(r(n.parts[s],t))}else{for(var o=[],s=0;s<n.parts.length;s++)o.push(r(n.parts[s],t));d[n.id]={id:n.id,refs:1,parts:o}}}}function i(e){for(var t=[],i={},n=0;n<e.length;n++){var a=e[n],s=a[0],o=a[1],r=a[2],l=a[3],c={css:o,media:r,sourceMap:l};i[s]?i[s].parts.push(c):t.push(i[s]={id:s,parts:[c]})}return t}function n(e,t){var i=f(),n=v[v.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",n(e,t),t}function o(e){var t=document.createElement("link");return t.rel="stylesheet",n(e,t),t}function r(e,t){var i,n,r;if(t.singleton){var d=g++;i=m||(m=s(t)),n=l.bind(null,i,d,!1),r=l.bind(null,i,d,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=o(t),n=u.bind(null,i),r=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),n=c.bind(null,i),r=function(){a(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function l(e,t,i,n){var a=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,a);else{var s=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function c(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function u(e,t){var i=t.css,n=t.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var d={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,v=[];e.exports=function(e,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=p()),"undefined"==typeof n.insertAt&&(n.insertAt="bottom");var a=i(e);return t(a,n),function(e){for(var s=[],o=0;o<a.length;o++){var r=a[o],l=d[r.id];l.refs--,s.push(l)}if(e){var c=i(e);t(c,n)}for(var o=0;o<s.length;o++){var l=s[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var y=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e){(function(){var t,i,n;t=function(e){return t.isDOMElement(e)?e:document.querySelectorAll(e)},t.isDOMElement=function(e){return e&&null!=e.nodeName},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.trim=function(e){return null===e?"":(e+"").replace(n,"")},i=/\r/g,t.val=function(e,t){var n;return arguments.length>1?e.value=t:(n=e.value,"string"==typeof n?n.replace(i,""):null===n?"":n)},t.preventDefault=function(e){return"function"==typeof e.preventDefault?void e.preventDefault():(e.returnValue=!1,!1)},t.normalizeEvent=function(e){var i;return i=e,e={which:null!=i.which?i.which:void 0,target:i.target||i.srcElement,preventDefault:function(){return t.preventDefault(i)},originalEvent:i,data:i.data||i.detail},null==e.which&&(e.which=null!=i.charCode?i.charCode:i.keyCode),e},t.on=function(e,i,n){var a,s,o,r,l,c,u,d;if(e.length)for(s=0,r=e.length;r>s;s++)a=e[s],t.on(a,i,n);else{if(!i.match(" "))return u=n,n=function(e){return e=t.normalizeEvent(e),u(e)},e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent?(i="on"+i,e.attachEvent(i,n)):void(e["on"+i]=n);for(d=i.split(" "),o=0,l=d.length;l>o;o++)c=d[o],t.on(e,c,n)}},t.addClass=function(e,i){var n;return e.length?function(){var a,s,o;for(o=[],a=0,s=e.length;s>a;a++)n=e[a],o.push(t.addClass(n,i));return o}():e.classList?e.classList.add(i):e.className+=" "+i},t.hasClass=function(e,i){var n,a,s,o;if(e.length){for(a=!0,s=0,o=e.length;o>s;s++)n=e[s],a=a&&t.hasClass(n,i);return a}return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)},t.removeClass=function(e,i){var n,a,s,o,r,l;if(e.length)return function(){var n,s,o;for(o=[],n=0,s=e.length;s>n;n++)a=e[n],o.push(t.removeClass(a,i));return o}();if(e.classList){for(r=i.split(" "),l=[],s=0,o=r.length;o>s;s++)n=r[s],l.push(e.classList.remove(n));return l}return e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")},t.toggleClass=function(e,i,n){var a;return e.length?function(){var s,o,r;for(r=[],s=0,o=e.length;o>s;s++)a=e[s],r.push(t.toggleClass(a,i,n));return r}():n?t.hasClass(e,i)?void 0:t.addClass(e,i):t.removeClass(e,i)},t.append=function(e,i){var n;return e.length?function(){var a,s,o;for(o=[],a=0,s=e.length;s>a;a++)n=e[a],o.push(t.append(n,i));return o}():e.insertAdjacentHTML("beforeend",i)},t.find=function(e,t){return(e instanceof NodeList||e instanceof Array)&&(e=e[0]),e.querySelectorAll(t)},t.trigger=function(e,t,i){var n,a,s;try{s=new CustomEvent(t,{detail:i})}catch(a){n=a,s=document.createEvent("CustomEvent"),s.initCustomEvent?s.initCustomEvent(t,!0,!0,i):s.initEvent(t,!0,!0,i)}return e.dispatchEvent(s)},e.exports=t}).call(this)},function(e,t,i){(function(t){(function(){var n,a,s,o,r,l,c,u,d,h,p,f,m,g,v,y,b,w,_,x,C,T,S,k,E=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};a=i(6),l=/(\d{1,4})/g,r=[{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[4],luhn:!0},{type:"dankort",pattern:/^5019/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:l,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5018|5020|5038|6304|6703|6708|6759|676[1-3])/,format:l,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:l,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"elo",pattern:/^(4011|438935|45(1416|76|7393)|50(4175|6699|67|90[4-7])|63(6297|6368))/,format:l,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:l,length:[13,16,19],cvcLength:[3],luhn:!0}],s=function(e){var t,i,n;for(e=(e+"").replace(/\D/g,""),i=0,n=r.length;n>i;i++)if(t=r[i],t.pattern.test(e))return t},o=function(e){var t,i,n;for(i=0,n=r.length;n>i;i++)if(t=r[i],t.type===e)return t},v=function(e){var t,i,n,a,s,o;for(s=!0,o=0,i=(e+"").split("").reverse(),n=0,a=i.length;a>n;n++)t=i[n],t=parseInt(t,10),(s=!s)&&(t*=2),t>9&&(t-=9),o+=t;return o%10===0},g=function(e){var t,i,n;try{if(null!=e.selectionStart&&e.selectionStart!==e.selectionEnd)return!0;if(null!=("undefined"!=typeof document&&null!==document&&null!=(n=document.selection)?n.createRange:void 0)&&document.selection.createRange().text)return!0}catch(i){t=i}return!1},y=function(e){return setTimeout(function(){return function(){var t,i;return t=e.target,i=a.val(t),i=n.fns.formatCardNumber(i),a.val(t,i),a.trigger(t,"change")}}(this))},d=function(e){var t,i,n,o,r,l,c;return i=String.fromCharCode(e.which),!/^\d+$/.test(i)||(r=e.target,c=a.val(r),t=s(c+i),n=(c.replace(/\D/g,"")+i).length,l=16,t&&(l=t.length[t.length.length-1]),n>=l||g(r))?void 0:(o=t&&"amex"===t.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,o.test(c)?(e.preventDefault(),a.val(r,c+" "+i),a.trigger(r,"change")):o.test(c+i)?(e.preventDefault(),a.val(r,c+i+" "),a.trigger(r,"change")):void 0)},c=function(e){var t,i;return t=e.target,i=a.val(t),e.meta||8!==e.which||g(t)?void 0:/\d\s$/.test(i)?(e.preventDefault(),a.val(t,i.replace(/\d\s$/,""))):/\s\d?$/.test(i)?(e.preventDefault(),a.val(t,i.replace(/\s\d?$/,""))):void 0},h=function(e){var t,i,n;return t=String.fromCharCode(e.which),/^\d+$/.test(t)?(i=e.target,n=a.val(i)+t,/^\d$/.test(n)&&"0"!==n&&"1"!==n?(e.preventDefault(),a.val(i,"0"+n+" / ")):/^\d\d$/.test(n)?(e.preventDefault(),a.val(i,n+" / ")):void 0):void 0},m=function(e){var t,i,n;return t=String.fromCharCode(e.which),/^\d+$/.test(t)?(i=e.target,n=a.val(i)+t,/^\d$/.test(n)&&"0"!==n&&"1"!==n?(e.preventDefault(),a.val(i,"0"+n)):/^\d\d$/.test(n)?(e.preventDefault(),a.val(i,""+n)):void 0):void 0},p=function(e){var t,i,n;return t=String.fromCharCode(e.which),/^\d+$/.test(t)?(i=e.target,n=a.val(i),/^\d\d$/.test(n)?a.val(i,n+" / "):void 0):void 0},f=function(e){var t,i,n;return t=String.fromCharCode(e.which),"/"===t?(i=e.target,n=a.val(i),/^\d$/.test(n)&&"0"!==n?a.val(i,"0"+n+" / "):void 0):void 0},u=function(e){var t,i;if(!e.metaKey&&(t=e.target,i=a.val(t),8===e.which&&!g(t)))return/\d(\s|\/)+$/.test(i)?(e.preventDefault(),a.val(t,i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(e.preventDefault(),a.val(t,i.replace(/\s\/\s?\d?$/,""))):void 0},T=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?e.preventDefault():0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),/[\d\s]/.test(t)?void 0:e.preventDefault())},w=function(e){var t,i,n,o;if(n=e.target,i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!g(n))if(o=(a.val(n)+i).replace(/\D/g,""),t=s(o)){if(!(o.length<=t.length[t.length.length-1]))return e.preventDefault()}else if(!(o.length<=16))return e.preventDefault()},x=function(e,t){var i,n,s;return n=e.target,i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!g(n)?(s=a.val(n)+i,s=s.replace(/\D/g,""),s.length>t?e.preventDefault():void 0):void 0},_=function(e){return x(e,6)},C=function(e){return x(e,2)},S=function(e){return x(e,4)},b=function(e){var t,i,n;return i=e.target,t=String.fromCharCode(e.which),/^\d+$/.test(t)&&!g(i)?(n=a.val(i)+t,n.length<=4?void 0:e.preventDefault()):void 0},k=function(e){var t,i,s,o,l;return o=e.target,l=a.val(o),s=n.fns.cardType(l)||"unknown",a.hasClass(o,s)?void 0:(t=function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)i=r[e],n.push(i.type);return n}(),a.removeClass(o,"unknown"),a.removeClass(o,t.join(" ")),a.addClass(o,s),a.toggleClass(o,"identified","unknown"!==s),a.trigger(o,"payment.cardType",s))},n=function(){function e(){}return e.fns={cardExpiryVal:function(e){var t,i,n,a;return e=e.replace(/\s/g,""),n=e.split("/",2),t=n[0],a=n[1],2===(null!=a?a.length:void 0)&&/^\d+$/.test(a)&&(i=(new Date).getFullYear(),i=i.toString().slice(0,2),a=i+a),t=parseInt(t,10),a=parseInt(a,10),{month:t,year:a}},validateCardNumber:function(e){var t,i;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(t=s(e),t?(i=e.length,E.call(t.length,i)>=0&&(t.luhn===!1||v(e))):!1):!1},validateCardExpiry:function(t,i){var n,s,o,r,l;return"object"==typeof t&&"month"in t?(r=t,t=r.month,i=r.year):"string"==typeof t&&E.call(t,"/")>=0&&(l=e.fns.cardExpiryVal(t),t=l.month,i=l.year),t&&i?(t=a.trim(t),i=a.trim(i),/^\d+$/.test(t)&&/^\d+$/.test(i)?(t=parseInt(t,10),t&&12>=t?(2===i.length&&(o=(new Date).getFullYear(),o=o.toString().slice(0,2),i=o+i),s=new Date(i,t),n=new Date,s.setMonth(s.getMonth()-1),s.setMonth(s.getMonth()+1,1),s>n):!1):!1):!1},validateCardCVC:function(e,t){var i,n;return e=a.trim(e),/^\d+$/.test(e)?t&&o(t)?(i=e.length,E.call(null!=(n=o(t))?n.cvcLength:void 0,i)>=0):e.length>=3&&e.length<=4:!1},cardType:function(e){var t;return e?(null!=(t=s(e))?t.type:void 0)||null:null},formatCardNumber:function(e){var t,i,n,a;return(t=s(e))?(a=t.length[t.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,a),t.format.global?null!=(n=e.match(t.format))?n.join(" "):void 0:(i=t.format.exec(e),null!=i&&i.shift(),null!=i?i.join(" "):void 0)):e}},e.restrictNumeric=function(e){return a.on(e,"keypress",T)},e.cardExpiryVal=function(t){return e.fns.cardExpiryVal(a.val(t))},e.formatCardCVC=function(t){return e.restrictNumeric(t),a.on(t,"keypress",b),t},e.formatCardExpiry=function(t){var i,n;return e.restrictNumeric(t),t.length&&2===t.length?(i=t[0],n=t[1],this.formatCardExpiryMultiple(i,n)):(a.on(t,"keypress",_),a.on(t,"keypress",h),a.on(t,"keypress",f),a.on(t,"keypress",p),a.on(t,"keydown",u)),t},e.formatCardExpiryMultiple=function(e,t){return a.on(e,"keypress",C),a.on(e,"keypress",m),a.on(t,"keypress",S)},e.formatCardNumber=function(t){return e.restrictNumeric(t),a.on(t,"keypress",w),a.on(t,"keypress",d),a.on(t,"keydown",c),a.on(t,"keyup",k),a.on(t,"paste",y),t},e.getCardArray=function(){return r},e.setCardArray=function(e){return r=e,!0},e.addToCardArray=function(e){return r.push(e)},e.removeFromCardArray=function(e){var t,i;for(t in r)i=r[t],i.type===e&&r.splice(t,1);return!0},e}(),e.exports=n,t.Payment=n}).call(this)}).call(t,function(){return this}())},function(e,t,i){"use strict";e.exports=i(9)},function(e,t,i){"use strict";var n=i(10),a=function s(){var e,t,i,a,o,r,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"==typeof l||n.fn(l)||(l={});u>c;c++)if(e=arguments[c],null!=e){"string"==typeof e&&(e=e.split(""));for(t in e)i=l[t],a=e[t],l!==a&&(d&&a&&(n.hash(a)||(o=n.array(a)))?(o?(o=!1,r=i&&n.array(i)?i:[]):r=i&&n.hash(i)?i:{},l[t]=s(d,r,a)):"undefined"!=typeof a&&(l[t]=a))}return l};a.version="1.1.3",e.exports=a},function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,a=i.toString;"function"==typeof Symbol&&(t=Symbol.prototype.valueOf);var s=function(e){return e!==e},o={"boolean":1,number:1,string:1,undefined:1},r=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,l=/^[A-Fa-f0-9]+$/,c={};c.a=c.type=function(e,t){return typeof e===t},c.defined=function(e){return"undefined"!=typeof e},c.empty=function(e){var t,i=a.call(e);if("[object Array]"===i||"[object Arguments]"===i||"[object String]"===i)return 0===e.length;if("[object Object]"===i){for(t in e)if(n.call(e,t))return!1;return!0}return!e},c.equal=function(e,t){if(e===t)return!0;var i,n=a.call(e);if(n!==a.call(t))return!1;if("[object Object]"===n){for(i in e)if(!(c.equal(e[i],t[i])&&i in t))return!1;for(i in t)if(!(c.equal(e[i],t[i])&&i in e))return!1;return!0}if("[object Array]"===n){if(i=e.length,i!==t.length)return!1;for(;i--;)if(!c.equal(e[i],t[i]))return!1;return!0}return"[object Function]"===n?e.prototype===t.prototype:"[object Date]"===n?e.getTime()===t.getTime():!1},c.hosted=function(e,t){var i=typeof t[e];return"object"===i?!!t[e]:!o[i]},c.instance=c["instanceof"]=function(e,t){return e instanceof t},c.nil=c["null"]=function(e){return null===e},c.undef=c.undefined=function(e){return"undefined"==typeof e},c.args=c.arguments=function(e){var t="[object Arguments]"===a.call(e),i=!c.array(e)&&c.arraylike(e)&&c.object(e)&&c.fn(e.callee);return t||i},c.array=Array.isArray||function(e){return"[object Array]"===a.call(e)},c.args.empty=function(e){return c.args(e)&&0===e.length},c.array.empty=function(e){return c.array(e)&&0===e.length},c.arraylike=function(e){return!!e&&!c.bool(e)&&n.call(e,"length")&&isFinite(e.length)&&c.number(e.length)&&e.length>=0},c.bool=c["boolean"]=function(e){return"[object Boolean]"===a.call(e)},c["false"]=function(e){return c.bool(e)&&Boolean(Number(e))===!1},c["true"]=function(e){return c.bool(e)&&Boolean(Number(e))===!0},c.date=function(e){return"[object Date]"===a.call(e)},c.date.valid=function(e){return c.date(e)&&!isNaN(Number(e))},c.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},c.error=function(e){return"[object Error]"===a.call(e)},c.fn=c["function"]=function(e){var t="undefined"!=typeof window&&e===window.alert;return t||"[object Function]"===a.call(e)},c.number=function(e){return"[object Number]"===a.call(e)},c.infinite=function(e){return e===1/0||e===-(1/0)},c.decimal=function(e){return c.number(e)&&!s(e)&&!c.infinite(e)&&e%1!==0},c.divisibleBy=function(e,t){var i=c.infinite(e),n=c.infinite(t),a=c.number(e)&&!s(e)&&c.number(t)&&!s(t)&&0!==t;return i||n||a&&e%t===0},c.integer=c["int"]=function(e){return c.number(e)&&!s(e)&&e%1===0},c.maximum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!c.arraylike(t))throw new TypeError("second argument must be array-like");for(var i=t.length;--i>=0;)if(e<t[i])return!1;return!0},c.minimum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!c.arraylike(t))throw new TypeError("second argument must be array-like");for(var i=t.length;--i>=0;)if(e>t[i])return!1;return!0},c.nan=function(e){return!c.number(e)||e!==e},c.even=function(e){return c.infinite(e)||c.number(e)&&e===e&&e%2===0},c.odd=function(e){return c.infinite(e)||c.number(e)&&e===e&&e%2!==0},c.ge=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&e>=t},c.gt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&e>t},c.le=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&t>=e},c.lt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!c.infinite(e)&&!c.infinite(t)&&t>e},c.within=function(e,t,i){if(s(e)||s(t)||s(i))throw new TypeError("NaN is not a valid value");if(!c.number(e)||!c.number(t)||!c.number(i))throw new TypeError("all arguments must be numbers");var n=c.infinite(e)||c.infinite(t)||c.infinite(i);return n||e>=t&&i>=e},c.object=function(e){return"[object Object]"===a.call(e)},c.primitive=function(e){return e?!("object"==typeof e||c.object(e)||c.fn(e)||c.array(e)):!0},c.hash=function(e){return c.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},c.regexp=function(e){return"[object RegExp]"===a.call(e)},c.string=function(e){return"[object String]"===a.call(e)},c.base64=function(e){return c.string(e)&&(!e.length||r.test(e))},c.hex=function(e){return c.string(e)&&(!e.length||l.test(e))},c.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===a.call(e)&&"symbol"==typeof t.call(e)},e.exports=c},function(e){e.exports=jQuery}]);$("form.customer_form").card({container:".card-container",formSelectors:{numberInput:"input.credit_card_number",expiryInput:"input.credit_card_date",cvcInput:"input.credit_card_cvv",nameInput:"input.credit_card_name"}}),function(){jQuery(window).load(function(){var e;return e=function(){var e,t,i,n,a,s,o,r,l,c,u,d,h,p,f,m,g,v,y,b,w;return $(".modal-guest-sign-up-content").hide(),$(".book-now").hasClass("hidden")&&$(".book-now").removeClass("hidden"),o=$(".package-options-form").data("offerId"),c="Please Select",w=$("form.package-options-form").data("userSignedIn"),u=$("form.package-options-form").data("roomTypePresent"),i=$("form.package-options-form").data("bedTypePresent"),s=$("form.package-options-form").data("maturityPresent"),n=$("form.package-options-form").data("departureCityPresent"),l=$("form.package-options-form").data("packageOptionPresent"),a=$("form.package-options-form").data("departureDatePresent"),e=$("form.package-options-form").data("accommodationPresent"),$(".js-variant-option").on("change",function(){var t,r,c,d,f,g,w;return c=n?$("#order_populate_departure_city").val():"",g=l?$("#order_populate_package_option").val():"",d=a?$("#order_populate_departure_date").val():"",t=e?$("#order_populate_accommodation").val():"",w=u?$("#order_populate_room_type").val():"",r=i?$("#order_populate_bed_type").val():"",f=s?$("#order_populate_maturity").val():"",$.ajax("/offers/"+o+"/variants/fill_packages_options.json",{type:"POST",data:{departure_city:c,accommodation:t,departure_date:d,package_option:g,room_type:u?w:void 0,bed_type:i?r:void 0,maturity:s?f:void 0},dataType:"json",success:function(e){return console.log(e),m(e),h(r,f,c,w,d,g,t),v(),y(),b(e.options.variant_id),p(e.options.price,e.options.monthly_price)}})}),m=function(t){return a&&f(t.options.departure_dates,$("#order_populate_departure_date")),l&&f(t.options.package_options,$("#order_populate_package_option")),e&&f(t.options.accommodations,$("#order_populate_accommodation")),n&&f(t.options.departure_cities,$("#order_populate_departure_city")),u&&f(t.options.room_types,$("#order_populate_room_type")),i&&f(t.options.bed_types,$("#order_populate_bed_type")),s?f(t.options.maturities,$("#order_populate_maturity")):void 0},h=function(t,o,c,d,h,p,f){var m;return r()?(m="",n&&(m+=c+","),l&&(m+=" "+p+","),e&&(m+=" "+f+","),a&&(m+=" "+h+","),u&&(m+=" "+d+","),s&&(m+=" "+o+","),i&&(m+=" "+t),m=m.replace(/,\s*$/,""),$(".js-selected-variants-options").html("Selection: "+m)):$(".js-selected-variants-options").html("Selection: ")},$(document).ajaxStart(function(){return $(".js-variant-option, .js-submit-button").prop("disabled",!0)}).ajaxStop(function(){return $(".js-variant-option, .js-submit-button").prop("disabled",!1)}),f=function(e,t){var i,n,a,s,o,r,l,u,d;if(u=t.val(),r=t.data("type"),l="<option value=>"+c+"</option>",t.html(""),t.append(l),e.length)for("date"===r&&e.sort(),a=0,s=e.length;s>a;a++)d=e[a],"date"===r?(i=new Date(d),n=i<new Date("2049")?$.format.date(i,"dd MMMM yyyy"):"Undecided \u2013 will decide later",o="<option value='"+d+"' label='"+n+"'>"+n+"</option>"):o="<option value='"+d+"'>"+d+"</option>",t.append(o);return t.val(u)},v=function(){return r()?$(".js-variant-quantity").hasClass("hidden")?$(".js-variant-quantity").removeClass("hidden"):void 0:($(".js-variant-quantity").hasClass("hidden")||$(".js-variant-quantity").addClass("hidden"),$("#order_populate_quantity").val(0))},y=function(){return r()&&parseInt($("#order_populate_quantity").val())>0?($(".js-submit-button").prop("disabled",""),$(".js-submit-button").prop("hidden","")):($(".js-submit-button").prop("hidden","hidden"),$(".js-submit-button").prop("disabled","disabled"))},r=function(){var t,o,r,c,d,h,p;return p=!1,d=!1,o=!1,r=!1,c=!1,t=!1,h=!1,p=u?$("#order_populate_room_type").val().length:!0,d=s?$("#order_populate_maturity").val().length:!0,o=i?$("#order_populate_bed_type").val().length:!0,h=l?$("#order_populate_package_option").val().length:!0,t=e?$("#order_populate_accommodation").val().length:!0,c=a?$("#order_populate_departure_date").val().length:!0,r=n?$("#order_populate_departure_city").val().length:!0,r&&c&&t&&h&&o&&d&&p},b=function(e){return void 0!==e&&r()?$("#order_populate_variant_id").val(e):$("#order_populate_variant_id").val("")},p=function(e,t){return e&&t?(window.price=parseFloat(e),window.monthly_price=parseFloat(t)):(window.price=0,window.monthly_price=0,g(0))},$("#order_populate_quantity").on("keyup change",function(){var e;return e=parseInt($("#order_populate_quantity").val()),g(e),y()}),$("form.package-options-form").submit(function(e){return e.preventDefault(),w?d():$("#guestModal").modal()}),$(".js-submit-current-offer").on("click",function(e){return e.preventDefault(),d()}),$(".js-show-sign-in").on("click",function(e){return e.preventDefault(),$(".modal-guest-sign-up-content").hide(),$(".modal-guest-sign-in-content").show()}),$(".js-show-sign-up").on("click",function(e){return e.preventDefault(),$(".modal-guest-sign-in-content").hide(),$(".modal-guest-sign-up-content").show()}),$(".js-submit-guest-sign-in-form").on("click",function(e){return e.preventDefault(),t().success?$("form.guest-sign-in-form")[0].submit():void 0}),$(".js-submit-guest-sign-up-form").on("click",function(e){return e.preventDefault(),t().success?$("form.guest-sign-up-form")[0].submit():void 0}),d=function(){return $("form.package-options-form")[0].submit()},t=function(){return $.ajax({type:"POST",url:$("form.package-options-form").attr("action"),data:$("form.package-options-form").serialize(),error:function(e,t){return{success:!1,status:t}},success:function(e){return{success:!0,status:e}}})},g=function(e){var t,i,n,a;return t=$(".package-options-form").data("allowInstallments"),window.price>0?($(".js-price-range").hasClass("hidden")||$(".js-price-range").addClass("hidden"),a=e*window.price,$(".js-total-price").html("Price: $"+a.toFixed(2)),$(".js-total-price").hasClass("hidden")&&$(".js-total-price").removeClass("hidden")):($(".js-price-range").hasClass("hidden")&&$(".js-price-range").removeClass("hidden"),$(".js-total-price").hasClass("hidden")||$(".js-total-price").addClass("hidden")),t&&window.monthly_price>0?($(".js-request-installments").hasClass("hidden")&&$(".js-request-installments").removeClass("hidden"),n=e*window.monthly_price,i="Or 5 monthly payments of $"+n.toFixed(2),$(".js-order-monthly-price").html(i)):$(".js-request-installments").hasClass("hidden")?void 0:$(".js-request-installments").addClass("hidden")}},window.load_product_options=e,e()})}.call(this),function(){jQuery(function(){return $("#selected_order").prop("disabled",!0),$("#order_type_new_order").on("change",function(){return $("#selected_order").prop("disabled",!0),$(".selected-order-form").hasClass("hidden")?void 0:$(".selected-order-form").addClass("hidden")}),$("#order_type_created_order").on("change",function(){return $("#selected_order").prop("disabled",!1),$(".selected-order-form").hasClass("hidden")?$(".selected-order-form").removeClass("hidden"):void 0})})}.call(this),function(){var e,t,i;$(".order_line_item_variant_id").on("change",function(){i=$(this).data("line-item-id"),t=this.value,e=$(this).data("order-number"),$.ajax({type:"get",url:"/orders/"+e+"/update_departure_date",data:{line_item_id:i,variant_id:t},success:function(){location.reload()}})})}(),function(){var e=this;(function(){(function(){var e=[].slice;this.LocalTime={config:{},run:function(){return this.getController().processElements()},process:function(){var t,i,n,a;for(i=1<=arguments.length?e.call(arguments,0):[],n=0,a=i.length;a>n;n++)t=i[n],this.getController().processElement(t);return i.length},getController:function(){return null!=this.controller?this.controller:this.controller=new t.Controller}}}).call(this)}).call(e);var t=e.LocalTime;(function(){(function(){t.config.i18n={en:{date:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yesterday:"yesterday",today:"today",tomorrow:"tomorrow",on:"on {date}",formats:{"default":"%b %e, %Y",thisYear:"%b %e"}},time:{am:"am",pm:"pm",singular:"a {time}",singularAn:"an {time}",elapsed:"{time} ago",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",formats:{"default":"%l:%M%P"}},datetime:{at:"{date} at {time}",formats:{"default":"%B %e, %Y at %l:%M%P %Z"}}}}}).call(this),function(){t.config.locale="en",t.config.defaultLocale="en"}.call(this),function(){t.config.timerInterval=6e4}.call(this),function(){var e,i,n;n=!isNaN(Date.parse("2011-01-01T12:00:00-05:00")),t.parseDate=function(e){return e=e.toString(),n||(e=i(e)),new Date(Date.parse(e))},e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,i=function(t){var i,n,a,s,o,r,l,c,u;return(a=t.match(e))?(a[0],c=a[1],o=a[2],i=a[3],n=a[4],s=a[5],l=a[6],u=a[7],"Z"!==u&&(r=u.replace(":","")),c+"/"+o+"/"+i+" "+n+":"+s+":"+l+" GMT"+[r]):void 0}}.call(this),function(){t.elementMatchesSelector=function(){var e,t,i,n,a,s;return e=document.documentElement,t=null!=(i=null!=(n=null!=(a=null!=(s=e.matches)?s:e.matchesSelector)?a:e.webkitMatchesSelector)?n:e.mozMatchesSelector)?i:e.msMatchesSelector,function(e,i){return(null!=e?e.nodeType:void 0)===Node.ELEMENT_NODE?t.call(e,i):void 0}}()}.call(this),function(){var e,i,n;e=t.config,n=e.i18n,t.getI18nValue=function(a,s){var o,r;return null==a&&(a=""),o=(null!=s?s:{locale:e.locale}).locale,r=i(n[o],a),null!=r?r:o!==e.defaultLocale?t.getI18nValue(a,{locale:e.defaultLocale}):void 0},t.translate=function(e,i,n){var a,s,o;null==i&&(i={}),o=t.getI18nValue(e,n);for(a in i)s=i[a],o=o.replace("{"+a+"}",s);return o},i=function(e,t){var i,n,a,s,o;for(o=e,s=t.split("."),i=0,a=s.length;a>i;i++){if(n=s[i],null==o[n])return null;o=o[n]}return o}}.call(this),function(){var e,i,n,a,s;e=t.getI18nValue,s=t.translate,t.strftime=a=function(t,o){var r,l,c,u,d,h,p;return l=t.getDay(),r=t.getDate(),d=t.getMonth(),p=t.getFullYear(),c=t.getHours(),u=t.getMinutes(),h=t.getSeconds(),o.replace(/%([%aAbBcdeHIlmMpPSwyYZ])/g,function(o){switch(o[0],o[1]){case"%":return"%";case"a":return e("date.abbrDayNames")[l];case"A":return e("date.dayNames")[l];case"b":return e("date.abbrMonthNames")[d];case"B":return e("date.monthNames")[d];case"c":return t.toString();case"d":return i(r);case"e":return r;case"H":return i(c);case"I":return i(a(t,"%l"));case"l":return 0===c||12===c?12:(c+12)%12;case"m":return i(d+1);case"M":return i(u);case"p":return s("time."+(c>11?"pm":"am")).toUpperCase();case"P":return s("time."+(c>11?"pm":"am"));case"S":return i(h);case"w":return l;case"y":return i(p%100);case"Y":return p;case"Z":return n(t)}})},i=function(e){return("0"+e).slice(-2)},n=function(e){var t,i,n,a,s;return s=e.toString(),(t=null!=(i=s.match(/\(([\w\s]+)\)$/))?i[1]:void 0)?/\s/.test(t)?t.match(/\b(\w)/g).join(""):t:(t=null!=(n=s.match(/(\w{3,4})\s\d{4}$/))?n[1]:void 0)?t:(t=null!=(a=s.match(/(UTC[\+\-]\d+)/))?a[1]:void 0)?t:""}}.call(this),function(){t.CalendarDate=function(){function e(e,t,i){this.date=new Date(Date.UTC(e,t-1)),this.date.setUTCDate(i),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return e.fromDate=function(e){return new this(e.getFullYear(),e.getMonth()+1,e.getDate())},e.today=function(){return this.fromDate(new Date)},e.prototype.equals=function(e){return(null!=e?e.value:void 0)===this.value},e.prototype.is=function(e){return this.equals(e)},e.prototype.isToday=function(){return this.is(this.constructor.today())},e.prototype.occursOnSameYearAs=function(e){return this.year===(null!=e?e.year:void 0)},e.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},e.prototype.daysSince=function(e){return e?(this.date-e.date)/864e5:void 0},e.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},e}()}.call(this),function(){var e,i,n;i=t.strftime,n=t.translate,e=t.getI18nValue,t.RelativeTime=function(){function a(e){this.date=e,this.calendarDate=t.CalendarDate.fromDate(this.date)}return a.prototype.toString=function(){var e,t;return(t=this.toTimeElapsedString())?n("time.elapsed",{time:t}):(e=this.toWeekdayString())?(t=this.toTimeString(),n("datetime.at",{date:e,time:t})):n("date.on",{date:this.toDateString()})},a.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.toTimeString():this.toDateString()},a.prototype.toTimeElapsedString=function(){var e,t,i,a,s;return i=(new Date).getTime()-this.date.getTime(),a=Math.round(i/1e3),t=Math.round(a/60),e=Math.round(t/60),0>i?null:10>a?(s=n("time.second"),n("time.singular",{time:s})):45>a?a+" "+n("time.seconds"):90>a?(s=n("time.minute"),n("time.singular",{time:s})):45>t?t+" "+n("time.minutes"):90>t?(s=n("time.hour"),n("time.singularAn",{time:s})):24>e?e+" "+n("time.hours"):""},a.prototype.toWeekdayString=function(){switch(this.calendarDate.daysPassed()){case 0:return n("date.today");case 1:return n("date.yesterday");case-1:return n("date.tomorrow");case 2:case 3:case 4:case 5:case 6:return i(this.date,"%A");default:return""}},a.prototype.toDateString=function(){var t;return t=e(this.calendarDate.occursThisYear()?"date.formats.thisYear":"date.formats.default"),i(this.date,t)},a.prototype.toTimeString=function(){return i(this.date,e("time.formats.default"))},a}()}.call(this),function(){var e,i=function(e,t){return function(){return e.apply(t,arguments);
}};e=t.elementMatchesSelector,t.PageObserver=function(){function t(e,t){this.selector=e,this.callback=t,this.processInsertion=i(this.processInsertion,this),this.processMutations=i(this.processMutations,this)}return t.prototype.start=function(){return this.started?void 0:(this.observeWithMutationObserver()||this.observeWithMutationEvent(),this.started=!0)},t.prototype.observeWithMutationObserver=function(){var e;return"undefined"!=typeof MutationObserver&&null!==MutationObserver?(e=new MutationObserver(this.processMutations),e.observe(document.documentElement,{childList:!0,subtree:!0}),!0):void 0},t.prototype.observeWithMutationEvent=function(){return addEventListener("DOMNodeInserted",this.processInsertion,!1),!0},t.prototype.findSignificantElements=function(t){var i;return i=[],(null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&(e(t,this.selector)&&i.push(t),i.push.apply(i,t.querySelectorAll(this.selector))),i},t.prototype.processMutations=function(e){var t,i,n,a,s,o,r,l;for(t=[],i=0,a=e.length;a>i;i++)switch(o=e[i],o.type){case"childList":for(l=o.addedNodes,n=0,s=l.length;s>n;n++)r=l[n],t.push.apply(t,this.findSignificantElements(r))}return this.notify(t)},t.prototype.processInsertion=function(e){var t;return t=this.findSignificantElements(e.target),this.notify(t)},t.prototype.notify=function(e){return(null!=e?e.length:void 0)&&"function"==typeof this.callback?this.callback(e):void 0},t}()}.call(this),function(){var e,i,n,a,s=function(e,t){return function(){return e.apply(t,arguments)}};n=t.parseDate,a=t.strftime,i=t.getI18nValue,e=t.config,t.Controller=function(){function o(){this.processElements=s(this.processElements,this),this.pageObserver=new t.PageObserver(r,this.processElements)}var r,l,c;return r="time[data-local]:not([data-localized])",o.prototype.start=function(){return this.started?void 0:(this.processElements(),this.startTimer(),this.pageObserver.start(),this.started=!0)},o.prototype.startTimer=function(){var t;return(t=e.timerInterval)?null!=this.timer?this.timer:this.timer=setInterval(this.processElements,t):void 0},o.prototype.processElements=function(e){var t,i,n;for(null==e&&(e=document.querySelectorAll(r)),i=0,n=e.length;n>i;i++)t=e[i],this.processElement(t);return e.length},o.prototype.processElement=function(e){var t,s,o,r,u;return t=e.getAttribute("datetime"),s=e.getAttribute("data-format"),o=e.getAttribute("data-local"),r=n(t),isNaN(r)?void 0:(e.hasAttribute("title")||(u=a(r,i("datetime.formats.default")),e.setAttribute("title",u)),e.textContent=function(){switch(o){case"time":return l(e),a(r,s);case"date":return l(e),c(r).toDateString();case"time-ago":return c(r).toString();case"time-or-date":return c(r).toTimeOrDateString();case"weekday":return c(r).toWeekdayString();case"weekday-or-date":return c(r).toWeekdayString()||c(r).toDateString()}}())},l=function(e){return e.setAttribute("data-localized","")},c=function(e){return new t.RelativeTime(e)},o}()}.call(this),function(){var e,i,n,a;a=!1,e=function(){return document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState},i=function(e){var t;return null!=(t="function"==typeof requestAnimationFrame?requestAnimationFrame(e):void 0)?t:setTimeout(e,17)},n=function(){var e;return e=t.getController(),e.start()},t.start=function(){return a?void 0:(a=!0,"undefined"!=typeof MutationObserver&&null!==MutationObserver||e()?n():i(n))},window.LocalTime===t&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this);